!function(){function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}return e}()({1:[function(e,t,n){"use strict";var i=e(6),r=e(7),s=e(10),o=e(35).EventEmitterMicro,a=o.prototype,c=e(14),u=e(16),l=[c.BUSY,c.CHECKED,c.DISABLED,c.EXPANDED,c.HIDDEN,c.INVALID,c.PRESSED,c.SELECTED],h=function(e,t){o.call(this),this._options=t||{},this._selector=t.selector||".navitem",this._allowMultiSelection=t.multiSelection||!1;var n=l.indexOf(t.state)>-1?t.state:c.SELECTED;this.el=e,this._navItems=e.querySelectorAll(this._selector),this._navItems=Array.prototype.slice.call(this._navItems),this._state=n,this._navKeys={},this.selectOption=this.selectOption.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._setup()};h.ONSELECT="onSelect",h.ONFOCUS="onFocus";var d=h.prototype=Object.create(a);d._setup=function(){for(var e=[u.ARROW_DOWN,u.ARROW_RIGHT],t=[u.ARROW_UP,u.ARROW_LEFT],n=[u.ENTER,u.SPACEBAR],i=0;i<e.length;i++)this.addNavkey(e[i],this._arrowDown.bind(this,!0)),this.addNavkey(t[i],this._arrowDown.bind(this,null)),this.addNavkey(n[i],this.selectOption);this._setupNavItems()},d._setupNavItems=function(){if(this._navItems.length){for(var e=0;e<this._navItems.length;e++)this._setTabbingByIndex(e);void 0!==this.focusedNavItemIndex&&void 0!==this.selectedNavitemIndex||this.setSelectedItemByIndex(0,!0)}},d._setTabbingByIndex=function(e){var t=this._navItems[e],n=s(t.getAttribute(this._state));n&&(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e);var o=s(t.getAttribute(c.DISABLED));o?i(t):r(t)},d.start=function(){this._navItems.length<1||(this.el.addEventListener("keydown",this._handleKeyDown),this.el.addEventListener("click",this.selectOption))},d.stop=function(){this.el.removeEventListener("keydown",this._handleKeyDown),this.el.removeEventListener("click",this.selectOption)},d._handleKeyDown=function(e){return!!(e.ctrlKey||e.altKey||e.metaKey)||void(this._navKeys[e.keyCode]&&this._navKeys[e.keyCode](e))},d._arrowDown=function(e,t,n){t.preventDefault(),this.previousNavItemIndex=this.focusedNavItemIndex,this.focusedNavItemIndex=this._calculateIndex(e,this.focusedNavItemIndex),this._navItems[this.focusedNavItemIndex].focus(),n||this.trigger(h.ONFOCUS,{event:t,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.selectOption=function(e,t){e.preventDefault();var n=this._navItems.indexOf(document.activeElement);n>-1&&document.activeElement!==this._navItems[this.focusedNavItemIndex]&&(this.focusedNavItemIndex=n),this._allowMultiSelection?this._toggleState():(this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")),this.selectedNavitemIndex=this.focusedNavItemIndex,t||this.trigger(h.ONSELECT,{event:e,index:this.selectedNavitemIndex,el:this._navItems[this.selectedNavitemIndex]})},d._toggleState=function(){var e=this._navItems[this.focusedNavItemIndex].getAttribute(this._state);s(e)?this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"false"):this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")},d._calculateIndex=function(e,t){var n=t;if(e===!0){if(n++,n=n>=this._navItems.length?0:n,!s(this._navItems[n].getAttribute(c.DISABLED))||this._navItems[n].hasAttribute("disabled"))return n}else if(n--,n=n<0?this._navItems.length-1:n,!s(this._navItems[n].getAttribute(c.DISABLED))||this._navItems[n].hasAttribute("disabled"))return n;return this._calculateIndex(e,n)},d.updateNavItems=function(){var e=this.el.querySelectorAll(this._selector);this._navItems=Array.prototype.slice.call(e)},d.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(s(e.getAttribute(c.DISABLED))||r(e),this._navItems.push(e))},d.setSelectedItemByIndex=function(e,t){this._allowMultiSelection||isNaN(this.selectedNavitemIndex)||this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"true"),t||this.trigger(h.ONSELECT,{event:null,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.getSelectedItem=function(){return this._navItems[this.selectedNavitemIndex]},d.getFocusedItem=function(e){return this._navItems[this.focusedNavItemIndex]},d.addNavkey=function(e,t){"function"==typeof t&&"number"==typeof e?this._navKeys[e]=t:console.warn("incorrect types arguments were passed")},d.removeNavkey=function(e){delete this._navKeys[e]},d.destroy=function(){a.destroy.call(this),this.stop(),this.el=null,this._options=null,this._selector=null,this.focusedNavItemIndex=null,this.selectedNavitemIndex=null,this._navItems=null,this._state=null,this.selectOption=null,this._handleKeyDown=null;for(var e in this._navKeys)this._navKeys.hasOwnProperty(e)&&this.removeNavkey(e);this._navKeys=null},t.exports=h},{10:10,14:14,16:16,35:35,6:6,7:7}],2:[function(e,t,n){"use strict";var i=e(5),r=e(9),s=e(13),o=function(e,t){t=t||{},this._tabbables=null,this._excludeHidden=t.excludeHidden,this._firstTabbableElement=t.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=e,this._handleOnFocus=this._handleOnFocus.bind(this)},a=o.prototype;a.start=function(){this.updateTabbables(),r(this.el,null,this._excludeHidden),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){s(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=i.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(e){if(this.el.contains(e.target))this._relatedTarget=e.target;else{if(e.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=o},{13:13,5:5,9:9}],3:[function(e,t,n){"use strict";var i=e(14),r=e(17),s=e(7),o=e(6),a=e(10),c=e(1),u=c.prototype,l=function(e,t){t=t||{},c.call(this,e,{selector:t.selector||"*[role="+r.OPTION+"]",state:t.state||i.SELECTED})},h=l.prototype=Object.create(u);h._setTabbingByIndex=function(e){var t=this._navItems[e];a(t.getAttribute(this._state))?(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._enableElement(t)):this._disableElement(t)},h.setSelectedItemByIndex=function(e,t){isNaN(this.selectedNavitemIndex)||this._disableElement(this._navItems[this.selectedNavitemIndex]),u.setSelectedItemByIndex.call(this,e,t),this._enableElement(this._navItems[this.selectedNavitemIndex])},h.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(a(e.getAttribute(i.DISABLED))||this._disableElement(e),this._navItems.push(e))},h._arrowDown=function(e,t){u._arrowDown.call(this,e,t,!0),this.selectOption(t)},h._enableElement=function(e){s(e),e.setAttribute(this._state,"true")},h._disableElement=function(e){o(e),e.setAttribute(this._state,"false")},h.selectOption=function(e){o(this._navItems[this.selectedNavitemIndex]),u.selectOption.call(this,e),s(this._navItems[this.focusedNavItemIndex])},t.exports=l},{1:1,10:10,14:14,17:17,6:6,7:7}],4:[function(e,t,n){"use strict";function i(){this._createElemnts(),this._bindEvents()}var r=i.prototype;r._bindEvents=function(){this._onResize=this._resize.bind(this)},r._createElemnts=function(){this.span=document.createElement("span");var e=this.span.style;e.visibility="hidden",e.position="absolute",e.top="0",e.bottom="0",e.zIndex="-1",this.span.innerHTML="&nbsp;",this.iframe=document.createElement("iframe");var t=this.iframe.style;t.position="absolute",t.top="0",t.left="0",t.width="100%",t.height="100%",this.span.appendChild(this.iframe),document.body.appendChild(this.span)},r.detect=function(e){this.originalSize=e||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},r._resize=function(e){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},r.getScale=function(){return this.currentSize/this.originalSize},r.remove=function(){this.isDetecting&&(this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},r.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null},t.exports=new i},{}],5:[function(e,t,n){"use strict";var i=e(15),r=function(){this.focusableSelectors=i.selectors},s=r.prototype;s.isFocusableElement=function(e,t,n){if(t&&!this._isDisplayed(e))return!1;var r=i.nodeName[e.nodeName];return r?!e.disabled:!e.contentEditable||(n=n||parseFloat(e.getAttribute("tabindex")),!isNaN(n))},s.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var n=e.getAttribute("tabindex");return n=parseFloat(n),isNaN(n)?this.isFocusableElement(e,t,n):n>=0},s._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},s.getTabbableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isTabbableElement(n[s],t)&&r.push(n[s]);return r},s.getFocusableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isFocusableElement(n[s],t)&&r.push(n[s]);return r},t.exports=new r},{15:15}],6:[function(e,t,n){"use strict";t.exports=function(e){e.setAttribute("tabindex","-1")}},{}],7:[function(e,t,n){"use strict";var i=e(5),r=function(e){i.isTabbableElement(e)||e.setAttribute("tabindex","0")};t.exports=function(e){e instanceof Node?r(e):e.forEach(function(e){r(e)})}},{5:5}],8:[function(e,t,n){"use strict";var i=e(14),r=e(5),s="data-original-",o="tabindex",a=function(e,t){var n=e.getAttribute(s+t);n||(n=e.getAttribute(t)||"",e.setAttribute(s+t,n))};t.exports=function(e,t){if(r.isFocusableElement(e,t))a(e,o),e.setAttribute(o,"-1");else for(var n=r.getTabbableElements(e,t),s=n.length;s--;)a(n[s],o),n[s].setAttribute(o,"-1");a(e,i.HIDDEN),e.setAttribute(i.HIDDEN,"true")}},{14:14,5:5}],9:[function(e,t,n){"use strict";var i=e(8);t.exports=function r(e,t,n){t=t||document.body;for(var s=e,o=e;s=s.previousElementSibling;)i(s,n);for(;o=o.nextElementSibling;)i(o,n);e.parentElement&&e.parentElement!==t&&r(e.parentElement,t,n)}},{8:8}],10:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e?(e=e.toLowerCase(),"true"===e):e}},{}],11:[function(e,t,n){"use strict";var i=function(e,t){var n;n=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),n.forEach(function(e){t.forEach(function(t){e.removeAttribute(t)})})};t.exports=i},{}],12:[function(e,t,n){"use strict";var i=e(11),r=e(14),s="data-original-",o="tabindex",a=function(e,t){var n=e.getAttribute(s+t);null!==n&&(""===n?i(e,t):e.setAttribute(t,n),i(e,s+t))};t.exports=function(e){a(e,o),a(e,r.HIDDEN);for(var t=e.querySelectorAll("[".concat(s+o,"]")),n=t.length;n--;)a(t[n],o)}},{11:11,14:14}],13:[function(e,t,n){"use strict";var i=e(12);t.exports=function r(e,t){t=t||document.body;for(var n=e,s=e;n=n.previousElementSibling;)i(n);for(;s=s.nextElementSibling;)i(s);e.parentElement&&e.parentElement!==t&&r(e.parentElement,t)}},{12:12}],14:[function(e,t,n){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],15:[function(e,t,n){"use strict";var i=["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"];t.exports={selectors:i.join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],16:[function(e,t,n){"use strict";t.exports=e(71)},{71:71}],17:[function(e,t,n){"use strict";t.exports={ALERT:"alert",ALERTDIALOG:"alertdialog",BUTTON:"button",CHECKBOX:"checkbox",DIALOG:"dialog",GRIDCELL:"gridcell",LINK:"link",LOG:"log",MARQUEE:"marquee",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",OPTION:"option",PROGRESSBAR:"progressbar",RADIO:"radio",SCROLLBAR:"scrollbar",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",SWITCH:"switch",TAB:"tab",TABPANEL:"tabpanel",TEXTBOX:"textbox",TIMER:"timer",TOOLTIP:"tooltip",TREEITEM:"treeitem",COMBOBOX:"combobox",GRID:"grid",LISTBOX:"listbox",MENU:"menu",MENUBAR:"menubar",RADIOGROUP:"radiogroup",TABLIST:"tablist",TREE:"tree",TREEGRID:"treegrid",ARTICLE:"article",COLUMNHEADER:"columnheader",DEFINITION:"definition",DIRECTORY:"directory",DOCUMENT:"document",GROUP:"group",HEADING:"heading",IMG:"img",LIST:"list",LISTITEM:"listitem",MATH:"math",NOTE:"note",PRESENTATION:"presentation",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SEPARATOR:"separator",TOOLBAR:"toolbar",APPLICATION:"application",BANNER:"banner",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",FORM:"form",MAIN:"main",NAVIGATION:"navigation",SEARCH:"search"}},{}],18:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e(19);t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.add)return void n.classList.add.apply(n.classList,t);for(e=0;e<t.length;e++)i(n,t[e])}},{19:19,undefined:void 0}],19:[function(e,t,n){"use strict";var i=e(20);t.exports=function(e,t){i(e,t)||(e.className+=" "+t)}},{20:20}],20:[function(e,t,n){"use strict";var i=e(21);t.exports=function(e,t){return i(t).test(e.className)}},{21:21}],21:[function(e,t,n){"use strict";t.exports=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")}},{}],22:[function(e,t,n){"use strict";var i=e(20),r=e(21);t.exports=function(e,t){i(e,t)&&(e.className=e.className.replace(r(t),"$1").trim())}},{20:20,21:21}],23:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e(22);t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.remove)return void n.classList.remove.apply(n.classList,t);for(e=0;e<t.length;e++)i(n,t[e])}},{22:22,undefined:void 0}],24:[function(e,t,n){"use strict";var i=e(28),r=e(26);t.exports=function(e,t,n,s){return t=r(e,t),i(e,t,n,s)}},{26:26,28:28}],25:[function(e,t,n){"use strict";var i=e(29),r=e(26);t.exports=function(e,t,n,s){return t=r(e,t),i(e,t,n,s)}},{26:26,29:29}],26:[function(e,t,n){"use strict";var i=e(93);t.exports=function(e,t){var n,r;return n="tagName"in e?e.tagName:e===window?"window":"document",r=i(t,n),r?r:t}},{93:93}],27:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.event,"undefined"!=typeof e.target?e.target:e.srcElement}},{}],28:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),e}},{}],29:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n),e}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageXOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollLeft}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageYOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollTop}},{}],32:[function(e,t,n){"use strict";t.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},{}],33:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],34:[function(e,t,n){"use strict";var i=e(33);t.exports=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:!!Array.isArray(t)&&t.indexOf(e.nodeType)!==-1)}},{33:33}],35:[function(e,t,n){"use strict";t.exports={EventEmitterMicro:e(36)}},{36:36}],36:[function(e,t,n){"use strict";function i(){this._events={}}var r=i.prototype;r.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},r.once=function(e,t){function n(r){i.off(e,n),void 0!==r?t(r):t()}var i=this;this.on(e,n)},r.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var n=this._events[e].indexOf(t);n!==-1&&this._events[e].splice(n,1)}},r.trigger=function(e,t){if(this.has(e))for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()},r.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},r.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},t.exports=i},{}],37:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(48)),u=i(e(54)),l=e(39),h=e(38),d=e(35),f=d.EventEmitterMicro,p=function(e){function t(e,n,i){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;return(0,r["default"])(this,t),s=(0,o["default"])(this,(0,a["default"])(t).call(this)),i=i||document.createElement("canvas"),s.glCanvas=new l(i),s.imageLoadConcurrency=d,s.colorFlow=new h(e.url,s.glCanvas,e.fps,e.extension,u,d),s.maskFlow=new h(n.url,s.glCanvas,n.fps,n.extension,u,d),Object.defineProperties((0,c["default"])(s),{hasLoadedChapterFrames:{get:function(){return this.colorFlow.hasLoadedChapterFrames&&this.maskFlow.hasLoadedChapterFrames}},hasLoadedSuperFrames:{get:function(){return this.colorFlow.hasLoadedSuperFrames&&this.maskFlow.hasLoadedSuperFrames}},hasFullyLoaded:{get:function(){return this.colorFlow.hasFullyLoaded&&this.maskFlow.hasFullyLoaded}},isManifestReady:{get:function(){return this.colorFlow.isManifestReady&&this.maskFlow.isManifestReady}}}),s._progress=0,s}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"startLoading",value:function(){var e=this;if(this._hasInitializedLoadEvents)return void[this.colorFlow,this.maskFlow].forEach(function(e){e.startLoading()});this._hasInitializedLoadEvents=!0;[this.colorFlow,this.maskFlow].map(function(t){t.once(h.Events.ManifestReady,function(t){e.isManifestReady&&(e.glCanvas.modifyPoolSize(e.colorFlow.manifest.frameCount+e.maskFlow.manifest.frameCount),e.trigger(h.Events.ManifestReady))}),t.once(h.Events.ChapterFramesLoaded,function(){e.hasLoadedChapterFrames&&e.trigger(h.Events.ChapterFramesLoaded)}),t.once(h.Events.SuperFramesLoaded,function(){e.hasLoadedSuperFrames&&e.trigger(h.Events.SuperFramesLoaded)}),t.startLoading()});return new Promise(function(t,n){e.once(h.Events.ChapterFramesLoaded,function(){return 0===e.colorFlow.chapterFrames.length?void e.once(h.Events.SuperFramesLoaded,function(){return t()}):void t()})}).then(function(){e.colorFlow._currentFrame=e.maskFlow._currentFrame=-1,e.progress=0})}},{key:"stopLoading",value:function(){[this.colorFlow,this.maskFlow].forEach(function(e){e.stopLoading()})}},{key:"destroy",value:function(){this.igloo&&(this.igloo.defaultFramebuffer=null,this.igloo.canvas=null,this.igloo.gl=null,this.igloo=null),this.program&&(this.program.gl=null,this.program.program=null,this.program.vars=null,this.program.uniforms=null,this.program=null),this.glCanvas.destroy(),this.glCanvas=null,[this.colorFlow,this.maskFlow].forEach(function(e){e.destroy()}),this.colorFlow=null,this.maskFlow=null}},{key:"progress",get:function(){return this._progress},set:function(e){if(this.glCanvas&&this.hasLoadedChapterFrames){var t=Math.round((this.colorFlow.manifest.frames.length-1)*e);this.hasFullyLoaded||(t=this.hasLoadedSuperFrames?this.colorFlow.getNearestSuperFrameIndex(t):this.colorFlow.getNearestChapterFrameIndex(t)),this._progress=e;var n=this.colorFlow._currentFrame,i=this.maskFlow._currentFrame;this.glCanvas.drawToFBO(0),this.colorFlow.goToFrame(t,"colorFlow"),this.glCanvas.drawToFBO(1),this.maskFlow.goToFrame(t,"maskFlow"),this.colorFlow._currentFrame!==n&&this.maskFlow._currentFrame!==i&&this.glCanvas.composite()}}},{key:"canvas",get:function(){return this.glCanvas.canvas}}]),t}(f);t.exports=p},{35:35,38:38,39:39,48:48,49:49,51:51,53:53,54:54,55:55,58:58}],38:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(48)),c=i(e(53)),u=i(e(52)),l=i(e(54)),h=e(39),d=e(63),f=e(35),p=f.EventEmitterMicro,m=e(178),y=e(46),v=function(e){function t(e,n){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpg",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4;return(0,r["default"])(this,t),i=(0,o["default"])(this,(0,c["default"])(t).call(this)),i.destroyed=!1,n instanceof HTMLCanvasElement&&(n=new h(n)),i.glCanvas=n,i.canvasElement=n.canvas,i.fps=s,i.filetype=u,i.workerUrl=l,i.hurriedThreshold=d,i.imageLoadConcurrency=f,i._createManifestPath(e),i.hasLoadedChapterFrames=!1,i.hasLoadedSuperFrames=!1,i.hasFullyLoaded=!1,i.isManifestReady=!1,i.cachedImages={},i._progress=0,i._currentFrame=0,Object.defineProperty((0,a["default"])(i),"progress",{get:function(){return this._progress},set:function(e){if(this._progress=e,this.hasLoadedChapterFrames){var t=(this.manifest.frames.length-1)*e;t=this.getNearestLoadedFrameIndex(Math.round(t)),this.glCanvas.drawToFBO(0),this.goToFrame(t),this.glCanvas.composite()}}}),i}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"getNearestLoadedFrameIndex",value:function(e){return this.hasFullyLoaded?e:this.hasLoadedChapterFrames&&0!==this.chapterFrames.length?this.hasLoadedChapterFrames?this.getNearestChapterFrameIndex(e):this.hasLoadedSuperFrames?this.getNearestSuperFrameIndex(e):void 0:0}},{key:"getNearestChapterFrameIndex",value:function(e){for(var t=0,n=0;n<this.chapterFrames.length&&!(this.chapterFrames[n]>e);n++)t=this.chapterFrames[n];return t}},{key:"getNearestSuperFrameIndex",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i=0;i<this.superFrames.length&&!(this.superFrames[i]>e);i++)n=this.superFrames[i];if(t){var r=this.getNearestChapterFrameIndex(e);if(Math.abs(r-e)<4)return r}return n}},{key:"_loadImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.imageLoadQueue||(this.imageLoadQueue=new y(this.imageLoadConcurrency)),this.imageLoadQueue.enqueueImage(e,t).then(function(e){return e})}},{key:"_loadJSON",value:function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4!==i.readyState||200!==i.status&&0!==i.status)4===i.readyState&&n("Invalid HTTP state of ".concat(i.status));else try{t({data:JSON.parse(i.responseText)})}catch(e){n(e)}},i.open("GET",e),i.send()})}},{key:"_loadImageForFrame",value:function(e){var t=this,n=this.manifest.frames[e];if(n.image)return n.image;var i=3;"chapter"===n.type?i=1:e%4===0&&(i=2);var r,s=function(e){for(var t=""+e;t.length<3;)t="0"+t;return t};if("diff"===n.type)r="".concat(this.baseUrl,"/").concat(this.baseFilename,"_").concat(s(n.startImageIndex+1),".").concat(this.filetype);else{if("chapter"!==n.type&&"keyframe"!==n.type)throw"Unknown frame type.";r="".concat(this.baseUrl,"/").concat(this.baseFilename,"_key_").concat(s(e-1),".").concat(this.filetype)}return this._loadImage(r,i).then(function(r){return e>1&&i<3&&t._currentFrame<1&&t.glCanvas.preWarmPoolForImage(r),n.image=r,n.image})}},{key:"_createManifestPath",value:function(e){this.manifestUrl=e;var t=e.match(/^(.+)\/([^\/]+)_manifest.json$/);d(t,"Invalid manifest URL."),this.baseUrl=t[1],this.baseFilename=t[2]}},{key:"startLoading",value:function(){var e=this;if(!this.manifest){var n="".concat(this.baseUrl,"/").concat(this.baseFilename,"_startframe.").concat(this.filetype),i=this._loadJSON(this.manifestUrl),r=this._loadImage(n,1),s=null,o=this.workerUrl?new Worker(this.workerUrl):null;return this.imageLoadQueue.start(),Promise.all([i,r]).then(function(t){if(!e.destroyed){var n=t[0];return s=t[1],e.glCanvas.resizeCanvas(s.width,s.height),e._bitsetForNAND=new m(s.width/8),e._bitsetForNAND.setRange(0,s.width/8-1),n.data.frames.splice(0,0,{type:"keyframe",x:0,y:0,width:s.width,height:s.height,filename:"".concat(e.baseFilename,"_startframe.").concat(e.filetype)}),o?new Promise(function(t,i){o.onmessage=function(i){for(var r=i.data,s=0;s<r.length;s++)"diff"===r[s].type&&(n.data.frames[s].rowMasks=r[s].rowMasks.map(function(e){return new m(e)}),n.data.frames[s].rowDiffLocations=r[s].rowDiffLocations);e.manifest=n.data,t()},o.postMessage([n.data,e.canvasElement.width,e.canvasElement.height])}):void e._processManifest(n.data)}}).then(function(){if(e.glCanvas.modifyPoolSize(e.manifest.frameCount),e.isManifestReady=!0,e.trigger(t.Events.ManifestReady),e.manifest.frames[0].image=s,e.glCanvas.drawToFBO(0),e._applyFrame(0),e.glCanvas.composite(),e.chapterFrames=e.manifest.frames.filter(function(e){return"chapter"===e.type}).map(function(t){return e.manifest.frames.indexOf(t)}),e.chapterFrames.length>0){var n=[];return e.chapterFrames.forEach(function(t){n.push(e._loadImageForFrame(t))}),Promise.all(n)}}).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.destroyed){e.chapters=n,e.hasLoadedChapterFrames=!0,e.trigger(t.Events.ChapterFramesLoaded);var i=[];e.superFrames=[];for(var r=4;r<e.manifest.frames.length;r+=4)i.push(e._loadImageForFrame(r)),e.superFrames.push(r);return Promise.all(i)}}).then(function(){if(!e.destroyed){e.hasLoadedSuperFrames=!0,e.trigger(t.Events.SuperFramesLoaded);for(var n=[],i=1;i<e.manifest.frames.length;i++)i%4!=0&&n.push(e._loadImageForFrame(i));return Promise.all(n).then(function(){return e.destroyed?Promise.reject("destroyed"):(e.hasFullyLoaded=!0,void e.trigger(t.Events.Loaded))})}})}this.imageLoadQueue.start()}},{key:"stopLoading",value:function(){this.imageLoadQueue.stop()}},{key:"goToFrame",value:function(e){var n=e;d(n>=0&&n<this.manifest.frames.length,"Frame out of range.");var i=[],r=n>this._currentFrame?1:-1,s=!1,o=null,a=Math.abs(this._currentFrame-n)>=this.hurriedThreshold;if(a&&(n=this.getNearestSuperFrameIndex(n)),n!==this._currentFrame){for(var c=this._currentFrame+r;n>this._currentFrame&&c<=n||n<this._currentFrame&&c>=n;c+=r){if(s)if(c%4===0)s=!1;else{if(!(this.manifest.frames[c].image&&["chapter","keyframe"].indexOf(this.manifest.frames[c].type)>=0))continue;s=!1}if(this.manifest.frames[c].image)["chapter","keyframe"].indexOf(this.manifest.frames[c].type)>=0?(i=[c],o=c):(c%4===0&&c<this.manifest.frames.length-4&&!function(){var e=c-4*r,t=Math.min(e,c),n=Math.max(e,c);i=i.filter(function(e){return e<=t||e>=n}),o&&i.indexOf(e)<0&&i.push(o),o=null}(),i.push(c));else{for(;i.length>0&&i[i.length-1]%4>0;)i.pop();s=!0}}for(var u=i.length;i.length>0;){var l=i.shift();this._applyFrame(l,i),this._currentFrame=l}u>0&&this.trigger(t.Events.TimeUpdate,this)}}},{key:"_processManifest",value:function(e){var t=this;d(e&&5===e.version,"Invalid manifest. Manifest must be version 5. Please select the Optimize for Anim checkbox in the Flow app."),e.frames=e.frames.map(function(e){return t._parseFrame(e)}),this.manifest=e}},{key:"_valueForCharAt",value:function(e,t){var n=e.charCodeAt(t);return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:43===n?62:47===n?63:void 0}},{key:"_createNumberFromBase64Range",value:function(e,t,n){for(var i,r=0;n--;)i=this._valueForCharAt(e,t++),r+=i<<6*n;return r}},{key:"_parseFrame",value:function(e){var t=this.canvasElement.width/8,n=this.canvasElement.height/8,i=e.value,r=e.startImageIndex,s=e.startBlockIndex;if("keyframe"===e.type||"chapter"===e.type)return{type:e.type,width:e.width,height:e.height,x:e.x,y:e.y};for(var o=[],a=[],c=s,u=0;u<n;u++)o.push(new m(t)),a.push({});for(var l=0;l<i.length;l+=5)for(var h=this._createNumberFromBase64Range(i,l,3),d=this._createNumberFromBase64Range(i,l+3,2),f=h;f<h+d;f++){var p=Math.floor(f/t),y=f%t;o[p].set(y);try{a[p][""+y]=c}catch(v){}c++}return{type:"diff",startImageIndex:r,rowMasks:o,rowDiffLocations:a}}},{key:"_applyFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0?this._applyKeyframe(e):this._applyDiffFrame(e,t)}catch(n){console.log(n)}}},{key:"_applyKeyframe",value:function(e){d(e>=0&&e<this.manifest.frames.length,"Frame out of range."),d(["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0,"Invalid attempt to play a diff as a keyframe."),d(this.manifest.frames[e].image,"Attempted to play an unloaded frame."),this.glCanvas.drawImage(this.manifest.frames[e].image,0,0)}},{key:"_applyDiffFrame",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];d(e>=0&&e<this.manifest.frames.length,"Frame out of range."),d("diff"===this.manifest.frames[e].type,"Invalid attempt to play a keyframe as a diff.");for(var i=this.canvasElement.width/8,r=this.manifest.frames[e].image,s=r.width/8,o=function(o){var a=t.manifest.frames[e].rowMasks[o],c=t.manifest.frames[e].rowDiffLocations[o],u=t._rangesFromRowMask(a,c,o,i,s);if(u.length<1)return"continue";for(var l=n.map(function(e){return t.manifest.frames[e].rowMasks[o]}),h=a;l.length>0;){var d=l.pop();h=h.and(d.xor(t._bitsetForNAND))}var f=t._rangesFromRowMask(h,c,o,i,s);f.length>u.length&&(f=u);for(var p=0;p<f.length;p++)t._applyDiffRange(f[p],r,s,i)},a=0;a<this.manifest.frames[e].rowMasks.length;a++){o(a)}}},{key:"_rangesFromRowMask",value:function(e,t,n,i,r){var s=[],o=null;if(e.isEqual(new m(i)))return[];for(var a=i,c=0;c<a;c++)if(e.get(c)){for(o={location:n*i+c,length:1,block:t[c]},"undefined"==typeof o.block;++c<a&&e.get(c);){var u=(o.block+o.length)%r;0===u?(s.push(o),
o={location:o.location+o.length,length:1,block:t[c]}):o.length++}s.push(o)}return s}},{key:"_applyDiffRange",value:function(e,t,n,i){var r=e.block,s=r%n*8,o=8*Math.floor(r/n),a=8*e.length,c=e.location%i*8,u=8*Math.floor(e.location/i);this.glCanvas.drawImage(t,s,o,a,8,c,u,a,8)}},{key:"destroy",value:function(){this.destroyed||(this.glCanvas.gl&&this.glCanvas.destroy(),this.glCanvas=null,this.manifest=null,this.cachedImages=null,this.chapterFrames=null,this.superFrames=null,this.chapters=null,this.destroyed=!0,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this))}}]),t}(p);v.Events={Loaded:"loaded",ChapterFramesLoaded:"chapterframes-loaded",SuperFramesLoaded:"superframes-loaded",ManifestReady:"manifest-ready",TimeUpdate:"timeupdate"},t.exports=v},{178:178,35:35,39:39,46:46,48:48,49:49,51:51,52:52,53:53,54:54,55:55,58:58,63:63}],39:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=e(41),a=e(40),c=e(188),u={project:e(45),image:e(44),blend:{vert:e(43),frag:e(42)}},l=c.create(),h=c.create(),d=c.create();t.exports=function(){function e(t){var n=this;(0,r["default"])(this,e),this.canvas=t,this.igloo=new a(this.canvas,{premultipliedAlpha:!0,antialias:!1,depth:!1,desynchronized:!0,powerPreference:"high-performance"}),this.gl=this.igloo.gl,this.program=this.igloo.program(u.project,u.image),this.program.uniforms={matrixLocation:this.gl.getUniformLocation(this.program.program,"u_matrix"),textureMatrixLocation:this.gl.getUniformLocation(this.program.program,"u_textureMatrix"),textureLocation:this.gl.getUniformLocation(this.program.program,"u_texture")},this.blendProgram=this.igloo.program(u.blend.vert,u.blend.frag),this.blendProgram.uniforms={matrixLocation:this.gl.getUniformLocation(this.blendProgram.program,"u_matrix"),imageLocation:this.gl.getUniformLocation(this.blendProgram.program,"imageTexture"),maskLocation:this.gl.getUniformLocation(this.blendProgram.program,"maskTexture")},this.buffers={positionBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1])),texcoordBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]))},this.framebuffers=[this.igloo.framebuffer(),this.igloo.framebuffer()],this.framebuffers[0].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.framebuffers[1].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.texturePool=new o({allocator:function(){return n.igloo.texture().blank(1,1)}})}return(0,s["default"])(e,[{key:"modifyPoolSize",value:function(e){this.texturePool.allocate(e)}},{key:"drawToFBO",value:function(e){this.framebuffers[e].attach(this.framebuffers[e].texture)}},{key:"preWarmPoolForImage",value:function(e){var t=this.texturePool.get(function(t){return t.image===e});t||(t=this.texturePool.pop(),t.set(e),t.image=e,this.texturePool.push(t))}},{key:"drawImage",value:function(e,t,n,i,r,s,o,a,u){void 0===i&&void 0===r?(s=t,o=n,t=0,n=0,a=i=e.width,u=r=e.height):void 0===s&&void 0===o&&(s=t,o=n,a=i,u=r,t=0,n=0,i=e.width,r=e.height);var f=this.igloo.gl,p=this.texturePool.get(function(t){return t.image===e});p||(p=this.texturePool.pop(),p.set(e),p.image=e),p.bind(0),this.program.use().uniformi("u_texture",0).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),c.ortho(l,0,f.canvas.width,f.canvas.height,0,-1,1),c.identity(d),c.translate(d,d,[s,o,0]),c.scale(d,d,[a,u,1]),c.multiply(d,l,d),f.uniformMatrix4fv(this.program.uniforms.matrixLocation,!1,d),c.identity(h),c.translate(h,h,[t/e.width,n/e.height,0]),c.scale(h,h,[i/e.width,r/e.height,1]),f.uniformMatrix4fv(this.program.uniforms.textureMatrixLocation,!1,h),f.drawArrays(f.TRIANGLES,0,6),this.texturePool.push(p)}},{key:"composite",value:function(){var e=this.igloo.gl;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.framebuffers[0].texture.bind(1),this.framebuffers[1].texture.bind(2),this.blendProgram.use().uniformi("imageTexture",1).uniformi("maskTexture",2).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),c.ortho(l,0,e.canvas.width,0,e.canvas.height,-1,1),c.scale(l,l,[e.canvas.width,e.canvas.height,1]),e.uniformMatrix4fv(this.blendProgram.uniforms.matrixLocation,!1,l),e.drawArrays(e.TRIANGLES,0,6)}},{key:"resizeCanvas",value:function(e,t){var n=this;this.canvas.width=e,this.canvas.height=t,[0,1].forEach(function(e){n.framebuffers[e].texture.blank(n.canvas.width,n.canvas.height),n.framebuffers[e].texture.width=n.canvas.width,n.framebuffers[e].texture.height=n.canvas.height}),this.gl.viewport(0,0,e,t),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"destroy",value:function(){this.texturePool.destroy(),this.texturePool=null,this.canvas=null,this.gl=null,this.blendProgram=null,this.buffers=null,this.framebuffers=null}}]),e}()},{188:188,40:40,41:41,42:42,43:43,44:44,45:45,49:49,51:51,55:55}],40:[function(e,t,n){"use strict";function i(e,t){var n;e instanceof HTMLCanvasElement?(n=e,e=i.getContext(e,t)):n=e.canvas,this.gl=e,this.canvas=n,this.defaultFramebuffer=new i.Framebuffer(e,null)}i.QUAD2=new Float32Array([-1,-1,1,-1,-1,1,1,1]),i.fetch=function(e,t){var n=new XMLHttpRequest;return n.open("GET",e,Boolean(t)),null!=t&&(n.onload=function(){t(n.responseText)}),n.send(),n.responseText},i.getContext=function(e,t,n){var i;try{i=e.getContext("webgl",t||{})||e.getContext("experimental-webgl",t||{})}catch(r){i=null}if(null!=i||n)return i;throw new Error("Could not create WebGL context.")},i.looksLikeURL=function(e){return null==/\s/.exec(e)},i.isArray=function(e){var t=Object.prototype.toString.apply(e,[]),n=/ (Float(32|64)|Int(16|32|8)|Uint(16|32|8(Clamped)?))?Array]$/;return null!=n.exec(t)},i.prototype.program=function(e,t,n){return i.looksLikeURL(e)&&(e=i.fetch(e)),i.looksLikeURL(t)&&(t=i.fetch(t)),null!=n&&(e=n(e),t=n(t)),new i.Program(this.gl,e,t)},i.prototype.array=function(e,t){var n=this.gl,r=new i.Buffer(n,n.ARRAY_BUFFER);return null!=e&&r.update(e,null==t?n.STATIC_DRAW:t),r},i.prototype.elements=function(e,t){var n=this.gl,r=new i.Buffer(n,n.ELEMENT_ARRAY_BUFFER);return null!=e&&r.update(e,null==t?n.STATIC_DRAW:t),r},i.prototype.texture=function(e,t,n,r,s){var o=new i.Texture(this.gl,t,n,r,s);return null!=e&&o.set(e),o},i.prototype.framebuffer=function(e){var t=new i.Framebuffer(this.gl);return null!=e&&t.attach(e),t},i.Program=function(e,t,n){this.gl=e,this.debug=!1;var i=this.program=e.createProgram();if(e.attachShader(i,this.makeShader(e.VERTEX_SHADER,t)),e.attachShader(i,this.makeShader(e.FRAGMENT_SHADER,n)),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(i));this.vars={}},i.Program.prototype.makeShader=function(e,t){var n=this.gl,i=n.createShader(e);if(n.shaderSource(i,t),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS))return i;throw new Error(n.getShaderInfoLog(i))},i.Program.prototype.use=function(){return this.gl.useProgram(this.program),this},i.Program.prototype.uniform=function(e,t,n){if(null==t)this.vars[e]=this.gl.getUniformLocation(this.program,e);else{null==this.vars[e]&&this.uniform(e);var r=this.vars[e];if(i.isArray(t)){var s="uniform"+t.length+(n?"i":"f")+"v";this.gl[s](r,t)}else{if("number"!=typeof t&&"boolean"!=typeof t)throw new Error("Invalid uniform value: "+t);n?this.gl.uniform1i(r,t):this.gl.uniform1f(r,t)}}return this},i.Program.prototype.matrix=function(e,t,n){null==this.vars[e]&&this.uniform(e);var i="uniformMatrix"+Math.sqrt(t.length)+"fv";return this.gl[i](this.vars[e],Boolean(n),t),this},i.Program.prototype.uniformi=function(e,t){return this.uniform(e,t,!0)},i.Program.prototype.attrib=function(e,t,n,i){var r=this.gl;return null==t?this.vars[e]=r.getAttribLocation(this.program,e):(null==this.vars[e]&&this.attrib(e),t.bind(),r.enableVertexAttribArray(this.vars[e]),r.vertexAttribPointer(this.vars[e],n,r.FLOAT,!1,null==i?0:i,0)),this},i.Program.prototype.draw=function(e,t,n){var i=this.gl;if(null==n?i.drawArrays(e,0,t):i.drawElements(e,t,n,0),this.debug&&i.getError()!==i.NO_ERROR)throw new Error("WebGL rendering error");return this},i.Program.prototype.disable=function(){for(var e in this.vars){var t=this.vars[e];this.vars.hasOwnProperty(e)&&"number"==typeof t&&this.gl.disableVertexAttribArray(t)}return this},i.Buffer=function(e,t){this.gl=e,this.buffer=e.createBuffer(),this.target=null==t?e.ARRAY_BUFFER:t,this.size=-1},i.Buffer.prototype.bind=function(){return this.gl.bindBuffer(this.target,this.buffer),this},i.Buffer.prototype.update=function(e,t){var n=this.gl;return e instanceof Array&&(e=new Float32Array(e)),t=null==t?n.DYNAMIC_DRAW:t,this.bind(),this.size!==e.byteLength?(n.bufferData(this.target,e,t),this.size=e.byteLength):n.bufferSubData(this.target,0,e),this},i.Texture=function(e,t,n,i,r){this.gl=e;var s=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,s),n=null==n?e.CLAMP_TO_EDGE:n,i=null==i?e.LINEAR:i,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),this.format=null==t?e.RGBA:t,this.type=null==r?e.UNSIGNED_BYTE:r},i.Texture.prototype.bind=function(e){var t=this.gl;return null!=e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture),this},i.Texture.prototype.blank=function(e,t){var n=this.gl;return this.bind(),n.texImage2D(n.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null),this},i.Texture.prototype.set=function(e,t,n){var i=this.gl;return this.bind(),e instanceof Array&&(e=this.type==i.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=t||null!=n?i.texImage2D(i.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e):i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,e),this},i.Texture.prototype.subset=function(e,t,n,i,r){var s=this.gl;return this.bind(),e instanceof Array&&(e=this.type==s.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=i||null!=r?s.texSubImage2D(s.TEXTURE_2D,0,t,n,i,r,this.format,this.type,e):s.texSubImage2D(s.TEXTURE_2D,0,t,n,this.format,this.type,e),this},i.Texture.prototype.copy=function(e,t,n,i){var r=this.gl;return r.copyTexImage2D(r.TEXTURE_2D,0,this.format,e,t,n,i,0),this},i.Framebuffer=function(e,t){this.gl=e,this.framebuffer=2==arguments.length?t:e.createFramebuffer(),this.renderbuffer=null},i.Framebuffer.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this},i.Framebuffer.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},i.Framebuffer.prototype.attach=function(e){var t=this.gl;return this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.texture,0),this},i.Framebuffer.prototype.attachDepth=function(e,t){var n=this.gl;return this.bind(),null==this.renderbuffer&&(this.renderbuffer=n.createRenderbuffer(),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e,t),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.renderbuffer)),this},t.exports=i},{}],41:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51));t.exports=function(){function e(t){(0,r["default"])(this,e),this._objects=[],this._all=[],this.size=t.size||0,this._allocator=t.allocator,this._deallocator=t.deallocator=function(){},t.size&&this.allocate(t.size)}return(0,s["default"])(e,[{key:"allocate",value:function(e){var t=this;e<this.size&&(this._all=this._all.slice(0,e),this._objects.forEach(function(e){return t._deallocator(e)}),this._objects=[],this.size=e),this.size=e;for(var n=this._all.length;n<this.size;n++){var i=this._allocator();this._all.push(i),this._objects.push(i)}}},{key:"push",value:function(e){this._deallocator(e),this._objects.unshift(e)}},{key:"pop",value:function(){if(0===this._objects.length)throw"Object Pool ran out of objects";return this._objects.pop()}},{key:"get",value:function(e){for(var t=0;t<this._objects.length;t++)if(e(this._objects[t])){var n=this._objects[t];return this._objects.splice(t,1),n}return null}},{key:"destroy",value:function(){this._objects=null,this._all=null,this._allocator=null,this._deallocator=null}}]),e}()},{49:49,51:51,55:55}],42:[function(e,t,n){"use strict";t.exports="precision mediump float;\n\nvarying vec2 v_texcoord;\n\nuniform sampler2D maskTexture;\nuniform sampler2D imageTexture;\n\nvoid main() {\n    vec4 mask = texture2D(maskTexture, v_texcoord);\n    vec4 image = texture2D(imageTexture, v_texcoord);\n    gl_FragColor = mix(image, vec4(0.0), mask.r);\n}"},{}],43:[function(e,t,n){"use strict";t.exports="attribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = a_texcoord;\n}"},{}],44:[function(e,t,n){"use strict";t.exports="precision highp float;\n\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n}"},{}],45:[function(e,t,n){"use strict";t.exports="precision highp float;\n\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\nuniform mat4 u_textureMatrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = (u_textureMatrix * vec4(a_texcoord, 0, 1)).xy;\n}"},{}],46:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,r["default"])(this,e),this.concurrencyCount=t,this.queue=[],this.inProgressCount=0,this.isRunning=!1}return(0,s["default"])(e,[{key:"enqueueImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.queue[n]||(this.queue[n]=new Array),new Promise(function(i,r){t.queue[n].push({resolve:i,reject:r,imageUrl:e}),t._processNextQueueItem()}).then(function(){return t._loadImage(e)})}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,this._processNextQueueItem())}},{key:"stop",value:function(){this.isRunning=!1}},{key:"_loadImage",value:function(e){var t=this;return new Promise(function(n,i){var r=new Image;r.onload=function(){t.inProgressCount--,t._processNextQueueItem(),n(r)},r.onerror=function(e){t.inProgressCount--,t._processNextQueueItem(),i(e)},r.src=e})}},{key:"_processNextQueueItem",value:function(){if(!(this.inProgressCount>=this.concurrencyCount)&&this.isRunning){var e=this.queue.find(function(e){return e&&e.length>0});if(e){var t=e.shift();this.inProgressCount++,t.resolve()}}}}]),e}();t.exports=o},{49:49,51:51,55:55}],47:[function(e,t,n){function i(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}t.exports=i},{}],48:[function(e,t,n){function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=i},{}],49:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=i},{}],50:[function(e,t,n){function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function r(e,n,o){return i()?t.exports=r=Reflect.construct:t.exports=r=function(e,t,n){var i=[null];i.push.apply(i,t);var r=Function.bind.apply(e,i),o=new r;return n&&s(o,n.prototype),o},r.apply(null,arguments)}var s=e(59);t.exports=r},{59:59}],51:[function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}t.exports=r},{}],52:[function(e,t,n){function i(e,n,s){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(e,t,n){var i=r(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(n):s.value}},i(e,n,s||e)}var r=e(60);t.exports=i},{60:60}],53:[function(e,t,n){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}t.exports=i},{}],54:[function(e,t,n){function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}var r=e(59);t.exports=i},{59:59}],55:[function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}t.exports=i},{}],56:[function(e,t,n){function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.exports=i},{}],57:[function(e,t,n){function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=i},{}],58:[function(e,t,n){function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?s(e):t}var r=e(62),s=e(48);t.exports=i},{48:48,62:62}],59:[function(e,t,n){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,n)}t.exports=i},{}],60:[function(e,t,n){function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=r(e),null!==e););return e}var r=e(53);t.exports=i},{53:53}],61:[function(e,t,n){function i(e){return r(e)||s(e)||o()}var r=e(47),s=e(56),o=e(57);t.exports=i},{47:47,56:56,57:57}],62:[function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=r=function(e){return i(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},r(e)}t.exports=r},{}],63:[function(e,t,n){(function(n){"use strict";function i(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,s=Math.min(n,i);r<s;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function r(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function s(e){return Object.prototype.toString.call(e)}function o(e){return!r(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(w.isFunction(e)){if(k)return e.name;var t=e.toString(),n=t.match(O);return n&&n[1]}}function c(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(k||!w.isFunction(e))return w.inspect(e);var t=a(e),n=t?": "+t:"";return"[Function"+n+"]"}function l(e){return c(u(e.actual),128)+" "+e.operator+" "+c(u(e.expected),128)}function h(e,t,n,i,r){throw new T.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function d(e,t){e||h(e,!0,t,"==",T.ok)}function f(e,t,n,a){if(e===t)return!0;if(r(e)&&r(t))return 0===i(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===(0,E["default"])(e)||null!==t&&"object"===(0,E["default"])(t)){if(o(e)&&o(t)&&s(e)===s(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;a=a||{actual:[],expected:[]};var c=a.actual.indexOf(e);return c!==-1&&c===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),m(e,t,n,a))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,n,i){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=p(e),s=p(t);if(r&&!s||!r&&s)return!1;if(r)return e=x.call(e),t=x.call(t),f(e,t,n);var o,a,c=I(e),u=I(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(o=c[a],!f(e[o],t[o],n,i))return!1;return!0}function y(e,t,n){f(e,t,!0)&&h(e,t,n,"notDeepStrictEqual",y)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function g(e){var t;try{e()}catch(n){t=n}return t}function b(e,t,n,i){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=g(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&h(r,n,"Missing expected exception"+i);var s="string"==typeof i,o=!e&&w.isError(r),a=!e&&r&&!n;if((o&&s&&v(r,n)||a)&&h(r,n,"Got unwanted exception"+i),e&&r&&n&&!v(r,n)||!e&&r)throw r}var _=e(55),E=_(e(62)),w=e(67),S=Object.prototype.hasOwnProperty,x=Array.prototype.slice,k=function(){return"foo"===function(){}.name}(),T=t.exports=d,O=/\s*function\s+([^\(\s]*)\s*/;T.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=a(t),s=i.indexOf("\n"+r);if(s>=0){var o=i.indexOf("\n",s+1);i=i.substring(o+1)}this.stack=i}}},w.inherits(T.AssertionError,Error),T.fail=h,T.ok=d,T.equal=function(e,t,n){e!=t&&h(e,t,n,"==",T.equal)},T.notEqual=function(e,t,n){e==t&&h(e,t,n,"!=",T.notEqual)},T.deepEqual=function(e,t,n){f(e,t,!1)||h(e,t,n,"deepEqual",T.deepEqual)},T.deepStrictEqual=function(e,t,n){f(e,t,!0)||h(e,t,n,"deepStrictEqual",T.deepStrictEqual)},T.notDeepEqual=function(e,t,n){f(e,t,!1)&&h(e,t,n,"notDeepEqual",T.notDeepEqual)},T.notDeepStrictEqual=y,T.strictEqual=function(e,t,n){e!==t&&h(e,t,n,"===",T.strictEqual)},T.notStrictEqual=function(e,t,n){e===t&&h(e,t,n,"!==",T.notStrictEqual)},T["throws"]=function(e,t,n){b(!0,e,t,n)},T.doesNotThrow=function(e,t,n){b(!1,e,t,n)},T.ifError=function(e){if(e)throw e};var I=Object.keys||function(e){var t=[];for(var n in e)S.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{55:55,62:62,67:67}],64:[function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(h===setTimeout)return setTimeout(e,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?m=p.concat(m):v=-1,m.length&&c())}function c(){if(!y){var e=s(a);y=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var h,d,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(e){h=i}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,m=[],y=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||y||s(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],65:[function(e,t,n){"use strict";"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],66:[function(e,t,n){"use strict";var i=e(55),r=i(e(62));t.exports=function(e){return e&&"object"===(0,r["default"])(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{55:55,62:62}],67:[function(e,t,n){(function(t,i){"use strict";function r(e,t){var i={seen:[],stylize:o};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&n._extend(i,t),E(i.showHidden)&&(i.showHidden=!1),E(i.depth)&&(i.depth=2),E(i.colors)&&(i.colors=!1),E(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),c(i,e,i.depth)}function s(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,i){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return b(r)||(r=c(e,r,i)),r}var s=u(e,t);if(s)return s;var o=Object.keys(t),m=a(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),k(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(t);if(0===o.length){if(T(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return l(t)}var v="",g=!1,_=["{","}"];if(p(t)&&(g=!0,_=["[","]"]),T(t)){var E=t.name?": "+t.name:"";v=" [Function"+E+"]"}if(w(t)&&(v=" "+RegExp.prototype.toString.call(t)),x(t)&&(v=" "+Date.prototype.toUTCString.call(t)),k(t)&&(v=" "+l(t)),0===o.length&&(!g||0==t.length))return _[0]+v+_[1];if(i<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=g?h(e,t,i,m,o):o.map(function(n){return d(e,t,i,m,n,g)}),e.seen.pop(),f(S,v,_)}function u(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r){for(var s=[],o=0,a=t.length;o<a;++o)M(t,String(o))?s.push(d(e,t,n,i,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(d(e,t,n,i,r,!0))}),s}function d(e,t,n,i,r,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),M(i,r)||(o="["+r+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(n)?c(e,u.value,null):c(e,u.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),E(o)){if(s&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function f(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"===(0,R["default"])(e)}function E(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"===(0,R["default"])(e)&&null!==e}function x(e){return S(e)&&"[object Date]"===I(e)}function k(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function T(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(0,R["default"])(e)||"undefined"==typeof e}function I(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=e(55),R=P(e(62)),D=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,s=i.length,o=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];n<s;a=i[++n])o+=y(a)||!S(a)?" "+a:" "+r(a);return o},n.deprecate=function(e,r){function s(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}if(E(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var o=!1;return s};var F,N={};n.debuglog=function(e){if(E(F)&&(F=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!N[e])if(new RegExp("\\b"+e+"\\b","i").test(F)){var i=t.pid;N[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else N[e]=function(){};return N[e]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=g,n.isString=b,n.isSymbol=_,n.isUndefined=E,n.isRegExp=w,n.isObject=S,n.isDate=x,n.isError=k,n.isFunction=T,n.isPrimitive=O,n.isBuffer=e(66);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e(65),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e(64),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{55:55,62:62,64:64,65:65,66:66}],68:[function(e,t,n){"use strict";function i(e){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=e||document,s(this._context,u,this._DOMKeyDown,!0),s(this._context,l,this._DOMKeyUp,!0),r.call(this)}var r=e(35).EventEmitterMicro,s=e(28),o=e(29),a=e(90),c=e(70),u="keydown",l="keyup",h=i.prototype=a(r.prototype);h.onDown=function(e,t){return this.on(u+":"+e,t)},h.onceDown=function(e,t){return this.once(u+":"+e,t)},h.offDown=function(e,t){return this.off(u+":"+e,t)},h.onUp=function(e,t){return this.on(l+":"+e,t)},h.onceUp=function(e,t){return this.once(l+":"+e,t)},h.offUp=function(e,t){return this.off(l+":"+e,t)},h.isDown=function(e){return e+="",this._keysDown[e]||!1},h.isUp=function(e){return!this.isDown(e)},h.destroy=function(){return o(this._context,u,this._DOMKeyDown,!0),o(this._context,l,this._DOMKeyUp,!0),
this._keysDown=null,this._context=null,r.prototype.destroy.call(this),this},h._DOMKeyDown=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyDown(n),this.trigger(u+":"+n,t)},h._DOMKeyUp=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyUp(n),this.trigger(l+":"+n,t)},h._normalizeKeyboardEvent=function(e){return new c(e)},h._trackKeyUp=function(e){this._keysDown[e]&&(this._keysDown[e]=!1)},h._trackKeyDown=function(e){this._keysDown[e]||(this._keysDown[e]=!0)},t.exports=i},{28:28,29:29,35:35,70:70,90:90}],69:[function(e,t,n){"use strict";var i=e(68);t.exports=new i},{68:68}],70:[function(e,t,n){"use strict";function i(e){this.originalEvent=e;var t;for(t in e)r.indexOf(t)===-1&&"function"!=typeof e[t]&&(this[t]=e[t]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}var r=["keyLocation"];i.prototype={preventDefault:function(){return"function"!=typeof this.originalEvent.preventDefault?void(this.originalEvent.returnValue=!1):this.originalEvent.preventDefault()},stopPropagation:function(){return this.originalEvent.stopPropagation()}},t.exports=i},{}],71:[function(e,t,n){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],72:[function(e,t,n){"use strict";t.exports=8},{}],73:[function(e,t,n){"use strict";t.exports=11},{}],74:[function(e,t,n){"use strict";t.exports=1},{}],75:[function(e,t,n){"use strict";t.exports=3},{}],76:[function(e,t,n){"use strict";var i=e(79);t.exports=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)}},{79:79}],77:[function(e,t,n){"use strict";var i=e(76),r=e(72),s=e(73),o=e(74),a=e(75),c=[o,a,r,s],u=" must be an Element, TextNode, Comment, or Document Fragment",l=[o,a,r],h=" must be an Element, TextNode, or Comment",d=[o,s],f=" must be an Element, or Document Fragment",p=" must have a parentNode";t.exports={parentNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,d))throw new TypeError(n+": "+r+f)},childNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,l))throw new TypeError(n+": "+r+h)},insertNode:function(e,t,n,r){if(r=r||"node",(e||t)&&!i(e,c))throw new TypeError(n+": "+r+u)},hasParentNode:function(e,t,n){if(n=n||"target",!e.parentNode)throw new TypeError(t+": "+n+p)}}},{72:72,73:73,74:74,75:75,76:76}],78:[function(e,t,n){"use strict";var i=e(76),r=e(74);t.exports=function(e){return i(e,r)}},{74:74,76:76}],79:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],80:[function(e,t,n){"use strict";var i=e(77);t.exports=function(e){return i.childNode(e,!0,"remove"),e.parentNode?e.parentNode.removeChild(e):e}},{77:77}],81:[function(e,t,n){"use strict";t.exports={Modal:e(82),Renderer:e(83),classNames:e(84),dataAttributes:e(85)}},{82:82,83:83,84:84,85:85}],82:[function(e,t,n){"use strict";function i(e,t){u.call(this),this.options=o.defaults(h,e),this.renderer=new l(t),this.opened=!1,this._keysToClose=[c.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var r={addEventListener:e(24),removeEventListener:e(25),target:e(27)},s={getScrollX:e(30),getScrollY:e(31)},o={create:e(90),defaults:e(91)},a=e(69),c=e(71),u=e(35).EventEmitterMicro,l=e(83),h={retainScrollPosition:!1},d=i.prototype=o.create(u.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(e){var t,n;if(this.opened){if(e&&"click"===e.type&&(t=r.target(e),n=this.renderer.options.dataAttributes.close,!t.hasAttribute(n)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(e,t){this.renderer.appendContent(e,t)},d.removeContent=function(e){this.renderer.removeContent(e)},d.destroy=function(){this._removeEvents(),this.renderer.destroy();for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},d.addKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t===-1&&(this._keysToClose.push(e),this._bindKeyToClose(e))},d.removeKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t!==-1&&this._keysToClose.splice(t,1),this._releaseKeyToClose(e)},d._bindKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t===-1&&(a.onUp(e,this.close),this._attachedKeysToClose.push(e))},d._releaseKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t!==-1&&(a.offUp(e,this.close),this._attachedKeysToClose.splice(t,1))},d._removeEvents=function(){this.renderer.modalElement&&r.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&r.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=s.getScrollX(),this._scrollY=s.getScrollY()},t.exports=i},{24:24,25:25,27:27,30:30,31:31,35:35,69:69,71:71,83:83,90:90,91:91}],83:[function(e,t,n){"use strict";var i={add:e(18),remove:e(23)},r={defaults:e(91)},s={remove:e(80),isElement:e(78)},o=e(84),a=e(85),c={modalElement:null,contentElement:null,closeButton:null,classNames:o,dataAttributes:a},u=function(e){e=e||{},this.options=r.defaults(c,e),this.options.classNames=r.defaults(c.classNames,e.classNames),this.options.dataAttributes=r.defaults(c.dataAttributes,e.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},l=u.prototype;l.render=function(){return s.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),s.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),this.closeButton!==!1&&(s.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},l.renderCloseButton=function(e){var t;return e=e||this.options.classNames.closeButton,t=this._renderElement("button",e),t.setAttribute(this.options.dataAttributes.close,""),t},l.renderModalElement=function(e){return e=e||this.options.classNames.modalElement,this._renderElement("div",e)},l.renderContentElement=function(e){return e=e||this.options.classNames.contentElement,this._renderElement("div",e)},l.appendContent=function(e,t){s.isElement(e)&&(void 0===arguments[1]?this.contentElement.appendChild(e):s.isElement(t)&&t.appendChild(e))},l.removeContent=function(e){e?this.modalElement.contains(e)&&s.remove(e):this._emptyContent()},l.open=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.add.apply(null,e),i.add.apply(null,t)},l.close=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.remove.apply(null,e),i.remove.apply(null,t)},l.destroy=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement);this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),i.remove.apply(null,e);for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},l._renderElement=function(e,t){var n=document.createElement(e),r=[n];return t&&(r=r.concat(t)),i.add.apply(null,r),n},l._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=u},{18:18,23:23,78:78,80:80,84:84,85:85,91:91}],84:[function(e,t,n){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],85:[function(e,t,n){"use strict";t.exports={close:"data-modal-close"}},{}],86:[function(e,t,n){"use strict";t.exports={Modal:e(87),createStandardModal:e(89),createFullViewportModal:e(88)}},{87:87,88:88,89:89}],87:[function(e,t,n){"use strict";function i(e){s.call(this),this.options=e||{},this._modal=new r(e,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("aria-modal","true"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new o(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var r=e(81).Modal,s=e(35).EventEmitterMicro,o=e(2),a=i.prototype=Object.create(s.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(e){this._modal.appendContent(e)},a.removeContent=function(e){this._modal.removeContent(e)},a.destroy=function(){this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null;for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},a.addKeyToClose=function(e){this._modal.addKeyToClose(e)},a.removeKeyToClose=function(e){this._modal.removeKeyToClose(e)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,setTimeout(function(){this.modalElement.focus()}.bind(this),300),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=i},{2:2,35:35,81:81}],88:[function(e,t,n){"use strict";function i(e,t){var n=new r(o),i=t||{};return e&&n.appendContent(e),i.removeContainerPadding&&n.modalElement.classList.add("remove-container-padding"),n}var r=e(87),s=e(81).classNames,o={retainScrollPosition:!0,renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-full-viewport"),modalElement:[s.modalElement].concat("modal-full-viewport")}}};t.exports=i},{81:81,87:87}],89:[function(e,t,n){"use strict";function i(e){var t=new r(c);e&&t.appendContent(e);var n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div");return a.add(n,"content-table"),a.add(i,"content-cell"),a.add(s,"content-wrapper"),a.add(u,"content-padding","large-8","medium-10"),t.modalElement.setAttribute(o.close,""),s.setAttribute(o.close,""),i.setAttribute(o.close,""),n.appendChild(i),i.appendChild(s),s.appendChild(u),t.modalElement.appendChild(n),u.appendChild(t.contentElement),u.appendChild(t.closeButton),t}var r=e(87),s=e(81).classNames,o=e(81).dataAttributes,a={add:e(18)},c={renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-standard"),modalElement:[s.modalElement].concat("modal-standard")}}};t.exports=i},{18:18,81:81,87:87}],90:[function(e,t,n){"use strict";var i=e(55),r=i(e(62)),s=function(){};t.exports=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!==(0,r["default"])(e))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(e):(s.prototype=e,new s)}},{55:55,62:62}],91:[function(e,t,n){"use strict";var i=e(55),r=i(e(62)),s=e(92);t.exports=function(e,t){if("object"!==(0,r["default"])(e))throw new TypeError("defaults: must provide a defaults object");if(t=t||{},"object"!==(0,r["default"])(t))throw new TypeError("defaults: options must be a typeof object");return s({},e,t)}},{55:55,62:62,92:92}],92:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.forEach");var i=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach(function(e){if(null!=e)for(var n in e)i.call(e,n)&&(t[n]=e[n])}),t}},{undefined:void 0}],93:[function(e,t,n){"use strict";var i=e(97),r=e(94),s=e(96),o=e(95),a={};t.exports=function c(e,t){var n,u,l;if(t=t||"div",e=e.toLowerCase(),t in a||(a[t]={}),u=a[t],e in u)return u[e];if(i(e,t))return u[e]=e;if(e in r)for(l=0;l<r[e].length;l++)if(n=r[e][l],i(n.toLowerCase(),t))return u[e]=n;for(l=0;l<o.evt.length;l++)if(n=o.evt[l]+e,i(n,t))return o.reduce(l),u[e]=n;return"window"!==t&&s.indexOf(e)?u[e]=c(e,"window"):u[e]=!1}},{94:94,95:95,96:96,97:97}],94:[function(e,t,n){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],95:[function(e,t,n){"use strict";var i=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=i,this.dom=r,this.evt=s},a.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},t.exports=new o},{}],96:[function(e,t,n){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],97:[function(e,t,n){"use strict";var i={window:window,document:document};t.exports=function(e,t){var n;return e="on"+e,t in i||(i[t]=document.createElement(t)),n=i[t],e in n||"setAttribute"in n&&(n.setAttribute(e,"return;"),"function"==typeof n[e])}},{}],98:[function(e,t,n){"use strict";var i=e(114).SharedInstance,r="ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance",s="1.0.3",o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share(r,s,o)},{114:114}],99:[function(e,t,n){"use strict";t.exports={majorVersionNumber:"3.x"}},{}],100:[function(e,t,n){"use strict";function i(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e(35).EventEmitterMicro,o=e(110),a=e(109);r=i.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=i},{109:109,110:110,35:35}],101:[function(e,t,n){"use strict";function i(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}var r,s=e(36);r=i.prototype,r.frameRequestedPhase="requested",r.startPhase="start",r.runPhases=["update","external","draw"],r.endPhase="end",r.disabledPhase="disabled",r.beforePhaseEventPrefix="before:",r.afterPhaseEventPrefix="after:",r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.getSubscribeID=function(){return this._totalSubscribeCount+=1},r.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=i},{36:36}],102:[function(e,t,n){"use strict";var i=e(104),r=function(e){this.phase=e,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e,t){return t===!0&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},{104:104}],103:[function(e,t,n){"use strict";var i=e(102),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{102:102}],104:[function(e,t,n){"use strict";var i=e(100),r=function(e){i.call(this,e)},s=r.prototype=Object.create(i.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{100:100}],105:[function(e,t,n){"use strict";var i=e(103);t.exports=i.cancelAnimationFrame("draw")},{103:103}],106:[function(e,t,n){"use strict";var i=e(103);t.exports=i.cancelAnimationFrame("update")},{103:103}],107:[function(e,t,n){"use strict";var i=e(103);t.exports=i.requestAnimationFrame("draw")},{103:103}],108:[function(e,t,n){"use strict";var i=e(103);t.exports=i.requestAnimationFrame("external")},{103:103}],109:[function(e,t,n){"use strict";var i=e(114).SharedInstance,r=e(99).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},{114:114,99:99}],110:[function(e,t,n){"use strict";var i=e(114).SharedInstance,r=e(99).majorVersionNumber,s=e(101);t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},{101:101,114:114,99:99}],111:[function(e,t,n){"use strict";var i=e(103);t.exports=i.requestAnimationFrame("update")},{103:103}],112:[function(e,t,n){"use strict";function i(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var r;r=i.prototype,r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(e,t){var n;for(n=0;n<this._subscriberArrayLength;n++)null!==this._subscribers[this._subscribersOrder[n]]&&this._subscribers[this._subscribersOrder[n]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[n]].trigger(e,t)},r.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},
r._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},r._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=i},{undefined:void 0}],113:[function(e,t,n){"use strict";var i=e(114).SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="2.0.1",o=e(112);t.exports=i.share(r,s,o)},{112:112,114:114}],114:[function(e,t,n){"use strict";t.exports={SharedInstance:e(115)}},{115:115}],115:[function(e,t,n){"use strict";var i=e(55),r=i(e(62)),s=window,o="AC",a="SharedInstance",c=s[o],u=function(){var e={};return{get:function(t,n){var i=null;return e[t]&&e[t][n]&&(i=e[t][n]),i},set:function(t,n,i){return e[t]||(e[t]={}),"function"==typeof i?e[t][n]=new i:e[t][n]=i,e[t][n]},share:function(e,t,n){var i=this.get(e,t);return i||(i=this.set(e,t,n)),i},remove:function(t,n){var i=(0,r["default"])(n);if("string"===i||"number"===i){if(!e[t]||!e[t][n])return;return void(e[t][n]=null)}e[t]&&(e[t]=null)}}}();c||(c=s[o]={}),c[a]||(c[a]=u),t.exports=c[a]},{55:55,62:62}],116:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r["default"])(this,e),this.options=n,"loading"===document.readyState?document.addEventListener("readystatechange",function(e){"interactive"===document.readyState&&t._init()}):this._init()}return(0,s["default"])(e,[{key:"_init",value:function(){return this._images=Array.from(document.querySelectorAll("*[".concat(e.DATA_ATTRIBUTE,"]"))),this.AnimSystem=this._findAnim(),null===this.AnimSystem?null:void this._addKeyframesToImages()}},{key:"_defineKeyframeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.getAttribute(e.DATA_DOWNLOAD_AREA_KEYFRAME)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"AnimLazyImage"},JSON.parse(n))}},{key:"_addKeyframesToImages",value:function(){var e=this;this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach(function(t){e.AnimSystem.getGroupForTarget(t)&&(e._scrollGroup=e.AnimSystem.getGroupForTarget(t));var n=e._defineKeyframeOptions(t),i=e._scrollGroup.addKeyframe(t,n);i.controller.once("AnimLazyImage:enter",function(){e._imageIsInLoadRange(t)})})}},{key:"_cleanUpImageAttributes",value:function(t){var n=!1;try{n=this._scrollGroup.getControllerForTarget(t).getNearestKeyframeForAttribute("AnimLazyImage").isCurrentlyInRange}catch(i){n=!1}n||t.setAttribute(e.DATA_ATTRIBUTE,"")}},{key:"_downloadingImageAttributes",value:function(t){t.removeAttribute(e.DATA_ATTRIBUTE)}},{key:"_imageIsInLoadRange",value:function(e){this._downloadImage(e)}},{key:"_downloadImage",value:function(e){this._downloadingImageAttributes(e)}},{key:"_findAnim",value:function(){var e=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return e.map(function(e){return e._animInfo?e._animInfo.group:null}).filter(function(e){return null!==e}),e[0]&&e[0]._animInfo?e[0]._animInfo.group.anim:(console.error("AnimLazyImage: AnimSystem not found, please initialize anim before instantiating"),null)}}]),e}();o.DATA_DOWNLOAD_AREA_KEYFRAME="data-download-area-keyframe",o.DATA_ATTRIBUTE="data-anim-lazy-image",t.exports=o},{49:49,51:51,55:55}],117:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(52)),u=i(e(54)),l=e(116),h=e(176),d=e(107),f=e(111),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r["default"])(this,t),(0,o["default"])(this,(0,a["default"])(t).call(this,e))}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"_init",value:function(){(0,c["default"])((0,a["default"])(t.prototype),"_init",this).call(this),this._onBreakpointChangeCallback=this._onBreakpointChangeCallback.bind(this),this._addViewportEvents(),this._resetPromises(),this._addMethodsToImageElement()}},{key:"_addViewportEvents",value:function(){var e=this.options.breakpoints?{breakpoints:this.options.breakpoints}:{};this.viewportEmitterMicro=new h(e),this.viewportEmitterMicro.on(h.CHANGE_EVENTS.VIEWPORT,this._onBreakpointChangeCallback),this.viewportEmitterMicro.on(h.CHANGE_EVENTS.RETINA,this._onBreakpointChangeCallback)}},{key:"_addKeyframesToImages",value:function(){var e=this;this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach(function(t){e.AnimSystem.getGroupForTarget(t)&&(e._scrollGroup=e.AnimSystem.getGroupForTarget(t));var n=e._defineKeyframeOptions(t),i=e._scrollGroup.addKeyframe(t,n);i.controller.on("AnimLazyImage:enter",function(){e._imageIsInLoadRange(t)})})}},{key:"_onBreakpointChangeCallback",value:function(e){var t=this;this._resetPromises(),this._images.forEach(function(e){t._cleanUpImageAttributes(e),""!=e.getAttribute(l.DATA_ATTRIBUTE)&&t._imageIsInLoadRange(e)})}},{key:"_resetPromises",value:function(){this._images.forEach(function(e){e.promises={},e.promises.downloadComplete=new Promise(function(t){e.promises.__completePromiseResolver=t})})}},{key:"_addMethodsToImageElement",value:function(){var e=this;this._images.forEach(function(t){t.forceLazyLoad=function(){e._imageIsInLoadRange(t)}})}},{key:"_imageIsInLoadRange",value:function(e){this._downloadImage(e).then(function(){e.promises.__completePromiseResolver(e),e.dispatchEvent(new Event(t.EVENTS.DOWNLOAD_COMPLETE))})}},{key:"_cleanUpImageAttributes",value:function(e){e.removeAttribute(t.DATA_DOWNLOADING_ATTRIBUTE),e.removeAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)}},{key:"_downloadingImageAttributes",value:function(e){(0,c["default"])((0,a["default"])(t.prototype),"_downloadingImageAttributes",this).call(this,e),e.setAttribute(t.DATA_DOWNLOADING_ATTRIBUTE,"")}},{key:"_finishedDownloadAttributes",value:function(e){e.removeAttribute(t.DATA_DOWNLOADING_ATTRIBUTE),e.setAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE,"")}},{key:"_downloadImage",value:function(e){var n=this;return new Promise(function(i,r){return null!==e.getAttribute(t.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)?void i():void(null===e.getAttribute(t.DATA_DOWNLOADING_ATTRIBUTE)&&n._waitForBackgroundVisible(e).then(function(e){return n._getBackgroundImageSrc(e)}).then(function(e){return n._loadImage(e)}).then(function(){d(function(){n._finishedDownloadAttributes(e),i()},!0)}))})}},{key:"_waitForBackgroundVisible",value:function(e){var t=this;return new Promise(function(n,i){d(function(){t._downloadingImageAttributes(e),n(e)},!0)})}},{key:"_getBackgroundImageSrc",value:function(e){return new Promise(function(t,n){f(function(){var n=e.currentStyle;return n||(n=window.getComputedStyle(e,!1)),0===n.backgroundImage.indexOf("url(")?void t(n.backgroundImage.slice(4,-1).replace(/"/g,"")):void t(null)},!0)})}},{key:"_loadImage",value:function(e){return new Promise(this._loadImagePromiseFunc.bind(this,e))}},{key:"_loadImagePromiseFunc",value:function(e,t,n){function i(){this.removeEventListener("load",i),t(this),t=null}if(!e)return void t(null);var r=new Image;r.addEventListener("load",i),r.src=e}}]),t}(l);p.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE="data-anim-lazy-image-download-complete",p.DATA_DOWNLOADING_ATTRIBUTE="data-anim-lazy-image-downloading",p.EVENTS={},p.EVENTS.DOWNLOAD_COMPLETE="video-loading-complete",t.exports=p},{107:107,111:111,116:116,176:176,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],118:[function(e,t,n){"use strict";t.exports={version:"3.2.1",major:"3.x",majorMinor:"3.2"}},{}],119:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(48)),u=i(e(54)),l=e(35).EventEmitterMicro,h=e(125),d=e(120),f=e(121),p=e(123),m=e(136),y=e(137),v=e(118),g={update:e(111),cancelUpdate:e(106),external:e(108),draw:e(107)},b=null,_=function(e){function t(){var e;if((0,r["default"])(this,t),e=(0,o["default"])(this,(0,a["default"])(t).call(this)),b)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return b=(0,c["default"])(e),e.groups=[],e.scrollSystems=[],e.timeSystems=[],e._forceUpdateRAFId=-1,e._initialized=!1,e.model=h,e.version=v.version,e._resolveReady=function(){},e.ready=new Promise(function(t){return e._resolveReady=t}),e.onScroll=e.onScroll.bind((0,c["default"])(e)),e.onResizedDebounced=e.onResizedDebounced.bind((0,c["default"])(e)),e.onResizeImmediate=e.onResizeImmediate.bind((0,c["default"])(e)),e}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"initialize",value:function(){return this._initialized?this.ready:(this._initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this._resolveReady(),this.ready)}},{key:"remove",value:function(){var e=this;return Promise.all(this.groups.map(function(e){return e.remove()})).then(function(){e.groups=null,e.scrollSystems=null,e.timeSystems=null,window.clearTimeout(h.RESIZE_TIMEOUT),window.removeEventListener("scroll",e.onScroll),window.removeEventListener("resize",e.onResizeImmediate),e._events={},e._initialized=!1,e.ready=new Promise(function(t){return e._resolveReady=t})})}},{key:"destroy",value:function(){return this.remove()}},{key:"createTimeGroup",value:function(e){var t=new y(e,this);return this.groups.push(t),this.timeSystems.push(t),this.trigger(h.EVENTS.ON_GROUP_CREATED,t),t}},{key:"createScrollGroup",value:function(e){if(!e)throw"AnimSystem scroll based groups must supply an HTMLElement";var t=new m(e,this);return this.groups.push(t),this.scrollSystems.push(t),this.trigger(h.EVENTS.ON_GROUP_CREATED,t),t}},{key:"removeGroup",value:function(e){var t=this;return Promise.all(e.keyframeControllers.map(function(t){return e.removeKeyframeController(t)})).then(function(){var n=t.groups.indexOf(e);n!==-1&&t.groups.splice(n,1),n=t.scrollSystems.indexOf(e),n!==-1&&t.scrollSystems.splice(n,1),n=t.timeSystems.indexOf(e),n!==-1&&t.timeSystems.splice(n,1),e.destroy()})}},{key:"createDOMGroups",value:function(){var e=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(t){return e.createScrollGroup(t)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(t){return e.createTimeGroup(t)}),this.trigger(h.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var e=this,t=[];[d.DATA_ATTRIBUTE,f.DATA_ATTRIBUTE,p.DATA_ATTRIBUTE].forEach(function(e){for(var n=0;n<12;n++)t.push(e+(0===n?"":"-"+(n-1)))});for(var n=0;n<t.length;n++)for(var i=t[n],r=document.querySelectorAll("["+i+"]"),s=0;s<r.length;s++){var o=r[s],a=JSON.parse(o.getAttribute(i));this.addKeyframe(o,a)}g.update(function(){e.groups.forEach(function(e){return e.onKeyframesDirty({silent:!0})}),e.groups.forEach(function(e){return e.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,e)}),e.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,e),e.groups.forEach(function(e){e.forceUpdate({waitForNextUpdate:!1,silent:!0}),e.reconcile()}),e.onScroll()},!0)}},{key:"initializeResizeFilter",value:function(){if(!h.cssDimensionsTracker){var e=document.querySelector(".cssDimensionsTracker")||document.createElement("div");e.setAttribute("cssDimensionsTracker","true"),e.style.position="fixed",e.style.top="0",e.style.width="100%",e.style.height="100vh",e.style.pointerEvents="none",e.style.visibility="hidden",e.style.zIndex="-1",document.documentElement.appendChild(e),h.cssDimensionsTracker=e}}},{key:"initializeModel",value:function(){h.pageMetrics.windowHeight=h.cssDimensionsTracker.clientHeight,h.pageMetrics.windowWidth=h.cssDimensionsTracker.clientWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset,h.pageMetrics.breakpoint=h.getBreakpoint();var e=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=e.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=e.top+h.pageMetrics.scrollY}},{key:"setupEvents",value:function(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}},{key:"onScroll",value:function(){h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var e=0,t=this.scrollSystems.length;e<t;e++)this.scrollSystems[e]._onScroll();this.trigger(h.PageEvents.ON_SCROLL,h.pageMetrics)}},{key:"onResizeImmediate",value:function(){var e=h.cssDimensionsTracker.clientWidth,t=h.cssDimensionsTracker.clientHeight;if(e!==h.pageMetrics.windowWidth||t!==h.pageMetrics.windowHeight){h.pageMetrics.windowWidth=e,h.pageMetrics.windowHeight=t,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var n=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=n.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=n.top+h.pageMetrics.scrollY,window.clearTimeout(h.RESIZE_TIMEOUT),h.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(h.PageEvents.ON_RESIZE_IMMEDIATE,h.pageMetrics)}}},{key:"onResizedDebounced",value:function(){var e=this;g.update(function(){var t=h.pageMetrics.breakpoint,n=h.getBreakpoint(),i=n!==t;if(i){h.pageMetrics.previousBreakpoint=t,h.pageMetrics.breakpoint=n;for(var r=0,s=e.groups.length;r<s;r++)e.groups[r]._onBreakpointChange();e.trigger(h.PageEvents.ON_BREAKPOINT_CHANGE,h.pageMetrics)}for(var o=0,a=e.groups.length;o<a;o++)e.groups[o].forceUpdate({waitForNextUpdate:!1});e.trigger(h.PageEvents.ON_RESIZE_DEBOUNCED,h.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.waitForNextUpdate,i=void 0===n||n,r=t.silent,s=void 0!==r&&r;this._forceUpdateRAFId!==-1&&g.cancelUpdate(this._forceUpdateRAFId);var o=function(){for(var t=0,n=e.groups.length;t<n;t++){var i=e.groups[t];i.forceUpdate({waitForNextUpdate:!1,silent:s})}return-1};this._forceUpdateRAFId=i?g.update(o,!0):o()}},{key:"addKeyframe",value:function(e,t){var n=this.getGroupForTarget(e);return n=n||this.getGroupForTarget(document.body),n.addKeyframe(e,t)}},{key:"getGroupForTarget",value:function(e){if(e._animInfo&&e._animInfo.group)return e._animInfo.group;for(var t=e;t;){if(t._animInfo&&t._animInfo.isGroup)return t._animInfo.group;t=t.parentElement}}},{key:"getControllerForTarget",value:function(e){return e._animInfo&&e._animInfo.controller?e._animInfo.controller:null}}]),t}(l);t.exports=window.AC.SharedInstance.share("AnimSystem",v.major,_)},{106:106,107:107,108:108,111:111,118:118,120:120,121:121,123:123,125:125,136:136,137:137,35:35,48:48,49:49,51:51,53:53,54:54,55:55,58:58}],120:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=e(125),a=e(175),c=e(127),u=e(133),l=e(130),h=e(138),d=e(139),f=e(132),p=function(){function e(t,n){(0,r["default"])(this,e),this.controller=t,this.anchors=[],this.jsonProps=n,this.ease=t.group.defaultEase,this.easeFunctionString=o.KeyframeDefaults.easeFunctionString,this.easeFunction=c[this.easeFunctionString],this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=o.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1,this.hidden=!1,this.uuid=f()}return(0,s["default"])(e,[{key:"destroy",value:function(){this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(e){var t=this;this.jsonProps=e,e.relativeTo&&console.error("KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':\"".concat(e.relativeTo,'"')),""!==e.anchors&&e.anchors?(this.anchors=[],e.anchors=Array.isArray(e.anchors)?e.anchors:[e.anchors],e.anchors.forEach(function(n,i){var r=d(n,t.controller.group.element);if(!r){var s="";return"string"==typeof n&&(s=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",t.controller.element," failed to find anchor at index ".concat(i," in array"),e.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. ".concat(s))}t.anchors.push(r),t.controller.group.metrics.add(r)})):(this.anchors=[],e.anchors=[]),e.ease?this.ease=parseFloat(e.ease):e.ease=this.ease,e.hasOwnProperty("snapAtCreation")?this.snapAtCreation=e.snapAtCreation:e.snapAtCreation=this.snapAtCreation,e.easeFunction?this.easeFunctionString=e.easeFunction:e.easeFunction=this.easeFunctionString,e.breakpointMask?this.breakpointMask=e.breakpointMask:e.breakpointMask=this.breakpointMask,e.disabledWhen?this.disabledWhen=Array.isArray(e.disabledWhen)?e.disabledWhen:[e.disabledWhen]:e.disabledWhen=this.disabledWhen,e.hasOwnProperty("hold")?this.hold=e.hold:e.hold=this.hold,e.hasOwnProperty("preserveState")?this.preserveState=e.preserveState:e.preserveState=this.preserveState,this.easeFunction=c[e.easeFunction],c.hasOwnProperty(e.easeFunction)||(e.easeFunction.includes("bezier")?this.easeFunction=u.fromCSSString(e.easeFunction):e.easeFunction.includes("spring")?this.easeFunction=l.fromCSSString(e.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+e.easeFunction+"'"));for(var n in e)if(o.KeyframeJSONReservedWords.indexOf(n)===-1){var i=e[n];if(Array.isArray(i)){if(this.animValues[n]=this.controller.group.expressionParser.parseArray(this,i),void 0===this.controller.tweenProps[n]||!this.controller._ownerIsElement){var r=0;this.controller._ownerIsElement||(r=this.controller.element[n]||0);var s=new o.TargetValue(r,o.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[n]=s}var a=this.controller.tweenProps[n];if(e.epsilon)a.epsilon=e.epsilon;else{var h=Math.abs(this.animValues[n][0]-this.animValues[n][1]),f=Math.min(.001*h,a.epsilon,o.KeyframeDefaults.epsilon);a.epsilon=Math.max(f,1e-4)}}}this.keyframeType=this.hold?o.KeyframeTypes.InterpolationForward:o.KeyframeTypes.Interpolation,e.event&&(this.event=e.event)}},{key:"overwriteProps",value:function(e){this.animValues={};var t=Object.assign({},this.jsonProps,e);this.controller.updateKeyframe(this,t)}},{key:"updateLocalProgress",value:function(e){if(this.start===this.end||e<this.start||e>this.end)return this.localT=e<this.start?0:e>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));var t=(e-this.start)/(this.end-this.start),n=this.hold?this.localT:0;this.localT=a.clamp(t,n,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.initialValue=t[0],n.target=t[0]+this.curvedT*(t[1]-t[0]),n.current!==n.target&&(n.current=n.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(e){this.localT=e||0;var t=this.ease;this.ease=1;for(var n in this.animValues)this.reconcile(n);this.ease=t}},{key:"onDOMRead",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.target=t[0]+this.curvedT*(t[1]-t[0]);var i=n.current;n.current+=(n.target-n.current)*this.ease;var r=n.current-n.target;r<n.epsilon&&r>-n.epsilon&&(n.current=n.target,r=0),""===this.event||this.needsEventDispatch||(r>n.epsilon||r<-n.epsilon||0===r&&i!==n.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(e){return e>=this.start&&e<=this.end}},{key:"setEnabled",value:function(e){e=e||h(Array.from(document.documentElement.classList));var t=this.breakpointMask.indexOf(o.pageMetrics.breakpoint)!==-1,n=!1;return this.disabledWhen.length>0&&(n=this.disabledWhen.some(function(t){return"undefined"!=typeof e[t]})),this.isEnabled=t&&!n,this.isEnabled}},{key:"evaluateConstraints",value:function(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}},{key:"evaluateInterpolationConstraints",value:function(){for(var e in this.animValues){var t=this.jsonProps[e];this.animValues[e]=this.controller.group.expressionParser.parseArray(this,t)}}}]),e}();p.DATA_ATTRIBUTE="data-anim-tween",t.exports=p},{125:125,127:127,130:130,132:132,133:133,138:138,139:139,175:175,49:49,51:51,55:55}],121:[function(e,t,n){"use strict";var i=e(55),r=i(e(62)),s=i(e(49)),o=i(e(51)),a=i(e(58)),c=i(e(53)),u=i(e(54)),l=e(120),h=e(125),d=function(e){function t(e,n){var i;return(0,s["default"])(this,t),i=(0,a["default"])(this,(0,c["default"])(t).call(this,e,n)),i.keyframeType=h.KeyframeTypes.CSSClass,i._triggerType=t.TRIGGER_TYPE_CSS_CLASS,i.cssClass="",i.friendlyName="",i.style={on:null,off:null},i.toggle=!1,i.isApplied=!1,i}return(0,u["default"])(t,e),(0,o["default"])(t,[{key:"parseOptions",value:function(e){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0!==e.toggle&&(this.toggle=e.toggle),void 0!==e.cssClass)this._triggerType=t.TRIGGER_TYPE_CSS_CLASS,this.cssClass=e.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===e.style||!this.isValidStyleProperty(e.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=t.TRIGGER_TYPE_STYLE_PROPERTY,this.style=e.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(var n in this.style.on)this.style.off[n]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===e.end&&(e.end=e.start),e.toggle=this.toggle,this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var i=getComputedStyle(this.controller.element);this.isApplied=!0;for(var r in this.style.on)if(i[r]!==this.style.on[r]){this.isApplied=!1;break}}l.prototype.parseOptions.call(this,e),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new h.TargetValue(0,1,(!1))),this.keyframeType=h.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(e){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&e>=this.start&&e<=this.end?this._apply():this.isApplied&&this.toggle&&(e<this.start||e>this.end)&&this._unapply():!this.isApplied&&e>=this.start?this._apply():this.isApplied&&this.toggle&&e<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.on)this.controller.tweenProps.targetStyles[e]=this.style.on[e];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.off)this.controller.tweenProps.targetStyles[e]=this.style.off[e];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(e){if(!e.hasOwnProperty("on"))return!1;if("object"!==(0,r["default"])(e.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");if(this.toggle&&e.hasOwnProperty("off")&&"object"!==(0,r["default"])(e.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:hidden, otherProperty: value}}");return!0}},{key:"reconcile",value:function(e,t){}},{key:"onDOMRead",value:function(e,t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(l);d.TRIGGER_TYPE_CSS_CLASS=0,d.TRIGGER_TYPE_STYLE_PROPERTY=1,d.DATA_ATTRIBUTE="data-anim-classname",t.exports=d},{120:120,125:125,49:49,51:51,53:53,54:54,55:55,58:58,62:62}],122:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(48)),c=i(e(53)),u=i(e(52)),l=i(e(54)),h=e(125),d=(e(120),e(121)),f=e(129),p=e(138),m=e(132),y=e(35).EventEmitterMicro,v=e(154),g={update:e(111),external:e(108),draw:e(107)},b=Math.PI/180,_=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],E={create:e(180),rotateX:e(182),rotateY:e(183),rotateZ:e(184),scale:e(185)},w=function(e){function t(e,n){var i;return(0,r["default"])(this,t),i=(0,o["default"])(this,(0,c["default"])(t).call(this)),i._events.draw=[],i.uuid=m(),i.group=e,i.element=n,i._ownerIsElement=i.element instanceof Element,i._ownerIsElement?i.friendlyName=i.element.tagName+"."+Array.from(i.element.classList).join("."):i.friendlyName=i.element.friendlyName||i.uuid,i.element._animInfo=i.element._animInfo||new h.AnimInfo(e,(0,a["default"])(i)),i.element._animInfo.controller=(0,a["default"])(i),i.element._animInfo.group=i.group,i.element._animInfo.controllers.push((0,a["default"])(i)),i.tweenProps=i.element._animInfo.tweenProps,i.eventObject=new h.EventObject((0,a["default"])(i)),i.needsStyleUpdate=!1,i.needsClassUpdate=!1,i.elementMetrics=i.group.metrics.add(i.element),i.attributes=[],i.keyframes={},i._allKeyframes=[],i._activeKeyframes=[],i.keyframesRequiringDispatch=[],i.updateCachedValuesFromElement(),i.boundsMin=0,i.boundsMax=0,i.mat2d=new Float32Array(6),i.mat4=E.create(),i.needsWrite=!0,i.onDOMWriteImp=i._ownerIsElement?i.onDOMWriteForElement:i.onDOMWriteForObject,i}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"destroy",value:function(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);var e=this.element._animInfo.controllers.indexOf(this);e!==-1&&this.element._animInfo.controllers.splice(e,1),0===this.element._animInfo.controllers.length?this.element._animInfo=null:(this.element._animInfo.controller=this.element._animInfo.controllers[this.element._animInfo.controllers.length-1],this.element._animInfo.group=this.element._animInfo.controller.group)}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var n=0;n<this._allKeyframes.length;n++)this._allKeyframes[n].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){return this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){var e=this;if(this._ownerIsElement){var t=getComputedStyle(this.element),n=v(this.element,!0),i=h.KeyframeDefaults.epsilon,r=!1;["x","y","z"].forEach(function(t,s){e.tweenProps[t]=new h.TargetValue(n.translation[s],i,r)}),this.tweenProps.rotation=new h.TargetValue(n.eulerRotation[2],i,r),["rotationX","rotationY","rotationZ"].forEach(function(t,s){e.tweenProps[t]=new h.TargetValue(n.eulerRotation[s],i,r)}),this.tweenProps.scaleZ=new h.TargetValue(n.scale[0],i,r),["scaleX","scaleY","scale"].forEach(function(t,s){e.tweenProps[t]=new h.TargetValue(n.scale[s],i,r)}),this.tweenProps.opacity=new h.TargetValue(parseFloat(t.opacity),i,r)}}},{key:"addKeyframe",value:function(e){var t=f(e);if(!t)throw new Error("AnimSystem Cannot create keyframe for from options `"+e+"`");var n=new t(this,e);return n.parseOptions(e),n.id=this._allKeyframes.length,this._allKeyframes.push(n),n}},{key:"needsUpdate",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.tweenProps[n],r=Math.abs(i.current-i.target);if(r>i.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var i=this.attributes[t],r=this.keyframes[this.attributes[t]];if(1!==r.length){var s=this.getNearestKeyframeForAttribute(i,e);s&&s.updateLocalProgress(e)}else r[0].updateLocalProgress(e)}}},{key:"reconcile",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.getNearestKeyframeForAttribute(n,this.group.position.local);i.updateLocalProgress(this.group.position.local),i.snapAtCreation&&i.reconcile(n)}}},{key:"determineActiveKeyframes",value:function(e){var t=this;e=e||p(Array.from(document.documentElement.classList));var n=this._activeKeyframes,i=this.attributes,r={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var s=0;s<this._allKeyframes.length;s++){var o=this._allKeyframes[s];if(o.markedForRemoval||o.hidden||!o.setEnabled(e))for(var a in o.animValues)this.tweenProps[a].isActive=o.preserveState,o.preserveState&&(r[a]=!0);else{this._activeKeyframes.push(o);for(var c in o.animValues)this.keyframes[c]=this.keyframes[c]||[],this.keyframes[c].push(o),this.attributes.indexOf(c)===-1&&(r[c]=!0,this.attributes.push(c),this.tweenProps[c].isActive=!0)}}this.attributes.forEach(function(e){return t.tweenProps[e].isActive=!0});var u=n.filter(function(e){return t._activeKeyframes.indexOf(e)===-1});if(0!==u.length){var l=i.filter(function(e){return t.attributes.indexOf(e)===-1&&!r.hasOwnProperty(e)});if(0!==l.length)if(this.needsWrite=!0,this._ownerIsElement)g.external(function(){var e=Object.keys(r).filter(function(e){return _.includes(e)});0===e.length&&t.element.style.removeProperty("transform");for(var n=0,i=l.length;n<i;++n){var s=l[n],o=t.tweenProps[s];o.current=o.target,o.isActive=!1,"opacity"===s&&t.element.style.removeProperty("opacity")}for(var a=0,c=u.length;a<c;++a){var h=u[a];h instanceof d&&!h.preserveState&&h._unapply();
}},!0);else for(var h=0,f=l.length;h<f;++h){var m=this.tweenProps[l[h]];m.current=m.target,m.isActive=!1}}}},{key:"onDOMRead",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var i=this.attributes[t];this.tweenProps[i].previousValue=this.tweenProps[i].current;var r=this.getNearestKeyframeForAttribute(i,e);r&&r.onDOMRead(i),this.tweenProps[i].previousValue!==this.tweenProps[i].current&&(this.needsWrite=!0)}}},{key:"onDOMWrite",value:function(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}},{key:"onDOMWriteForObject",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e];this.element[n]=this.tweenProps[n].current}}},{key:"onDOMWriteForElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element.style,t=this.tweenProps;if(t.z.isActive||t.rotationX.isActive||t.rotationY.isActive){var n=this.mat4;if(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,t.x.isActive||t.y.isActive||t.z.isActive){var i=t.x.current,r=t.y.current,s=t.z.current;n[12]=n[0]*i+n[4]*r+n[8]*s+n[12],n[13]=n[1]*i+n[5]*r+n[9]*s+n[13],n[14]=n[2]*i+n[6]*r+n[10]*s+n[14],n[15]=n[3]*i+n[7]*r+n[11]*s+n[15]}if(t.rotation.isActive||t.rotationZ.isActive){var o=(t.rotation.current||t.rotationZ.current)*b;E.rotateZ(n,n,o)}if(t.rotationX.isActive){var a=t.rotationX.current*b;E.rotateX(n,n,a)}if(t.rotationY.isActive){var c=t.rotationY.current*b;E.rotateY(n,n,c)}(t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive)&&E.scale(n,n,[t.scale.current,t.scale.current,1]),e.transform="matrix3d("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+","+n[6]+","+n[7]+","+n[8]+","+n[9]+","+n[10]+","+n[11]+","+n[12]+","+n[13]+","+n[14]+","+n[15]+")"}else if(t.x.isActive||t.y.isActive||t.rotation.isActive||t.rotationZ.isActive||t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive){var u=this.mat2d;if(u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,t.x.isActive||t.y.isActive){var l=t.x.current,h=t.y.current,d=u[0],f=u[1],p=u[2],m=u[3],y=u[4],v=u[5];u[0]=d,u[1]=f,u[2]=p,u[3]=m,u[4]=d*l+p*h+y,u[5]=f*l+m*h+v}if(t.rotation.isActive||t.rotationZ.isActive){var g=(t.rotation.current||t.rotationZ.current)*b,_=u[0],w=u[1],S=u[2],x=u[3],k=u[4],T=u[5],O=Math.sin(g),I=Math.cos(g);u[0]=_*I+S*O,u[1]=w*I+x*O,u[2]=_*-O+S*I,u[3]=w*-O+x*I,u[4]=k,u[5]=T}t.scale.isActive?(u[0]=u[0]*t.scale.current,u[1]=u[1]*t.scale.current,u[2]=u[2]*t.scale.current,u[3]=u[3]*t.scale.current,u[4]=u[4],u[5]=u[5]):(t.scaleX.isActive||t.scaleY.isActive)&&(u[0]=u[0]*t.scaleX.current,u[1]=u[1]*t.scaleX.current,u[2]=u[2]*t.scaleY.current,u[3]=u[3]*t.scaleY.current,u[4]=u[4],u[5]=u[5]),e.transform="matrix("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"}if(t.opacity.isActive&&(e.opacity=t.opacity.current),this.needsStyleUpdate){for(var A in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[A]&&(this.element.style[A]=this.tweenProps.targetStyles[A]),this.tweenProps.targetStyles[A]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var e=0,t=this.keyframesRequiringDispatch.length;e<t;e++){var n=this.keyframesRequiringDispatch[e];n.needsEventDispatch=!1,this.eventObject.keyframe=n,this.eventObject.pageMetrics=h.pageMetrics,this.eventObject.event=n.event,this.trigger(n.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(var i=this._events.draw.length-1;i>=0;i--)this._events.draw[i](this.eventObject)}}},{key:"updateAnimationConstraints",value:function(){for(var e=this,t=0,n=this._activeKeyframes.length;t<n;t++)this._activeKeyframes[t].evaluateConstraints();this.attributes.forEach(function(t){1!==e.keyframes[t].length&&e.keyframes[t].sort(h.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})}),this.group.metrics.refreshCollection(e),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.keyframes[n],r=i[0];if(!(r.keyframeType>h.KeyframeTypes.InterpolationForward))for(var s=0,o=i.length;s<o;s++){var a=i[s];if(null===a.jsonProps[n][0]){if(0===s){a.animValues[n][0]=this.tweenProps[n].initialValue;continue}a.animValues[n][0]=i[s-1].animValues[n][1]}if(null===a.jsonProps[n][1]){if(s===o-1)throw new RangeError("AnimSystem - last keyframe cannot defer it's end value! ".concat(n,":[").concat(a.jsonProps[n][0],",null]"));a.animValues[n][1]=i[s+1].animValues[n][0]}}}}},{key:"getBounds",value:function(e){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var t=0,n=this.attributes.length;t<n;t++)for(var i=this.keyframes[this.attributes[t]],r=0;r<i.length;r++){var s=i[r];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),e.min=Math.min(s.start,e.min),e.max=Math.max(s.end,e.max)}}},{key:"getNearestKeyframeForAttribute",value:function(e,t){t=void 0!==t?t:this.group.position.local;var n=null,i=Number.POSITIVE_INFINITY,r=this.keyframes[e];if(void 0===r)return null;var s=r.length;if(0===s)return null;if(1===s)return r[0];for(var o=0;o<s;o++){var a=r[o];if(a.isInRange(t)){n=a;break}var c=Math.min(Math.abs(t-a.start),Math.abs(t-a.end));c<i&&(i=c,n=a)}return n}},{key:"getAllKeyframesForAttribute",value:function(e){return this.keyframes[e]}},{key:"updateKeyframe",value:function(e,t){var n=this;e.parseOptions(t),e.evaluateConstraints(),this.group.keyframesDirty=!0,g.update(function(){n.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,e),n.group.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,e)},!0)}},{key:"removeKeyframe",value:function(e){var t=this;return e.controller!==this?Promise.resolve(null):(e.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise(function(n){t.group.rafEmitter.executor.eventEmitter.once("before:draw",function(){n(e),e.destroy();var i=t._allKeyframes.indexOf(e);i!==-1&&t._allKeyframes.splice(i,1)})}))}},{key:"updateAnimation",value:function(e,t){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(e,t)}}]),t}(y);t.exports=w},{107:107,108:108,111:111,120:120,121:121,125:125,129:129,132:132,138:138,154:154,180:180,182:182,183:183,184:184,185:185,35:35,48:48,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],123:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(52)),u=i(e(54)),l=e(120),h=e(125),d=function(e){function t(e,n){var i;return(0,r["default"])(this,t),i=(0,o["default"])(this,(0,a["default"])(t).call(this,e,n)),i.keyframeType=h.KeyframeTypes.Event,i.isApplied=!1,i.hasDuration=!1,i.isCurrentlyInRange=!1,i}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"parseOptions",value:function(e){e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.style=void 0,e.cssClass=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0===e.end&&(e.end=e.start),this.event=e.event,this.animValues[this.event]=[0,0],"undefined"==typeof this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new h.TargetValue(0,1,(!1))),(0,c["default"])((0,a["default"])(t.prototype),"parseOptions",this).call(this,e),this.keyframeType=h.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(e){if(this.hasDuration){var t=this.isCurrentlyInRange,n=e>=this.start&&e<=this.end;if(t===n)return;return this.isCurrentlyInRange=n,void(n&&!t?this._trigger(this.event+":enter"):t&&!n&&this._trigger(this.event+":exit"))}!this.isApplied&&e>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&e<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}},{key:"_trigger",value:function(e){this.controller.eventObject.event=e,this.controller.eventObject.keyframe=this,this.controller.trigger(e,this.controller.eventObject)}},{key:"evaluateConstraints",value:function(){(0,c["default"])((0,a["default"])(t.prototype),"evaluateConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(e){this.isApplied=!1,this.isCurrentlyInRange=!1,(0,c["default"])((0,a["default"])(t.prototype),"reset",this).call(this,e)}},{key:"onDOMRead",value:function(e,t){}},{key:"reconcile",value:function(e,t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(l);d.DATA_ATTRIBUTE="data-anim-event",t.exports=d},{120:120,125:125,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],124:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=e(131);t.exports=function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r["default"])(this,o),this.isGroup=n,this.group=e,this.controller=t,this.controllers=[],this.tweenProps=new s}},{131:131,49:49,55:55}],125:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 735px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1442px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var e=0;e<s.BREAKPOINTS.length;e++){var t=s.BREAKPOINTS[e],n=window.matchMedia(t.mediaQuery);if(n.matches)return t.name}},KeyframeDefaults:{ease:1,epsilon:.05,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:e(131),TargetValue:function o(e,t,n){(0,r["default"])(this,o),this.epsilon=parseFloat(t),this.snapAtCreation=n,this.initialValue=e,this.target=e,this.current=e,this.previousValue=e,this.isActive=!1},AnimInfo:e(124),Progress:function(){this.local=0,this.localUnclamped=0,this.lastPosition=0},ViewableRange:function(e,t){this.a=e.top-t,this.a<0&&(this.a=e.top),this.b=e.top,this.d=e.bottom,this.c=Math.max(this.d-t,this.b)},pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},EventObject:function(e){this.controller=e,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps},KeyframeComparison:function(e,t){return e.start<t.start?-1:e.start>t.start?1:0}};t.exports=s},{124:124,131:131,49:49,55:55}],126:[function(e,t,n){"use strict";var i={};i.easeInCubic="cubic-bezier(0.42, 0.0, 1.0, 1.0)",i.easeOutCubic="cubic-bezier(0.0, 0.0, 0.58, 1.0)",i.easeInOutCubic="cubic-bezier(0.42, 0.0, 0.58, 1.0)",i.easeInCirc="cubic-bezier(0.600, 0.040, 0.980, 0.335)",i.easeOutCirc="cubic-bezier(0.075, 0.820, 0.165, 1.000)",i.easeInOutCirc="cubic-bezier(0.785, 0.135, 0.150, 0.860)",i.easeInExpo="cubic-bezier(0.950, 0.050, 0.795, 0.035)",i.easeOutExpo="cubic-bezier(0.190, 1.000, 0.220, 1.000)",i.easeInOutExpo="cubic-bezier(1.000, 0.000, 0.000, 1.000)",i.easeInQuad="cubic-bezier(0.550, 0.085, 0.680, 0.530)",i.easeOutQuad="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.easeInOutQuad="cubic-bezier(0.455, 0.030, 0.515, 0.955)",i.easeInQuart="cubic-bezier(0.895, 0.030, 0.685, 0.220)",i.easeOutQuart="cubic-bezier(0.165, 0.840, 0.440, 1.000)",i.easeInOutQuart="cubic-bezier(0.770, 0.000, 0.175, 1.000)",i.easeInQuint="cubic-bezier(0.755, 0.050, 0.855, 0.060)",i.easeOutQuint="cubic-bezier(0.230, 1.000, 0.320, 1.000)",i.easeInOutQuint="cubic-bezier(0.860, 0.000, 0.070, 1.000)",i.easeInSine="cubic-bezier(0.470, 0.000, 0.745, 0.715)",i.easeOutSine="cubic-bezier(0.390, 0.575, 0.565, 1.000)",i.easeInOutSine="cubic-bezier(0.445, 0.050, 0.550, 0.950)",i.easeInBack="cubic-bezier(0.600, -0.280, 0.735, 0.045)",i.easeOutBack="cubic-bezier(0.175,  0.885, 0.320, 1.275)",i.easeInOutBack="cubic-bezier(0.680, -0.550, 0.265, 1.550)",i.linear="cubic-bezier(0.0, 0.0, 1.0, 1.0)",i.ease="cubic-bezier(0.25, 0.1, 0.25, 1.0)",i["ease-in"]="cubic-bezier(0.42, 0.0, 1.0, 1.0)",i["ease-out"]="cubic-bezier(0.0, 0.0, 0.58, 1.0)",i["ease-in-out"]="cubic-bezier(0.42, 0.0, 0.58, 1.0)",t.exports=i},{}],127:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=function o(){(0,r["default"])(this,o),this.linear=function(e){return e},this.easeInQuad=function(e){return e*e},this.easeOutQuad=function(e){return e*(2-e)},this.easeInOutQuad=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},this.easeInSin=function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},this.easeOutSin=function(e){return Math.sin(Math.PI/2*e)},this.easeInOutSin=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},this.easeInElastic=function(e){return 0===e?e:(.04-.04/e)*Math.sin(25*e)+1},this.easeOutElastic=function(e){return.04*e/--e*Math.sin(25*e)},this.easeInOutElastic=function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1},this.easeOutBack=function(e){return e-=1,e*e*(2.70158*e+1.70158)+1},this.easeInCubic=function(e){return e*e*e},this.easeOutCubic=function(e){return--e*e*e+1},this.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},this.easeInQuart=function(e){return e*e*e*e},this.easeOutQuart=function(e){return 1- --e*e*e*e},this.easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},this.easeInQuint=function(e){return e*e*e*e*e},this.easeOutQuint=function(e){return 1+--e*e*e*e*e},this.easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};t.exports=new s},{49:49,55:55}],128:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=e(125),a=function(e,t){return void 0===e||null===e?t:e},c=function(){function e(){(0,r["default"])(this,e),this.clear()}return(0,s["default"])(e,[{key:"clear",value:function(){this._metrics=new WeakMap}},{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(e){var t=this._metrics.get(e);if(t)return t;var n=new u(e);return this._metrics.set(e,n),this._refreshMetrics(e,n)}},{key:"get",value:function(e){return this._metrics.get(e)}},{key:"refreshCollection",value:function(e){var t=this;e.forEach(function(e){return t._refreshMetrics(e,null)})}},{key:"refreshMetrics",value:function(e){return this._refreshMetrics(e)}},{key:"_refreshMetrics",value:function(e,t){if(t=t||this._metrics.get(e),!(e instanceof Element))return t.width=a(e.width,0),t.height=a(e.height,0),t.top=a(e.top,a(e.y,0)),t.left=a(e.left,a(e.x,0)),t.right=t.left+t.width,t.bottom=t.top+t.height,t;if(void 0===e.offsetWidth){var n=e.getBoundingClientRect();return t.width=n.width,t.height=n.height,t.top=o.pageMetrics.scrollY+n.top,t.left=o.pageMetrics.scrollX+n.left,t.right=t.left+t.width,t.bottom=t.top+t.height,t}t.width=e.offsetWidth,t.height=e.offsetHeight,t.top=o.pageMetrics.documentOffsetY,t.left=o.pageMetrics.documentOffsetX;for(var i=e;i;)t.top+=i.offsetTop,t.left+=i.offsetLeft,i=i.offsetParent;return t.right=t.left+t.width,t.bottom=t.top+t.height,t}}]),e}(),u=function(){function e(t){(0,r["default"])(this,e),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return(0,s["default"])(e,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),e}();t.exports=c},{125:125,49:49,51:51,55:55}],129:[function(e,t,n){"use strict";var i=e(125),r=e(120),s=e(123),o=e(121),a=function(e){for(var t in e){var n=e[t];if(i.KeyframeJSONReservedWords.indexOf(t)===-1&&Array.isArray(n))return!0}return!1};t.exports=function(e){if(void 0!==e.cssClass||void 0!==e.style){if(a(e))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return o}if(a(e))return r;if(e.event)return s;throw delete e.anchors,"Could not determine tween type based on ".concat(JSON.stringify(e))}},{120:120,121:121,123:123,125:125}],130:[function(e,t,n){"use strict";var i=e(55),r=i(e(50)),s=i(e(61)),o=i(e(49)),a=i(e(51)),c=function(){function e(t,n,i,r){(0,o["default"])(this,e),this.mass=t,this.stiffness=n,this.damping=i,this.initialVelocity=r,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0+-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}return(0,a["default"])(e,[{key:"solve",value:function(e){return 0===e||1===e?e:(e=this.m_zeta<1?Math.exp(-e*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*e)+this.m_B*Math.sin(this.m_wd*e)):(this.m_A+this.m_B*e)*Math.exp(-e*this.m_w0),1-e)}}]),e}(),u=/\d*\.?\d+/g;c.fromCSSString=function(e){var t=e.match(u);if(4!==t.length)throw"SpringEasing could not convert ".concat(cssString," to spring params");var n=t.map(Number),i=(0,r["default"])(c,(0,s["default"])(n));return i.solve.bind(i)},t.exports=c},{49:49,50:50,51:51,55:55,61:61}],131:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=function o(){(0,r["default"])(this,o)};t.exports=s},{49:49,55:55}],132:[function(e,t,n){"use strict";t.exports=function(){return Math.random().toString(16).slice(2)}},{}],133:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=1e-5,a=Math.abs,c=5,u=function(){function e(t,n,i,s){(0,r["default"])(this,e),this.cp=new Float32Array(6),this.cp[0]=3*t,this.cp[1]=3*(i-t)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*n,this.cp[4]=3*(s-n)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return(0,s["default"])(e,[{key:"sampleCurveX",value:function(e){return((this.cp[2]*e+this.cp[1])*e+this.cp[0])*e}},{key:"sampleCurveY",value:function(e){return((this.cp[5]*e+this.cp[4])*e+this.cp[3])*e}},{key:"sampleCurveDerivativeX",value:function(e){return(3*this.cp[2]*e+2*this.cp[1])*e+this.cp[0]}},{key:"solveCurveX",value:function(e){var t,n,i,r,s,u;for(i=e,u=0;u<c;u++){if(r=this.sampleCurveX(i)-e,a(r)<o)return i;if(s=this.sampleCurveDerivativeX(i),a(s)<o)break;i-=r/s}if(t=0,n=1,i=e,i<t)return t;if(i>n)return n;for(;t<n;){if(r=this.sampleCurveX(i),a(r-e)<o)return i;e>r?t=i:n=i,i=.5*(n-t)+t}return i}},{key:"solve",value:function(e){return this.sampleCurveY(this.solveCurveX(e))}}]),e}(),l=/\d*\.?\d+/g;u.fromCSSString=function(e){var t=e.match(l);if(4!==t.length)throw"UnitBezier could not convert ".concat(e," to cubic-bezier");var n=t.map(Number),i=new u(n[0],n[1],n[2],n[3]);return i.solve.bind(i)},t.exports=u},{49:49,51:51,55:55}],134:[function(e,t,n){"use strict";var i=e(55),r=i(e(62)),s=i(e(49)),o=i(e(51)),a=e(135),c=new(e(128)),u=function(){function e(t){(0,s["default"])(this,e),this.group=t,this.data={target:null,anchors:null,metrics:this.group.metrics}}return(0,o["default"])(e,[{key:"parseArray",value:function(e,t){return[this.parseExpression(e,t[0]),this.parseExpression(e,t[1])]}},{key:"parseExpression",value:function(t,n){if(!n)return null;if("number"==typeof n)return n;if("string"!=typeof n)throw"Expression must be a string, received ".concat((0,r["default"])(n),": ").concat(n);return this.data.target=t.controller.element,this.data.anchors=t.anchors,this.data.keyframe=t.keyframe,e._parse(n,this.data)}},{key:"parseTimeValue",value:function(e,t){if("number"==typeof t)return t;var n=this.group.expressionParser.parseExpression(e,t);return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}],[{key:"parse",value:function(t,n){return n=n||{},n&&(c.clear(),n.target&&c.add(n.target),n.anchors&&n.anchors.forEach(function(e){return c.add(e)})),n.metrics=c,e._parse(t,n)}},{key:"_parse",value:function(e,t){return a.Parse(e).execute(t)}}]),e}();u.programs=a.programs,window.ExpressionParser=u,t.exports=u},{128:128,135:135,49:49,51:51,55:55,62:62}],135:[function(e,t,n){"use strict";var i=e(55),r=i(e(51)),s=i(e(58)),o=i(e(53)),a=i(e(54)),c=i(e(49)),u=e(125),l=e(175),h={},d={smoothstep:function(e,t,n){return n=d.clamp((n-e)/(t-e),0,1),n*n*(3-2*n)},deg:function(e){return 180*e/Math.PI},rad:function(e){return e*Math.PI/180},random:function(e,t){return Math.random()*(t-e)+e},atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach(function(e){return d[e]?null:d[e.toLowerCase()]=Math[e]}),Object.getOwnPropertyNames(l).forEach(function(e){return d[e]?null:d[e.toLowerCase()]=l[e]});var f=null,p={ANCHOR_CONST:"a",ALPHA:"ALPHA",LPAREN:"(",RPAREN:")",PLUS:"PLUS",MINUS:"MINUS",MUL:"MUL",DIV:"DIV",INTEGER_CONST:"INTEGER_CONST",FLOAT_CONST:"FLOAT_CONST",COMMA:",",EOF:"EOF"},m={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*\/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp("\\b(".concat(Object.keys(d).join("|"),")\\b"),"i")},y={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1},v=function A(e,t){(0,c["default"])(this,A),this.type=e,this.value=t};v.ONE=new v("100",100),v.EOF=new v(p.EOF,null);var g=function C(e){(0,c["default"])(this,C),this.type=e},b=function(e){function t(e,n){var i;return(0,c["default"])(this,t),i=(0,s["default"])(this,(0,o["default"])(t).call(this,"UnaryOp")),i.token=i.op=e,i.expr=n,i}return(0,a["default"])(t,e),t}(g),_=function(e){function t(e,n,i){var r;return(0,c["default"])(this,t),r=(0,s["default"])(this,(0,o["default"])(t).call(this,"BinOp")),r.left=e,r.op=n,r.right=i,r}return(0,a["default"])(t,e),t}(g),E=function(e){function t(e,n){var i;if((0,c["default"])(this,t),i=(0,s["default"])(this,(0,o["default"])(t).call(this,"MathOp")),i.op=e,i.list=n,y[e.value]&&n.length!==y[e.value])throw new Error("Incorrect number of arguments for '".concat(e.value,"'. Received ").concat(n.length,", expected ").concat(y[e.value]));return i}return(0,a["default"])(t,e),t}(g),w=function(e){function t(e){var n;return(0,c["default"])(this,t),n=(0,s["default"])(this,(0,o["default"])(t).call(this,"Num")),n.token=e,n.value=e.value,n}return(0,a["default"])(t,e),t}(g),S=(function(e){function t(e){var n;return(0,c["default"])(this,t),n=(0,s["default"])(this,(0,o["default"])(t).call(this,"Unit")),n.token=e,n.value=e.value,n}return(0,a["default"])(t,e),t}(g),function(e){function t(e,n,i){var r;return(0,c["default"])(this,t),r=(0,s["default"])(this,(0,o["default"])(t).call(this,"RefValue")),r.num=e,r.ref=n,r.unit=i,r}return(0,a["default"])(t,e),t}(g)),x=function(e){function t(e,n){var i;return(0,c["default"])(this,t),i=(0,s["default"])(this,(0,o["default"])(t).call(this,"CSSValue")),i.ref=e,i.propertyName=n,i}return(0,a["default"])(t,e),t}(g),k=function(e){function t(e,n){var i;return(0,c["default"])(this,t),i=(0,s["default"])(this,(0,o["default"])(t).call(this,"PropValue")),i.ref=e,i.propertyName=n,i}return(0,a["default"])(t,e),t}(g),T=function(){function e(t){(0,c["default"])(this,e),this.text=t,this.pos=0,this["char"]=this.text[this.pos],this.tokens=[];for(var n;(n=this.getNextToken())&&n!==v.EOF;)this.tokens.push(n);this.tokens.push(n)}return(0,r["default"])(e,[{key:"advance",value:function(){this["char"]=this.text[++this.pos]}},{key:"skipWhiteSpace",value:function(){for(;null!=this["char"]&&m.WHITE_SPACE.test(this["char"]);)this.advance()}},{key:"name",value:function(){for(var e="";null!=this["char"]&&m.ALPHA.test(this["char"]);)e+=this["char"],this.advance();return new v(p.ALPHA,e)}},{key:"number",value:function(){for(var e="";null!=this["char"]&&m.DIGIT.test(this["char"]);)e+=this["char"],this.advance();if(null!=this["char"]&&"."===this["char"]){for(e+=this["char"],this.advance();null!=this["char"]&&m.DIGIT.test(this["char"]);)e+=this["char"],this.advance();return new v(p.FLOAT_CONST,parseFloat(e))}return new v(p.INTEGER_CONST,parseInt(e))}},{key:"getNextToken",value:function(){for(;null!=this["char"];)if(m.WHITE_SPACE.test(this["char"]))this.skipWhiteSpace();else{if(m.DIGIT.test(this["char"]))return this.number();if(","===this["char"])return this.advance(),new v(p.COMMA,",");if(m.OPERATOR.test(this["char"])){var e="",t=this["char"];switch(t){case"+":e=p.PLUS;break;case"-":e=p.MINUS;break;case"*":e=p.MUL;break;case"/":e=p.DIV}return this.advance(),new v(e,t)}if(m.PAREN.test(this["char"])){var n="",i=this["char"];switch(i){case"(":n=p.LPAREN;break;case")":n=p.RPAREN}return this.advance(),new v(n,i)}if(m.ALPHA.test(this["char"]))return this.name();this.error("Unexpected character "+this["char"])}return v.EOF}}]),e}(),O=function(){function e(t){(0,c["default"])(this,e),this.lexer=t,this.pos=0}return(0,r["default"])(e,[{key:"error",value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this.lexer.text.slice(this.pos-3,this.pos+3),t=new Error("".concat(e,' in "').concat(this.lexer.text,'" near "').concat(i,'". ').concat(n," "));throw console.error(t.message,f?f.keyframe||f.target:""),t}},{key:"consume",value:function(e){var t=this.currentToken;return t.type===e?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(e)),t}},{key:"consumeList",value:function(e){e.includes(this.currentToken)?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(tokenType))}},{key:"expr",value:function(){for(var e=this.term();this.currentToken.type===p.PLUS||this.currentToken.type===p.MINUS;){var t=this.currentToken;switch(t.value){case"+":this.consume(p.PLUS);break;case"-":this.consume(p.MINUS)}e=new _(e,t,this.term())}return e}},{key:"term",value:function(){for(var e=this.factor();this.currentToken.type===p.MUL||this.currentToken.type===p.DIV;){var t=this.currentToken;switch(t.value){case"*":this.consume(p.MUL);break;case"/":this.consume(p.DIV)}e=new _(e,t,this.factor())}return e}},{key:"factor",value:function(){if(this.currentToken.type===p.PLUS)return new b(this.consume(p.PLUS),this.factor());if(this.currentToken.type===p.MINUS)return new b(this.consume(p.MINUS),this.factor());if(this.currentToken.type===p.INTEGER_CONST||this.currentToken.type===p.FLOAT_CONST){var e=new w(this.currentToken);if(this.pos+=1,m.OPERATOR.test(this.currentToken.value)||this.currentToken.type===p.RPAREN||this.currentToken.type===p.COMMA||this.currentToken.type===p.EOF)return e;if(this.currentToken.type===p.ALPHA&&this.currentToken.value===p.ANCHOR_CONST)return this.consume(p.ALPHA),new S(e,this.anchorIndex(),this.unit(m.ANY_UNIT));if(this.currentToken.type===p.ALPHA)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new S(e,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(m.OBJECT_UNIT.test(this.currentToken.value))return new S(new w(v.ONE),null,this.unit());if(this.currentToken.value===p.ANCHOR_CONST){this.consume(p.ALPHA);var t=this.anchorIndex();if(m.OBJECT_UNIT.test(this.currentToken.value))return new S(new w(v.ONE),t,this.unit())}else if(this.currentToken.type===p.ALPHA){if("css"===this.currentToken.value||"prop"===this.currentToken.value){var n="css"===this.currentToken.value?x:k;this.consume(p.ALPHA),this.consume(p.LPAREN);var i=this.propertyName(),r=null;return this.currentToken.type===p.COMMA&&(this.consume(p.COMMA),this.consume(p.ALPHA),r=this.anchorIndex()),this.consume(p.RPAREN),new n(r,i)}if(m.MATH_FUNCTION.test(this.currentToken.value)){var s=this.currentToken.value.toLowerCase();if("number"==typeof d[s])return this.consume(p.ALPHA),new w(new v(p.ALPHA,d[s]));var o=v[s]||new v(s,s),a=[];this.consume(p.ALPHA),this.consume(p.LPAREN);var c=null;do this.currentToken.value===p.COMMA&&this.consume(p.COMMA),c=this.expr(),a.push(c);while(this.currentToken.value===p.COMMA);return this.consume(p.RPAREN),new E(o,a)}}else if(this.currentToken.type===p.LPAREN){this.consume(p.LPAREN);var u=this.expr();return this.consume(p.RPAREN),u}}this.error("Unexpected token ".concat(this.currentToken.value))}},{key:"propertyName",value:function(){for(var e="";this.currentToken.type===p.ALPHA||this.currentToken.type===p.MINUS;)e+=this.currentToken.value,this.pos+=1;return e}},{key:"unit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.ANY_UNIT,t=this.currentToken;return t.type===p.ALPHA&&e.test(t.value)?(this.consume(p.ALPHA),new v(p.ALPHA,t.value=t.value.replace(/%(h|w)/,"$1").replace("%","h"))):void this.error("Expected unit type")}},{key:"anchorIndex",value:function(){var e=this.currentToken;return e.type===p.INTEGER_CONST?(this.consume(p.INTEGER_CONST),new w(e)):void this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}},{key:"parse",value:function(){var e=this.expr();return this.currentToken!==v.EOF&&this.error("Unexpected token ".concat(this.currentToken.value)),e}},{key:"currentToken",get:function(){return this.lexer.tokens[this.pos]}}]),e}(),I=function(){function e(t){(0,c["default"])(this,e),this.parser=t,this.root=t.parse()}return(0,r["default"])(e,[{key:"visit",value:function(e){var t=this[e.type];if(!t)throw new Error("No visit method named, ".concat(t));var n=t.call(this,e);return n}},{key:"BinOp",value:function(e){switch(e.op.type){case p.PLUS:return this.visit(e.left)+this.visit(e.right);case p.MINUS:return this.visit(e.left)-this.visit(e.right);case p.MUL:return this.visit(e.left)*this.visit(e.right);case p.DIV:return this.visit(e.left)/this.visit(e.right)}}},{key:"RefValue",value:function(e){var t=this.unwrapReference(e),n=e.unit.value,i=e.num.value,r=f.metrics.get(t);switch(n){case"h":return.01*i*r.height;case"t":return.01*i*r.top;case"vh":return.01*i*u.pageMetrics.windowHeight;case"vw":return.01*i*u.pageMetrics.windowWidth;case"px":return i;case"w":return.01*i*r.width;case"b":return.01*i*r.bottom;case"l":return.01*i*r.left;case"r":return.01*i*r.right}}},{key:"PropValue",value:function(e){var t=null===e.ref?f.target:f.anchors[e.ref.value];return t[e.propertyName]}},{key:"CSSValue",value:function(t){var n=this.unwrapReference(t),i=getComputedStyle(n).getPropertyValue(t.propertyName);return""===i?0:e.Parse(i).execute(f)}},{key:"Num",value:function(e){return e.value}},{key:"UnaryOp",value:function(e){return e.op.type===p.PLUS?+this.visit(e.expr):e.op.type===p.MINUS?-this.visit(e.expr):void 0}},{key:"MathOp",value:function(e){var t=this,n=e.list.map(function(e){return t.visit(e)});return d[e.op.value].apply(null,n)}},{key:"unwrapReference",value:function(e){return null===e.ref?f.target:(e.ref.value>=f.anchors.length&&console.error("Not enough anchors supplied for expression ".concat(this.parser.lexer.text),f.target),
f.anchors[e.ref.value])}},{key:"execute",value:function(e){return f=e,this.visit(this.root)}}],[{key:"Parse",value:function(t){return h[t]||(h[t]=new e(new O(new T(t))))}}]),e}();I.programs=h,t.exports=I},{125:125,175:175,49:49,51:51,53:53,54:54,55:55,58:58}],136:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(48)),c=i(e(53)),u=i(e(52)),l=i(e(54)),h=e(35).EventEmitterMicro,d=e(175),f=e(138),p=e(125),m=e(128),y=e(134),v=e(122),g={create:e(100),update:e(111),draw:e(107)},b=function(e){function t(e,n){var i;return(0,r["default"])(this,t),i=(0,o["default"])(this,(0,c["default"])(t).call(this)),i.anim=n,i.element=e,i.name=i.name||e.getAttribute("data-anim-scroll-group"),i.isEnabled=!0,i.position=new p.Progress,i.metrics=new m,i.metrics.add(i.element),i.expressionParser=new y((0,a["default"])(i)),i.boundsMin=0,i.boundsMax=0,i.timelineUpdateRequired=!1,i._keyframesDirty=!1,i.viewableRange=i.createViewableRange(),i.defaultEase=p.KeyframeDefaults.ease,i.keyframeControllers=[],i.updateProgress(i.getPosition()),i.onDOMRead=i.onDOMRead.bind((0,a["default"])(i)),i.onDOMWrite=i.onDOMWrite.bind((0,a["default"])(i)),i.gui=null,i.finalizeInit(),i}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"finalizeInit",value:function(){this.element._animInfo=new p.AnimInfo(this,null,(!0)),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.expressionParser.destroy(),this.expressionParser=null;for(var e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(e){var t=this;return this.keyframeControllers.includes(e)?(e._allKeyframes.forEach(function(e){return e.markedForRemoval=!0}),this.keyframesDirty=!0,new Promise(function(n){g.draw(function(){var i=t.keyframeControllers.indexOf(e);return i===-1?void n():(t.keyframeControllers.splice(i,1),e.onDOMWrite(),e.destroy(),t.gui&&t.gui.create(),void n())})})):Promise.resolve()}},{key:"remove",value:function(){return this.anim.removeGroup(this)}},{key:"setupRAFEmitter",value:function(e){var t=this;this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=e||new g.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",function(){return t.reconcile()})}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMRead(this.position.local)}},{key:"onDOMWrite",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMWrite();this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var e=0,t=this.keyframeControllers.length;e<t;e++)if(this.keyframeControllers[e].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(e,t){var n=this.getControllerForTarget(e);return null===n&&(n=new v(this,e),this.keyframeControllers.push(n)),this.keyframesDirty=!0,n.addKeyframe(t)}},{key:"forceUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForNextUpdate,n=void 0===t||t,i=e.silent,r=void 0!==i&&i;this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,n?this.keyframesDirty=!0:this.onKeyframesDirty({silent:r}))}},{key:"onKeyframesDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,n=void 0!==t&&t;this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(var i=0,r=this.keyframeControllers.length;i<r;i++)this.keyframeControllers[i].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),n||this._onScroll(),this.gui&&this.gui.create()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this.keyframeControllers.forEach(function(t){e.add(t.element),t._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})})}),this.metrics.refreshCollection(e),this.viewableRange=this.createViewableRange()}},{key:"reconcile",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].reconcile()}},{key:"determineActiveKeyframes",value:function(e){e=e||f(Array.from(document.documentElement.classList));for(var t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].determineActiveKeyframes(e)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);var i=this.convertTValueToScrollPosition(e.min),r=this.convertTValueToScrollPosition(e.max);r-i<p.pageMetrics.windowHeight?(e.min=this.convertScrollPositionToTValue(i-.5*p.pageMetrics.windowHeight),e.max=this.convertScrollPositionToTValue(r+.5*p.pageMetrics.windowHeight)):(e.min-=.001,e.max+=.001),this.boundsMin=e.min,this.boundsMax=e.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new p.ViewableRange(this.metrics.get(this.element),p.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(e,t){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=(e-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),void(this.position.local=d.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"performTimelineDispatch",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].updateLocalProgress(this.position.local);this.trigger(p.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START,this):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?this.trigger(p.EVENTS.ON_TIMELINE_START+":reverse",this):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE,this):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&this.trigger(p.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this)),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"_onScroll",value:function(e){if(!this.isEnabled)return!1;void 0===e&&(e=this.getPosition()),this.updateProgress(e);var t=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,n=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&t&&n&&this.position.lastPosition===e)return void(this.position.local=this.position.localUnclamped);if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var i=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,r=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(i&&r)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var s=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,o=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(s||o)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"convertScrollPositionToTValue",value:function(e){return this.hasDuration()?d.map(e,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(e){return this.hasDuration()?d.map(e,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return p.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(e){if(!e._animInfo||!e._animInfo.controllers)return null;if(e._animInfo.controller&&e._animInfo.controller.group===this)return e._animInfo.controller;for(var t=e._animInfo.controllers,n=0,i=t.length;n<i;n++)if(t[n].group===this)return t[n];return null}},{key:"trigger",value:function(e,t){if("undefined"!=typeof this._events[e])for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()}},{key:"keyframesDirty",set:function(e){this._keyframesDirty=e,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}}]),t}(h);t.exports=b},{100:100,107:107,111:111,122:122,125:125,128:128,134:134,138:138,175:175,35:35,48:48,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],137:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(48)),c=i(e(53)),u=i(e(52)),l=i(e(54)),h=e(136),d=e(175),f=0,p={create:e(100)},m=function(e){function t(e,n){var i;return(0,r["default"])(this,t),e||(e=document.createElement("div"),e.className="TimeGroup-"+f++),i=(0,o["default"])(this,(0,c["default"])(t).call(this,e,n)),window.timeGroup=window.timeGroup||(0,a["default"])(i),i.name=i.name||e.getAttribute("data-anim-time-group"),i._isPaused=!0,i._repeats=0,i._isReversed=!1,i._timeScale=1,i}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.defaultEase=1,this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),(0,u["default"])((0,c["default"])(t.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(e){if(void 0===e)return 0===this.boundsMax?0:this.position.local/this.boundsMax;var t=e*this.boundsMax;this.timelineUpdateRequired=!0,this._onScroll(t)}},{key:"time",value:function(e){return void 0===e?this.position.local:(e=d.clamp(e,this.boundsMin,this.boundsMax),this.timelineUpdateRequired=!0,void this._onScroll(e))}},{key:"play",value:function(e){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(e),this._playheadEmitter.run()}},{key:"reverse",value:function(e){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(e),this._playheadEmitter.run()}},{key:"reversed",value:function(e){return void 0===e?this._isReversed:void(this._isReversed=e)}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}},{key:"pause",value:function(e){this.time(e),this._isPaused=!0}},{key:"paused",value:function(e){return void 0===e?this._isPaused:(this._isPaused=e,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(e){if(!this._isPaused){var n=d.clamp(e.delta/1e3,0,.5);this._isReversed&&(n=-n);var i=this.time(),r=i+n*this._timeScale;if(this._repeats===t.REPEAT_FOREVER||this._repeats>0){var s=!1;!this._isReversed&&r>this.boundsMax?(r-=this.boundsMax,s=!0):this._isReversed&&r<0&&(r=this.boundsMax+r,s=!0),s&&(this._repeats=this._repeats===t.REPEAT_FOREVER?t.REPEAT_FOREVER:this._repeats-1)}this.time(r);var o=!this._isReversed&&this.position.local!==this.duration,a=this._isReversed&&0!==this.position.local;o||a?this._playheadEmitter.run():this.paused(!0)}}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=e,void(this.position.local=d.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);this.boundsMin=0,this.boundsMax=e.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(e){this._playheadEmitter=new p.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),(0,u["default"])((0,c["default"])(t.prototype),"setupRAFEmitter",this).call(this,e)}},{key:"timeScale",value:function(e){return void 0===e?this._timeScale:(this._timeScale=e,this)}},{key:"repeats",value:function(e){return void 0===e?this._repeats:void(this._repeats=e)}},{key:"getPosition",value:function(){return this.position.local}},{key:"convertScrollPositionToTValue",value:function(e){return e}},{key:"convertTValueToScrollPosition",value:function(e){return e}},{key:"hasDuration",value:function(){return this.duration>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,(0,u["default"])((0,c["default"])(t.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}}]),t}(h);m.REPEAT_FOREVER=-1,t.exports=m},{100:100,136:136,175:175,48:48,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],138:[function(e,t,n){"use strict";var i=function(e){return e.reduce(function(e,t){return e[t]=t,e},{})};t.exports=i},{}],139:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)return e;try{return(t||document).querySelector(e)||document.querySelector(e)}catch(n){return!1}}},{}],140:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(52)),u=i(e(54)),l=e(35).EventEmitterMicro,h=e(125),d={create:e(100),update:e(111),draw:e(107)},f=function(){},p=0,m=function(e){function t(e){var n;return(0,r["default"])(this,t),n=(0,o["default"])(this,(0,a["default"])(t).call(this)),n.el=e.el,n.gum=e.gum,n.componentName=e.componentName,n._keyframeController=null,n}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"destroy",value:function(){this.el=null,this.gum=null,this._keyframeController=null,(0,c["default"])((0,a["default"])(t.prototype),"destroy",this).call(this)}},{key:"addKeyframe",value:function(e){var t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)}},{key:"addDiscreteEvent",value:function(e){e.event=e.event||"Generic-Event-Name-"+p++;var t=void 0!==e.end&&e.end!==e.start,n=this.addKeyframe(e);return t?(e.onEnterOnce&&n.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&n.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&n.controller.on(e.event+":enter",e.onEnter),e.onExit&&n.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&n.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&n.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&n.controller.on(e.event,e.onEvent),e.onEventReverse&&n.controller.on(e.event+":reverse",e.onEventReverse)),n}},{key:"addRAFLoop",value:function(e){var t=["start","end"];if(!t.every(function(t){return e.hasOwnProperty(t)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));var n=new d.create;n.on("update",e.onUpdate||f),n.on("draw",e.onDraw||f),n.on("draw",function(){return n.run()});var i=e.onEnter,r=e.onExit;return e.onEnter=function(){n.run(),i?i():0},e.onExit=function(){n.cancel(),r?r():0},this.addDiscreteEvent(e)}},{key:"addContinuousEvent",value:function(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+p++;var t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}},{key:"mounted",value:function(){}},{key:"onResizeImmediate",value:function(e){}},{key:"onResizeDebounced",value:function(e){}},{key:"onBreakpointChange",value:function(e){}},{key:"anim",get:function(){return this.gum.anim}},{key:"keyframeController",get:function(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}},{key:"pageMetrics",get:function(){return h.pageMetrics}}]),t}(l);t.exports=m},{100:100,107:107,111:111,125:125,35:35,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],141:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(54)),u=e(35).EventEmitterMicro,l=e(155),h=e(119),d=e(125),f=e(142),p={},m=function(e){function t(e){var n;return(0,r["default"])(this,t),n=(0,o["default"])(this,(0,a["default"])(t).call(this)),n.el=e,n.anim=h,n.components=[],n.el.getAttribute("data-anim-scroll-group")||n.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),h.on(d.EVENTS.ON_DOM_GROUPS_CREATED,function(e){n.componentsInitialized=!1,n.initComponents(),n.setupEvents()}),h.on(d.EVENTS.ON_DOM_KEYFRAMES_CREATED,function(){n.components.forEach(function(e){return e.mounted()}),n.trigger(t.EVENTS.DOM_COMPONENTS_MOUNTED)}),l.add(function(){return h.initialize()}),n}return(0,c["default"])(t,e),(0,s["default"])(t,[{key:"initComponents",value:function(){var e=Array.prototype.slice.call(this.el.querySelectorAll("[data-component-list]"));this.el.hasAttribute("data-component-list")&&e.push(this.el);for(var t=0;t<e.length;t++)for(var n=e[t],i=n.getAttribute("data-component-list"),r=i.split(" "),s=0,o=r.length;s<o;s++){var a=r[s];""!==a&&" "!==a&&this.addComponent({el:n,componentName:a})}this.componentsInitialized=!0}},{key:"setupEvents",value:function(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),h.on(d.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),h.on(d.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),h.on(d.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}},{key:"addComponent",value:function(e){var n=e.el,i=e.componentName,r=e.data;if(!f.hasOwnProperty(i))throw"BubbleGum::addComponent could not add component to '"+n.className+"'. No component type '"+i+"' found!";var s=f[i];if(!t.componentIsSupported(s,i))return void 0===p[i]&&(console.log("BubbleGum::addComponent unsupported component '"+i+"'. Reason: '"+i+".IS_SUPPORTED' returned false"),p[i]=!0),null;var o=n.dataset.componentList||"";o.includes(i)||(n.dataset.componentList=o.split(" ").concat(i).join(" "));var a=new s({el:n,data:r,componentName:e.componentName,gum:this,pageMetrics:d.pageMetrics});return this.components.push(a),this.componentsInitialized&&a.mounted(),a}},{key:"removeComponent",value:function(e){var t=this.components.indexOf(e);t!==-1&&(this.components.splice(t,1),e.el.dataset.componentList=e.el.dataset.componentList.split(" ").filter(function(t){return t!==e.componentName}).join(" "),e.destroy())}},{key:"getComponentOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",i=t.matches(n)?t:t.querySelector(n);return i?this.components.find(function(t){return t instanceof f[e]&&t.el===i}):null}},{key:"getComponentsOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",i=t.matches(n)?[t]:Array.from(t.querySelectorAll(n));return this.components.filter(function(t){return t instanceof f[e]&&i.includes(t.el)})}},{key:"getComponentsForElement",value:function(e){return this.components.filter(function(t){return t.el===e})}},{key:"onResizeImmediate",value:function(){this.components.forEach(function(e){return e.onResizeImmediate(d.pageMetrics)})}},{key:"onResizeDebounced",value:function(){this.components.forEach(function(e){return e.onResizeDebounced(d.pageMetrics)})}},{key:"onBreakpointChange",value:function(){this.components.forEach(function(e){return e.onBreakpointChange(d.pageMetrics)})}}],[{key:"componentIsSupported",value:function(e,t){var n=e.IS_SUPPORTED;if(void 0===n)return!0;if("function"!=typeof n)return console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var i=e.IS_SUPPORTED();return void 0===i?(console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):i}}]),t}(u);m.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},t.exports=m},{119:119,125:125,142:142,155:155,35:35,49:49,51:51,53:53,54:54,55:55,58:58}],142:[function(e,t,n){"use strict";t.exports={BaseComponent:e(140)}},{140:140}],143:[function(e,t,n){"use strict";function i(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e(35).EventEmitterMicro,o=e(113),a=e(98);r=i.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=i},{113:113,35:35,98:98}],144:[function(e,t,n){"use strict";var i=e(146),r=function(e){this.rafEmitter=new i,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx!==-1&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},t.exports=r},{146:146}],145:[function(e,t,n){"use strict";var i=e(144),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{144:144}],146:[function(e,t,n){"use strict";var i=e(143),r=function(e){i.call(this,e)},s=r.prototype=Object.create(i.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{143:143}],147:[function(e,t,n){"use strict";var i=e(145);t.exports=i.requestAnimationFrame("draw")},{145:145}],148:[function(e,t,n){"use strict";var i=e(145);t.exports=i.requestAnimationFrame("update")},{145:145}],149:[function(e,t,n){"use strict";var i=e(55),r=i(e(50)),s=i(e(49)),o=i(e(51)),a=e(148),c=e(147),u=e(150),l=e(152),h=e(153),d=e(151),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,s["default"])(this,e),"number"!=typeof t||!isFinite(t))throw new TypeError('Clip duration must be a finite number; got "'.concat(t,'"'));"function"==typeof n&&(n={draw:n}),this.ease=l(n.ease),this.update=l(n.update),this.draw=n.draw,this.prepare=l(n.prepare),this.finish=l(n.finish),this._duration=1e3*t,this._startTime=null,this._isPrepared=!1,this._promise=null,this._isPlaying=!1}return(0,o["default"])(e,[{key:"_run",value:function(e,t){var n=this;this.lastFrameTime=Date.now(),null===this._startTime&&(this._startTime=this.lastFrameTime);var i=this.easedProgress;this.update&&a(function(){return n._isPlaying&&n.update(i)}),c(function(){n._isPlaying&&(n.draw(i),n.isComplete?h(c,[n.finish,t]):n._run(n,t))})}},{key:"play",value:function(){var e=this;if("function"!=typeof this.draw)throw new Error('Clip must be given a "draw" function as an option or have its "draw" method overriden.');return this._isPlaying=!0,this._promise?this._promise:(this._promise=new Promise(function(t,n){!e._isPrepared&&e.prepare?(e._isPrepared=!0,c(function(){return u(e.prepare(),function(){e._run(e,t)})})):e._run(e,t)}),this._promise)}},{key:"destroy",value:function(){this._isPlaying=!1,this.draw=this.finish=this.update=null}},{key:"isReversed",get:function(){return this._duration<0}},{key:"isComplete",get:function(){var e=this.progress;return!this.isReversed&&e>=1||this.isReversed&&e<=0}},{key:"progress",get:function(){if(0===this._duration)return 1;var e=(this.lastFrameTime-this._startTime)/this._duration;return this.isReversed&&(e=1+e),d(e,0,1)}},{key:"easedProgress",get:function(){return this.ease?this.ease(this.progress):this.progress}}],[{key:"play",value:function(){return(0,r["default"])(this,Array.prototype.slice.call(arguments)).play()}}]),e}();t.exports=f},{147:147,148:148,150:150,151:151,152:152,153:153,49:49,50:50,51:51,55:55}],150:[function(e,t,n){"use strict";t.exports=function(e,t){e instanceof Promise?e.then(t):t()}},{}],151:[function(e,t,n){"use strict";t.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},{}],152:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e?e:null}},{}],153:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){var s=t[r];"function"==typeof s&&e(t[r]),r++,r<i&&n()}var i=t.length,r=0;n()}},{}],154:[function(e,t,n){"use strict";var i={create:e(180),invert:e(181),clone:e(179),transpose:e(186)},r={create:e(189),dot:e(191),normalize:e(194),length:e(193),cross:e(190),fromValues:e(192)},s={create:e(195),transformMat4:e(197),fromValues:e(196)},o=(Math.PI/180,180/Math.PI),a=0,c=1,u=3,l=4,h=5,d=7,f=11,p=12,m=13,y=15,v=function(e,t){t=t||!1;for(var n=i.clone(e),a=r.create(),c=r.create(),l=r.create(),h=s.create(),p=s.create(),m=(r.create(),0);m<16;m++)n[m]/=n[y];var v=i.clone(n);v[u]=0,v[d]=0,v[f]=0,v[y]=1;var E=(n[3],n[7],n[11],n[12]),w=n[13],S=n[14],x=(n[15],s.create());if(_(n[u])&&_(n[d])&&_(n[f]))h=s.fromValues(0,0,0,1);else{x[0]=n[u],x[1]=n[d],x[2]=n[f],x[3]=n[y];var k=i.invert(i.create(),v),T=i.transpose(i.create(),k);h=s.transformMat4(h,x,T)}a[0]=E,a[1]=w,a[2]=S;var O=[r.create(),r.create(),r.create()];O[0][0]=n[0],O[0][1]=n[1],O[0][2]=n[2],O[1][0]=n[4],O[1][1]=n[5],O[1][2]=n[6],O[2][0]=n[8],O[2][1]=n[9],O[2][2]=n[10],c[0]=r.length(O[0]),r.normalize(O[0],O[0]),l[0]=r.dot(O[0],O[1]),O[1]=g(O[1],O[0],1,-l[0]),c[1]=r.length(O[1]),r.normalize(O[1],O[1]),l[0]/=c[1],l[1]=r.dot(O[0],O[2]),O[2]=g(O[2],O[0],1,-l[1]),l[2]=r.dot(O[1],O[2]),O[2]=g(O[2],O[1],1,-l[2]),c[2]=r.length(O[2]),r.normalize(O[2],O[2]),l[1]/=c[2],l[2]/=c[2];var I=r.cross(r.create(),O[1],O[2]);if(r.dot(O[0],I)<0)for(m=0;m<3;m++)c[m]*=-1,O[m][0]*=-1,O[m][1]*=-1,O[m][2]*=-1;p[0]=.5*Math.sqrt(Math.max(1+O[0][0]-O[1][1]-O[2][2],0)),p[1]=.5*Math.sqrt(Math.max(1-O[0][0]+O[1][1]-O[2][2],0)),p[2]=.5*Math.sqrt(Math.max(1-O[0][0]-O[1][1]+O[2][2],0)),p[3]=.5*Math.sqrt(Math.max(1+O[0][0]+O[1][1]+O[2][2],0)),O[2][1]>O[1][2]&&(p[0]=-p[0]),O[0][2]>O[2][0]&&(p[1]=-p[1]),O[1][0]>O[0][1]&&(p[2]=-p[2]);var A=s.fromValues(p[0],p[1],p[2],2*Math.acos(p[3])),C=b(p);return t&&(l[0]=Math.round(l[0]*o*100)/100,l[1]=Math.round(l[1]*o*100)/100,l[2]=Math.round(l[2]*o*100)/100,C[0]=Math.round(C[0]*o*100)/100,C[1]=Math.round(C[1]*o*100)/100,C[2]=Math.round(C[2]*o*100)/100,A[3]=Math.round(A[3]*o*100)/100),{translation:a,scale:c,skew:l,perspective:h,quaternion:p,eulerRotation:C,axisAngle:A}},g=function(e,t,n,i){var s=r.create();return s[0]=n*e[0]+i*t[0],s[1]=n*e[1]+i*t[1],s[2]=n*e[2]+i*t[2],s},b=function(e){var t,n,i,s=e[3]*e[3],o=e[0]*e[0],a=e[1]*e[1],c=e[2]*e[2],u=o+a+c+s,l=e[0]*e[1]+e[2]*e[3];return l>.499*u?(n=2*Math.atan2(e[0],e[3]),i=Math.PI/2,t=0,r.fromValues(t,n,i)):l<-.499*u?(n=-2*Math.atan2(e[0],e[3]),i=-Math.PI/2,t=0,r.fromValues(t,n,i)):(n=Math.atan2(2*e[1]*e[3]-2*e[0]*e[2],o-a-c+s),i=Math.asin(2*l/u),t=Math.atan2(2*e[0]*e[3]-2*e[1]*e[2],-o+a-c+s),r.fromValues(t,n,i))},_=function(e){return Math.abs(e)<1e-4},E=function(e){var t=String(getComputedStyle(e).transform).trim(),n=i.create();if("none"===t||""===t)return n;var r,s,o=t.slice(0,t.indexOf("("));if("matrix3d"===o)for(r=t.slice(9,-1).split(","),s=0;s<r.length;s++)n[s]=parseFloat(r[s]);else{if("matrix"!==o)throw new TypeError("Invalid Matrix Value");for(r=t.slice(7,-1).split(","),s=r.length;s--;)r[s]=parseFloat(r[s]);n[a]=r[0],n[c]=r[1],n[p]=r[4],n[l]=r[2],n[h]=r[3],n[m]=r[5]}return n};t.exports=function(e,t){var n=E(e);return v(n,t)}},{179:179,180:180,181:181,186:186,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197}],155:[function(e,t,n){"use strict";var i=!1,r=!1,s=[];t.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(e){var t=this;if(r&&e(),s.push(e),!i){i=!0;var n=document.documentElement.scrollHeight,o=0,a=function c(){var e=document.documentElement.scrollHeight;if(n!==e)o=0;else if(o++,o>=t.NUMBER_OF_FRAMES_TO_WAIT)return void s.forEach(function(e){return e()});n=e,requestAnimationFrame(c)};requestAnimationFrame(a)}}}},{}],156:[function(e,t,n){"use strict";var i=e(34),r=e(157),s=e(32).ELEMENT;t.exports=function(e,t,n,o){if(r.childNode(e,"ancestors"),r.selector(t,"ancestors"),n&&i(e,s)&&(!t||e.matches(t)))return e;if(o=o||document.body,e!==o)for(;(e=e.parentNode)&&i(e,s);){if(!t||e.matches(t))return e;if(e===o)break}return null}},{157:157,32:32,34:34}],157:[function(e,t,n){"use strict";var i=e(34),r=e(32),s=r.COMMENT,o=r.DOCUMENT_FRAGMENT,a=r.DOCUMENT,c=r.ELEMENT,u=r.TEXT,l=[c,a,o],h=" must be an Element, Document, or Document Fragment",d=[c,u,s],f=" must be an Element, TextNode, or Comment",p=" must be a string";t.exports={parentNode:function(e,t){if(!e||!i(e,l))throw new TypeError(t+": node"+h)},childNode:function(e,t){if(!e||!i(e,d))throw new TypeError(t+": node"+f)},selector:function(e,t,n){if(n="boolean"==typeof n&&n,(e||n)&&"string"!=typeof e)throw new TypeError(t+": selector"+p)}}},{32:32,34:34}],158:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(58)),o=i(e(53)),a=i(e(48)),c=i(e(54)),u=e(36),l=e(161),h=e(167),d=e(164),f=e(169),p=e(174),m=e(163),y=e(168),v=e(170),g=["beforeCreate","created","beforeMount","createItems","itemsCreated","mounted","animateToItem","onItemChangeInitiated","onItemChangeOccurred","onItemChangeCompleted","onResizeImmediate","onBreakpointChange","onResizeDebounced","destroy"],b=function(e){function t(e){var n;return(0,
r["default"])(this,t),n=(0,s["default"])(this,(0,o["default"])(t).call(this,e)),n.el=e.el,n.model=Object.assign({options:e},JSON.parse(JSON.stringify(l))),n.model.Item.ConstructorFunction=l.Item.ConstructorFunction,n._items=[],n.currentIndex=0,g.forEach(function(e){n[e]=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];n["__".concat(e)]&&n["__".concat(e)].forEach(function(e){return e.apply((0,a["default"])(n),i)})}}),n.on(l.Events.ITEM_CHANGE_INITIATED,n.onItemChangeInitiated),n.on(l.Events.ITEM_CHANGE_OCCURRED,n.onItemChangeOccurred),n.on(l.Events.ITEM_CHANGE_COMPLETED,n.onItemChangeCompleted),["beforeCreate","created","beforeMount","createItems"].forEach(function(t){return n[t](e)}),n}return(0,c["default"])(t,e),t}(u);b.withMixins=function(){for(var e=function(e){function t(){return(0,r["default"])(this,t),(0,s["default"])(this,(0,o["default"])(t).apply(this,arguments))}return(0,c["default"])(t,e),t}(b),t=e.prototype,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.unshift(h,p,f),i.push(m,v,d,y),i.forEach(function(e){for(var n in e)g.includes(n)?(t["__".concat(n)]=t["__".concat(n)]||[],t["__".concat(n)].push(e[n])):t[n]=e[n]}),e},t.exports=b},{161:161,163:163,164:164,167:167,168:168,169:169,170:170,174:174,36:36,48:48,49:49,53:53,54:54,55:55,58:58}],159:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(53)),c=i(e(48)),u=i(e(54)),l=e(35).EventEmitterMicro,h={draw:e(107),cancelDraw:e(105)},d=function(e){function t(e){var n;return(0,r["default"])(this,t),n=(0,o["default"])(this,(0,a["default"])(t).call(this)),n._x=0,n._y=0,n._opacity=0,n._width=0,n._height=0,n._zIndex=0,n.index=e.index,n.el=e.el,n.applyDraw=n.applyDraw.bind((0,c["default"])(n)),n.measure(),n}return(0,u["default"])(t,e),(0,s["default"])(t,[{key:"measure",value:function(){var e=getComputedStyle(this.el);this._width=this.el.clientWidth,this._height=this.el.clientHeight,this._zIndex=parseInt(e.getPropertyValue("z-index")),this._opacity=parseFloat(e.getPropertyValue("opacity"))}},{key:"select",value:function(){this.el.classList.add("current"),this.trigger("select",this)}},{key:"deselect",value:function(){this.el.classList.remove("current"),this.trigger("deselect",this)}},{key:"progress",value:function(e){}},{key:"needsRedraw",value:function(){h.cancelDraw(this._rafID),this._rafID=h.draw(this.applyDraw,!0)}},{key:"applyDraw",value:function(){this.el.style.zIndex=this._zIndex,this.el.style.opacity=this._opacity,this.el.style.transform="translate(".concat(this._x,"px, ").concat(this._y,"px)")}},{key:"id",get:function(){return this.el.id}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.needsRedraw()}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.needsRedraw()}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this.needsRedraw()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this.needsRedraw()}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this.needsRedraw()}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.needsRedraw()}}]),t}(l);t.exports=d},{105:105,107:107,35:35,48:48,49:49,51:51,53:53,54:54,55:55,58:58}],160:[function(e,t,n){"use strict";var i=e(107),r=function(){return"mixin_mask_"+Math.random().toString(16).slice(2)};t.exports={combine:function(e){var t=r(),n={beforeCreate:function(){this[t]=s(this.model.pageMetrics.breakpoint),o(this,"beforeCreate")},onBreakpointChange:function(e){var n=this,r=s(e.breakpoint);r!==this[t]&&(o(this,"destroy"),this[t]=r,i(function(){o(n,"beforeCreate",n.model.options),o(n,"created",n.model.options),o(n,"beforeMount",n.model.options),o(n,"itemsCreated"),o(n,"mounted")},!0))},destroy:function(){o(this,"destroy"),this[t]=null}},s=function(t){var n=e.find(function(e){return e.breakpointMask.includes(t)});if(!n)throw"Cannot find mode for current breakpoint ".concat(t,". Current Settings ").concat(e);return n.mixin},o=function(e,n){if(e[t][n]){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return e[t][n].apply(e,r)}};return e.forEach(function(e){e.mixin||(e.mixin={}),Object.keys(e.mixin).forEach(function(e){return n[e]=n[e]||function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o.apply(void 0,[this,e].concat(n))}})}),n}}},{107:107}],161:[function(e,t,n){"use strict";t.exports={PrefersReducedMotion:!1,IsRTL:!1,IsTouch:!1,Slide:{Selector:".slide-container"},Item:{Selector:".gallery-item",ConstructorFunction:e(159)},DotNav:{Selector:".dotnav"},PaddleNav:{Selector:".paddlenav"},ChapterPlayer:{defaultEase:function(e){return e}},FadeCaptionOnChange:{ItemSelector:".captions-gallery [data-captions-gallery-item]"},TabNav:{ItemSelector:".tabnav-items .tabnav-item",RoamingTabIndexSelector:"a"},SwipeDrag:{DesktopSwipe:!1,movementRateMultiplier:1.5,velocityMultiplier:8},Events:{ITEM_CHANGE_INITIATED:"ITEM_CHANGE_INITIATED",ITEM_CHANGE_OCCURRED:"ITEM_CHANGE_OCCURRED",ITEM_CHANGE_COMPLETED:"ITEM_CHANGE_COMPLETED"}}},{159:159}],162:[function(e,t,n){"use strict";var i;try{i=e("@marcom/ac-analytics").observer.Gallery}catch(r){}t.exports={created:function(e){this.analytics={lastTrackedItem:null,observer:null,events:{UPDATE:"update",UPDATE_COMPLETE:"update:complete"}}},mounted:function(){if(i){var e=this.el.getAttribute("id");e||(console.warn("No ID attribute found on the Mixin Gallery element - please add an ID",this),e="null"),this.analytics.observer=new i(this,{galleryName:e,beforeUpdateEvent:this.analytics.events.UPDATE,afterUpdateEvent:this.analytics.events.UPDATE_COMPLETE,trackAutoRotate:!0})}},onItemChangeCompleted:function(e){if(e.previous&&e.current!==this.analytics.lastTrackedItem&&(e.current!==e.previous||this.analytics.lastTrackedItem)){this.analytics.lastTrackedItem=e.current;var t={incoming:{id:e.current.id},outgoing:{id:e.previous.id},interactionEvent:this.lastInteractionEvent};this.trigger(this.analytics.events.UPDATE_COMPLETE,t)}}}},{undefined:void 0}],163:[function(e,t,n){"use strict";t.exports={createItems:function(e){var t=this;if(this._items.length)return void this.itemsCreated();if(!this.model.Item.ConstructorFunction)throw new ReferenceError("MixinGallery::AutoCreateItems - this.model.Item.ConstructorFunction is null");if(0===this._items.length){this._items=[],Array.from(this.el.querySelectorAll(this.model.Item.Selector)).forEach(function(e,n){var i=new t.model.Item.ConstructorFunction({el:e,index:n});t._items.push(i)});for(var n=this._items[this._items.length-1],i=0;i<this._items.length;i++){var r=this._items[i];r.prev=n,r.next=this._items[i+1],n=r}n.next=this._items[0]}this.itemsCreated()}}},{}],164:[function(e,t,n){"use strict";t.exports={itemsCreated:function(e){var t=this;this.model.options.gum||this._isVue||(this.anim.on("ON_RESIZE_IMMEDIATE",function(e){return t.onResizeImmediate(e)}),this.anim.on("ON_RESIZE_DEBOUNCED",function(e){return t.onResizeDebounced(e)}),this.anim.on("ON_BREAKPOINT_CHANGE",function(e){return t.onBreakpointChange(e)}),requestAnimationFrame(this.mounted))}}},{}],165:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.clampedIndex=!0},wrappedIndex:function(e){return Math.max(0,Math.min(e,this._items.length-1))}}},{}],166:[function(e,t,n){"use strict";var i=e(3),r=e(14),s=e(17);t.exports={created:function(){this.dotNav={navElement:null,current:null,roamingTabIndex:null,items:[],onRoamingTabIndexSelect:function(e){var t=this.dotNav.items.filter(function(t){return t===e.el});if(0===t.length)throw"Could not find tab nav item"}},this.dotNav.onRoamingTabIndexSelect=this.dotNav.onRoamingTabIndexSelect.bind(this)},itemsCreated:function(){var e=this;this.dotNav.navElement=this.el.querySelector(this.model.DotNav.Selector),this._items.forEach(function(t,n){var i=e.dotNav.navElement.querySelector("a[data-ac-gallery-trigger=".concat(t.id,"]"));i.setAttribute("role",s.TAB),i.setAttribute(r.CONTROLS,t.id),i.setAttribute(r.SELECTED,!1),t.on("select",function(){i.classList.add("current"),i.parentElement.classList.add("current"),i.setAttribute(r.SELECTED,!0)}),t.on("deselect",function(){i.classList.remove("current"),i.parentElement.classList.remove("current"),i.setAttribute(r.SELECTED,!1)}),i.parentElement.addEventListener("click",function(n){n.preventDefault(),e.lastInteractionEvent=n;var i=e.currentIndex+(t.index-e.wrappedIndex(e.currentIndex));e.animateToItem(i)}),e.dotNav.items.push(i),t.el.setAttribute("role",s.TABPANEL),t.el.setAttribute(r.LABELLEDBY,e.dotNav.items[n].id)})},mounted:function(){this.dotNav.roamingTabIndex=new i(this.dotNav.navElement,{selector:"a"}),this.dotNav.roamingTabIndex.start(),this.dotNav.roamingTabIndex.on("onSelect",this.dotNav.onRoamingTabIndexSelect)},onItemChangeCompleted:function(e){var t=this.dotNav.items.filter(function(t){return t.getAttribute("data-ac-gallery-trigger")===e.current.id})[0];this.setCurrentItem(t),this.dotNav.roamingTabIndex.setSelectedItemByIndex(this.wrappedIndex(this.currentIndex),!0)},setCurrentItem:function(e){e!==this.dotNav.current&&(this.dotNav.current=e)}}},{14:14,17:17,3:3}],167:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){var e=this;Object.defineProperties(this,{currentItem:{configurable:!0,get:function(){return e._items[e.wrappedIndex(e.currentIndex)]}}})},wrappedIndex:function(e){return e%=this._items.length,e<0?this._items.length+e:e},getItemForTrigger:function(e){return this._items.find(function(t){return t.id===e})}}},{}],168:[function(e,t,n){"use strict";t.exports={mounted:function(){var e=this._items[this.wrappedIndex(this.currentIndex)],t=this;this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:e}),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:t,current:e}),this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:e})}}},{}],169:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){document.body._animInfo&&(this.anim=document.body._animInfo.group.anim,this.model.pageMetrics=this.anim.model.pageMetrics)},addKeyframe:function(e){var t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)},addDiscreteEvent:function(e){e.event=e.event||"Generic-Event-Name-"+tmpUUID++;var t=void 0!==e.end&&e.end!==e.start,n=this.addKeyframe(e);return t?(e.onEnterOnce&&n.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&n.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&n.controller.on(e.event+":enter",e.onEnter),e.onExit&&n.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&n.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&n.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&n.controller.on(e.event,e.onEvent),e.onEventReverse&&n.controller.on(e.event+":reverse",e.onEventReverse)),n},addRAFLoop:function(e){var t=["start","end"];if(!t.every(function(t){return e.hasOwnProperty(t)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));var n=new RAFEmitter.create;n.on("update",e.onUpdate||noop),n.on("draw",e.onDraw||noop),n.on("draw",function(){return n.run()});var i=e.onEnter,r=e.onExit;return e.onEnter=function(){n.run(),i?i():0},e.onExit=function(){n.cancel(),r?r():0},this.addDiscreteEvent(e)},addContinuousEvent:function(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+tmpUUID++;var t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}}},{}],170:[function(e,t,n){"use strict";var i=e(8),r=e(12);t.exports={itemsCreated:function(e){var t=this;this._items.forEach(function(e,n){n===t.wrappedIndex(t.currentIndex)?r(e.el):i(e.el)})},onItemChangeCompleted:function(e){var t=this.selections.completed,n=t.previous,s=t.current;n&&n!==s&&i(n.el),r(s.el)}}},{12:12,8:8}],171:[function(e,t,n){"use strict";var i=e(149),r=e(133),s=e(111),o=e(107),a=e(105);t.exports={beforeCreate:function(){var e=this;Object.defineProperties(this,{widthOfItem:{configurable:!0,get:function(){return e._items[0].width}}})},created:function(e){this.position=0,this.target=0,this.slideContainer=this.el.querySelector(this.model.Slide.Selector)},mounted:function(){var e=this;s(function(){e._items.forEach(function(e){e.measure(),e.x=e.width*e.index}),o(function(){e.position=e.target=e.convertSlideIndexToHorizontalPosition(e.wrappedIndex(e.currentIndex)),e.slideContainer.style.transform="translate3d(".concat(-e.position,"px, 0,0)"),e.checkForSlideUpdate(!0)})})},animateToItem:function(e){var t=this,n=this.wrappedIndex(e);if(this.currentIndex!==n){this.el.parentElement.scrollLeft=0;var s="cubic-bezier(0.645, 0.045, 0.355, 1)";this.clip&&this.clip._isPlaying&&(this.clip.destroy(),s="cubic-bezier(0.23, 1, 0.32, 1)");var o=this.target,a=this.convertSlideIndexToHorizontalPosition(e),c=this.model.PrefersReducedMotion?.001:1,u=this._items[this.wrappedIndex(e)];this.clip=new i(c,{ease:r.fromCSSString(s),prepare:function(){return t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:u})},update:function(e){e=Math.min(1,Math.max(e,0)),t.target=o+(a-o)*e},draw:function(){return t.draw(1)},finish:function(){return t.trigger(t.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:u})}}),this.slideContainer.style.transition="transform ".concat(c,"s ").concat(s),this.slideContainer.style.transform="translate3d(".concat(-a,"px, 0,0)"),this.clip.play().then(function(){t.clip.destroy(),t.clip=null})}},draw:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.target-this.position;this.position+=n*t;var i=Math.abs(this.position-this.target);i<.1&&(this.position=this.target),this.checkForSlideUpdate(),1!==t&&(this.slideContainer.style.transition="transform 0.1s cubic-bezier(0.23, 1, 0.32, 1)",this.slideContainer.style.transform="translate(".concat(-this.position,"px, 0)"),Math.abs(i)>0&&(a(this.dragDrawId),o(function(){return e.draw(t)}))),this._items.forEach(function(t){var n=e.position-t.x,i=n/e.widthOfItem;t._progress=i,t.progress(i)})},checkForSlideUpdate:function(e){var t=Math.floor((this.position+.5*this.widthOfItem)/this.widthOfItem);(t!==this.currentIndex||e)&&(this.currentIndex=t,this.wrapSlideItems(),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,current:this.currentItem}))},wrapSlideItems:function(){this.clampedIndex||(this.currentItem.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex),this.currentItem.prev.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex-1),this.currentItem.next.x=this.convertSlideIndexToHorizontalPosition(this.currentIndex+1))},onResizeImmediate:function(){var e=this;this.clip&&(this.clip.destroy(),this.clip=null),this._items.forEach(function(e){e.measure(),e.x=e.width*e.index}),this.currentIndex=this.wrappedIndex(this.currentItem.index),this.wrapSlideItems(),this.position=this.target=this.convertSlideIndexToHorizontalPosition(this.currentIndex),this.slideContainer.style.transition="none",o(function(){e.slideContainer.style.transform="translate3d(".concat(-e.position,"px, 0,0)")})},convertSlideIndexToHorizontalPosition:function(e){return e*this.widthOfItem},destroy:function(){var e=this;this._items.forEach(function(t){t.measure(),t.x=0,t.zIndex=t===e.currentItem?2:0}),this.slideContainer.removeAttribute("style")}}},{105:105,107:107,111:111,133:133,149:149}],172:[function(e,t,n){"use strict";var i=e(107),r=e(105);t.exports={created:function(e){this.swipeDrag={movementRateMultiplier:this.model.SwipeDrag.movementRateMultiplier,velocityMultiplier:this.model.SwipeDrag.velocityMultiplier,dragDrawId:-1,waitingToReachTargetDrawId:-1,inputStart:{x:0,y:0},swipeVelocity:0,isDragging:!1},this._onStartDrag=this._onStartDrag.bind(this),this._onDrag=this._onDrag.bind(this),this._onStopDrag=this._onStopDrag.bind(this),this.waitingToReachTarget=this.waitingToReachTarget.bind(this)},mounted:function(){this.inputMoveEventName=this.model.IsTouch?"touchmove":"mousemove",this.inputUpEventName=this.model.IsTouch?"touchend":"mouseup",this.inputDownEvent=this.model.IsTouch?"touchstart":"mousedown",(this.model.IsTouch||this.model.SwipeDrag.DesktopSwipe)&&(this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),this.el.addEventListener(this.inputDownEvent,this._onStartDrag))},_onStartDrag:function(e){r(this.swipeDrag.dragDrawId),r(this.swipeDrag.waitingToReachTargetDrawId);var t=e.target||e.relatedTarget;switch(!0){case"A"===t.tagName:case"BUTTON"===t.tagName:case!e.touches&&1!==e.which:return}this.clip&&this.clip.destroy(),this.lastInteractionEvent=e,this.swipeDrag.swipeVelocity=0,this.swipeDrag.isDragging=!1;var n=this.model.IsTouch?e.touches[0]:e,i=n.screenX,s=n.screenY;this.swipeDrag.inputStart={x:i,y:s},window.addEventListener(this.inputMoveEventName,this._onDrag,{passive:!1}),window.addEventListener(this.inputUpEventName,this._onStopDrag)},_onDrag:function(e){var t=this;this.swipeDrag.isDragging&&e.cancelable&&e.preventDefault();var n=this.model.IsTouch?e.touches[0]:e,s=n.screenX,o=n.screenY,a=this.swipeDrag.inputStart.x-s,c=this.swipeDrag.inputStart.y-o;this.swipeDrag.inputStart={x:s,y:o},this.swipeDrag.isDragging||(this.swipeDrag.isDragging=Math.abs(a)>3&&Math.abs(a)>Math.abs(c)),this.swipeDrag.isDragging&&(this.target+=a*this.swipeDrag.movementRateMultiplier,this.swipeDrag.swipeVelocity=a*this.swipeDrag.velocityMultiplier,this.clampedIndex&&(this.target=Math.min(this.widthOfItem*(this._items.length-1),Math.max(0,this.target))),r(this.swipeDrag.dragDrawId),this.swipeDrag.dragDrawId=i(function(){return t.draw(.3)}))},_onStopDrag:function(e){var t=this;if(window.removeEventListener(this.inputMoveEventName,this._onDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),this.swipeDrag.isDragging){for(var n=[this.currentIndex-1,this.currentIndex,this.currentIndex+1],s=0,o=Number.MAX_VALUE,a=0,c=n.length;a<c;a++){var u=n[a]*this.widthOfItem,l=Math.abs(u-(this.position+this.swipeDrag.swipeVelocity));l<o&&(o=l,s=a)}this.lastInteractionEvent=e;var h=n[s];this.target=this.convertSlideIndexToHorizontalPosition(h),r(this.swipeDrag.dragDrawId),r(this.swipeDrag.waitingToReachTargetDrawId),this.swipeDrag.dragDrawId=i(function(){t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:t._items[t.wrappedIndex(h)]}),t.draw(.2),t.waitingToReachTarget(h)})}},waitingToReachTarget:function(e){var t=this,n=Math.abs(this.position-this.target);if(n>.1)return void(this.swipeDrag.waitingToReachTargetDrawId=i(function(){return t.waitingToReachTarget(e)}));var r=this.selections.occurred.current;this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:this,current:r})},destroy:function(){this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag)}}},{105:105,107:107}],173:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=e(3),o=e(14),a=e(17);t.exports={created:function(){this.tabNav={items:[],current:null}},itemsCreated:function(){var e=this;Array.from(this.el.querySelectorAll(this.model.TabNav.ItemSelector)).forEach(function(t,n){var i=new c(t,n),r=e.getItemForTrigger(i.trigger);i.onSelected=function(t){e.lastInteractionEvent=t,t.preventDefault();var i=n-e.wrappedIndex(e.currentIndex),r=e.currentIndex+i;e.animateToItem(r)},r.on("select",function(){t.classList.add("current"),i.anchorEl.classList.add("current")}),r.on("deselect",function(){t.classList.remove("current"),i.anchorEl.classList.remove("current")}),i.anchorEl.addEventListener("click",i.onSelected),e.tabNav.items.push(i)}),this._items.forEach(function(t,n){t.el.setAttribute("role",a.TABPANEL),t.el.setAttribute(o.LABELLEDBY,e.tabNav.items[n].anchorEl.id),e.tabNav.items[n].anchorEl.setAttribute(o.CONTROLS,t.el.id)})},mounted:function(){var e=this.tabNav.items[0].el.parentElement;this.roamingTabIndex=new s(e,{selector:this.model.TabNav.RoamingTabIndexSelector})},onItemChangeCompleted:function(e){var t=this.tabNav.items.filter(function(t){return t.trigger===e.current.id})[0];this.setCurrentItem(t),this.roamingTabIndex.setSelectedItemByIndex(t.index,!0)},setCurrentItem:function(e){e!==this.tabNav.current&&(this.tabNav.current=e)}};var c=function u(e,t){(0,r["default"])(this,u),this.el=e,this.index=t,this.anchorEl=e.querySelector("a"),this.trigger=this.anchorEl.getAttribute("data-ac-gallery-trigger"),this.anchorEl.setAttribute("role",a.TAB)}},{14:14,17:17,3:3,49:49,55:55}],174:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.selections={initiated:{current:null,previous:null},occurred:{current:null,previous:null},completed:{current:null,previous:null}}},onItemChangeInitiated:function(e){this.selections.initiated.previous=this.selections.initiated.current,this.selections.initiated.current=this.selections.initiated.next,this.selections.initiated.next=e.next},onItemChangeOccurred:function(e){this.selections.occurred.previous=e.previous=this.selections.occurred.current,this.selections.occurred.current=e.current},onItemChangeCompleted:function(e){this.selections.completed.previous=e.previous=this.selections.completed.current,this.selections.completed.current=e.current}}},{}],175:[function(e,t,n){"use strict";t.exports={lerp:function(e,t,n){return t+(n-t)*e},map:function(e,t,n,i,r){return i+(r-i)*(e-t)/(n-t)},mapClamp:function(e,t,n,i,r){var s=i+(r-i)*(e-t)/(n-t);return Math.max(i,Math.min(r,s))},norm:function(e,t,n){return(e-t)/(n-t)},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},randFloat:function(e,t){return Math.random()*(t-e)+e},randInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}},{}],176:[function(e,t,n){"use strict";var i=e(55),r=i(e(49)),s=i(e(51)),o=i(e(58)),a=i(e(48)),c=i(e(53)),u=i(e(52)),l=i(e(54)),h=e(35).EventEmitterMicro,d=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (min-width: 735px) and (max-width: 1068px)  "},{name:"L",mediaQuery:"only screen and (min-width: 1069px) and (max-width: 1440px)"},{name:"X",mediaQuery:"only screen and (min-width: 1441px)"}],f="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",p="only screen and (orientation: portrait)",m=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r["default"])(this,t),e=(0,o["default"])(this,(0,c["default"])(t).call(this)),e.BREAKPOINTS=n.breakpoints||d,e._setupProperties(),e._onRetinaChange=e._onRetinaChange.bind((0,a["default"])(e)),e._onOrientationChange=e._onOrientationChange.bind((0,a["default"])(e)),e.listenersAdded={orientation:!1,retina:!1,viewport:!1},e}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"on",value:function(){this._setupListeners(arguments[0]),(0,u["default"])((0,c["default"])(t.prototype),"on",this).apply(this,arguments)}},{key:"_onRetinaChange",value:function(){this.trigger(t.CHANGE_EVENTS.RETINA,this)}},{key:"_onOrientationChange",value:function(){this.trigger(t.CHANGE_EVENTS.ORIENTATION,this)}},{key:"_setupProperties",value:function(){Object.defineProperty(this,"retina",{get:function(){return window.matchMedia(f).matches}}),Object.defineProperty(this,"orientation",{get:function(){return window.matchMedia(p).matches?"portrait":"landscape"}}),this.viewport=this.getBreakpoint()}},{key:"_setupListeners",value:function(e){var n=this;if(e!==t.CHANGE_EVENTS.RETINA||this.listenersAdded.retina||(window.matchMedia(f).addListener(this._onRetinaChange),this.listenersAdded.retina=!0),e!==t.CHANGE_EVENTS.ORIENTATION||this.listenersAdded.orientation||(window.matchMedia(p).addListener(this._onOrientationChange),this.listenersAdded.orientation=!0),e===t.CHANGE_EVENTS.VIEWPORT&&!this.listenersAdded.viewport){for(var i=function(e){var i=n.BREAKPOINTS[e];window.matchMedia(i.mediaQuery).addListener(function(e){e.matches&&(n.oldViewport=n.viewport,n.viewport=i.name,n.trigger(t.CHANGE_EVENTS.VIEWPORT,n))})},r=0;r<this.BREAKPOINTS.length;r++)i(r);this.listenersAdded.viewport=!0}}},{key:"getBreakpoint",value:function(){for(var e=0;e<this.BREAKPOINTS.length;e++){var t=this.BREAKPOINTS[e],n=window.matchMedia(t.mediaQuery);if(n.matches)return t.name}}}],[{key:"CHANGE_EVENTS",get:function(){return{ORIENTATION:"change:orientation",RETINA:"change:retina",VIEWPORT:"change:viewport"}}}]),t}(h);t.exports=m},{35:35,48:48,49:49,51:51,52:52,53:53,54:54,55:55,58:58}],177:[function(e,t,n){"use strict";function i(e,t){r.call(this),this._id=e||o.ID,this._options=Object.assign({},o.OPTIONS,t),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(u.RETINA)},orientation:{portrait:window.matchMedia(u.PORTRAIT),landscape:window.matchMedia(u.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}var r=e(35).EventEmitterMicro,s=e(111),o={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},a={DOM_DISPATCH:"data-viewport-emitter-dispatch",STATE:"data-viewport-emitter-state"},c="::before",u={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},l={any:"change:any",orientation:"change:orientation",retina:"change:retina",viewport:"change:viewport"};Object.defineProperty(i,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a.DOM_DISPATCH}}),Object.defineProperty(i,"DOM_STATE_ATTRIBUTE",{get:function(){return a.STATE}});var h=i.prototype=Object.create(r.prototype);Object.defineProperty(h,"id",{get:function(){return this._id}}),Object.defineProperty(h,"element",{get:function(){return this._el}}),Object.defineProperty(h,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(h,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(h,"retina",{get:function(){return this._retina}}),Object.defineProperty(h,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(h,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),h.destroy=function(){this._removeListeners();for(var e in this._options)this._options[e]=null;for(var t in this._mediaQueryLists){var n=this._mediaQueryLists[t];for(var i in n)n[i]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,r.prototype.destroy.call(this)},h._initViewportEl=function(e){var t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,t=document.body.appendChild(t)),t.hasAttribute(a.DOM_DISPATCH)||(t.setAttribute(a.DOM_DISPATCH,""),this._allowDOMEventDispatch=!0),t.hasAttribute(a.STATE)||(this._allowElementStateData=!0),t},h._dispatch=function(e,t){var n={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var i=new CustomEvent(e,{detail:t}),r=new CustomEvent(l.any,{detail:n});this._el.dispatchEvent(i),this._el.dispatchEvent(r)}this.trigger(e,t),this.trigger(l.any,n)},h._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},h._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},h._updateElementStateData=function(){if(this._allowElementStateData){var e=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a.STATE,e)}},h._getViewport=function(e){var t=window.getComputedStyle(this._el,c).content;return t?(t=t.replace(/["']/g,""),e?t.split(":").pop():t):null},h._getRetina=function(e){return e.matches},h._getOrientation=function(e){var t=this._orientation;if(e.matches){var n=/portrait|landscape/;return e.media.match(n)[0]}return t},h._initOrientation=function(){var e=this._getOrientation(this._mediaQueryLists.orientation.portrait);return e?e:this._getOrientation(this._mediaQueryLists.orientation.landscape)},h._onViewportChange=function(){this._resizing||(this._resizing=!0,s(this._onViewportChangeUpdate))},h._onViewportChangeUpdate=function(){var e=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),e!==this._viewport){var t={from:e,to:this._viewport};this._updateElementStateData(),this._dispatch(l.viewport,t)}this._resizing=!1},h._onRetinaChange=function(e){var t=this._retina;if(this._retina=this._getRetina(e),t!==this._retina){var n={from:t,to:this._retina};this._updateElementStateData(),this._dispatch(l.retina,n)}},h._onOrientationChange=function(e){var t=this._orientation;if(this._orientation=this._getOrientation(e),t!==this._orientation){var n={from:t,to:this._orientation};this._updateElementStateData(),this._dispatch(l.orientation,n)}},t.exports=i},{111:111,35:35}],178:[function(e,t,n){function i(e){return d[125613361*(e&-e)>>>27]}function r(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e=(e>>1)+1,d[125613361*e>>>27]}function s(e,t,n){var i=(1<<t)-1<<n;return e^i}function o(e,t,n){var i=(1<<t)-1<<n;return e|i}function a(e,t,n){var i=2147483647^(1<<t)-1<<n;return e&i}function c(e,t){return e&t}function u(e,t){return e|t}function l(e,t){return e^t}var h=31,d=[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9];BitSet=function(e){var t,n,i,r,s;if("number"==typeof e)e=e||h,t=Math.ceil(e/h),this.arr=new Uint32Array(t),this.MAX_BIT=e-1;else{if(n=JSON.parse("["+e+"]"),this.MAX_BIT=n.pop(),r=n.pop(),r>0){for(i=[],s=0;s<r;s++)i[s]=0;for(s=0;s<n.length;s++)i[r+s]=n[s];n=i}t=Math.ceil((this.MAX_BIT+1)/h),this.arr=new Uint32Array(t),this.arr.set(n)}},BitSet.prototype.get=function(e){var t=this._getWord(e);return t!==-1&&1===(this.arr[t]>>e%h&1)},BitSet.prototype.set=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]|=1<<e%h,!0)},BitSet.prototype.setRange=function(e,t){return this._doRange(e,t,o)},BitSet.prototype.unset=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]&=~(1<<e%h),!0)},BitSet.prototype.unsetRange=function(e,t){return this._doRange(e,t,a)},BitSet.prototype.toggle=function(e){var t=this._getWord(e);return t!==-1&&(this.arr[t]^=1<<e%h,!0)},BitSet.prototype.toggleRange=function(e,t){return this._doRange(e,t,s)},BitSet.prototype.clear=function(){for(var e=0;e<this.arr.length;e++)this.arr[e]=0;return!0},BitSet.prototype.clone=function(){return new BitSet(this.dehydrate())},BitSet.prototype.dehydrate=function(){var e,t,n,i=0;for(e=0;e<this.arr.length&&0===this.arr[e];e++)i++;for(e=this.arr.length-1;e>=i;e--)if(0!==this.arr[e]){t=e;break}for(n="",e=i;e<=t;e++)n+=this.arr[e]+",";return n+=i+","+this.MAX_BIT},BitSet.prototype.and=function(e){return this._op(e,c)},BitSet.prototype.or=function(e){return this._op(e,u)},BitSet.prototype.xor=function(e){return this._op(e,l)},BitSet.prototype.forEach=function(e){for(var t=this.ffs();t!==-1;t=this.nextSetBit(t+1))e(t);
},BitSet.prototype.getCardinality=function(){for(var e=0,t=this.arr.length-1;t>=0;t--){var n=this.arr[t];n-=n>>1&1431655765,n=(858993459&n)+(n>>2&858993459),e+=16843009*(n+(n>>4)&252645135)>>24}return e},BitSet.prototype.getIndices=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},BitSet.prototype.isSubsetOf=function(e){for(var t=this.arr,n=e.arr,i=t.length,r=0;r<i;r++)if((t[r]&n[r])!==t[r])return!1;return!0},BitSet.prototype.isEmpty=function(){var e,t;for(t=this.arr,e=0;e<t.length;e++)if(t[e])return!1;return!0},BitSet.prototype.isEqual=function(e){var t;for(t=0;t<this.arr.length;t++)if(this.arr[t]!==e.arr[t])return!1;return!0},BitSet.prototype.toString=function(){var e,t,n="";for(e=this.arr.length-1;e>=0;e--)t=this.arr[e].toString(2),n+=("0000000000000000000000000000000"+t).slice(-h);return n},BitSet.prototype.ffs=function(e){var t,n,r=-1;for(e=e||0,n=e;n<this.arr.length;n++)if(t=this.arr[n],0!==t){r=i(t)+n*h;break}return r<=this.MAX_BIT?r:-1},BitSet.prototype.ffz=function(e){var t,n,r=-1;for(e=e||0,t=e;t<this.arr.length;t++)if(n=this.arr[t],2147483647!==n){n^=2147483647,r=i(n)+t*h;break}return r<=this.MAX_BIT?r:-1},BitSet.prototype.fls=function(e){var t,n,i=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--)if(n=this.arr[t],0!==n){i=r(n)+t*h;break}return i},BitSet.prototype.flz=function(e){var t,n,i=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--){if(n=this.arr[t],t===this.arr.length-1){var s=this.MAX_BIT%h,o=h-s-1;n|=(1<<o)-1<<s+1}if(2147483647!==n){n^=2147483647,i=r(n)+t*h;break}}return i},BitSet.prototype.nextSetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=e%h,r=h-n,s=(1<<r)-1<<n,o=this.arr[t]&s;return o>0?i(o)+t*h:this.ffs(t+1)},BitSet.prototype.nextUnsetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=(1<<e%h)-1,r=this.arr[t]|n;return 2147483647===r?this.ffz(t+1):i(2147483647^r)+t*h},BitSet.prototype.previousSetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=2147483647>>>h-e%h-1,i=this.arr[t]&n;return i>0?r(i)+t*h:this.fls(t-1)},BitSet.prototype.previousUnsetBit=function(e){var t=this._getWord(e);if(t===-1)return-1;var n=e%h,i=(1<<h-n-1)-1<<n+1,s=this.arr[t]|i;return 2147483647===s?this.flz(t-1):r(2147483647^s)+t*h},BitSet.prototype._getWord=function(e){return e<0||e>this.MAX_BIT?-1:~~(e/h)},BitSet.prototype._doRange=function(e,t,n){var i,r,s,o;t<e&&(t^=e,e^=t,t^=e);var a=this._getWord(e),c=this._getWord(t);if(a===-1||c===-1)return!1;for(i=a;i<=c;i++)r=i===a?e%h:0,s=i===c?t%h:h-1,o=s-r+1,this.arr[i]=n(this.arr[i],o,r);return!0},BitSet.prototype._op=function(e,t){var n,i,r,s,o,a;if(i=this.arr,"number"==typeof e)a=this._getWord(e),o=this.clone(),a!==-1&&(o.arr[a]=t(i[a],1<<e%h));else for(r=e.arr,s=i.length,o=new BitSet(this.MAX_BIT+1),n=0;n<s;n++)o.arr[n]=t(i[n],r[n]);return o},"function"==typeof define&&define.amd?define([],function(){return BitSet}):"object"==typeof n&&(t.exports=BitSet)},{}],179:[function(e,t,n){function i(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=i},{}],180:[function(e,t,n){function i(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=i},{}],181:[function(e,t,n){function i(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15],g=n*a-i*o,b=n*c-r*o,_=n*u-s*o,E=i*c-r*a,w=i*u-s*a,S=r*u-s*c,x=l*m-h*p,k=l*y-d*p,T=l*v-f*p,O=h*y-d*m,I=h*v-f*m,A=d*v-f*y,C=g*A-b*I+_*O+E*T-w*k+S*x;return C?(C=1/C,e[0]=(a*A-c*I+u*O)*C,e[1]=(r*I-i*A-s*O)*C,e[2]=(m*S-y*w+v*E)*C,e[3]=(d*w-h*S-f*E)*C,e[4]=(c*T-o*A-u*k)*C,e[5]=(n*A-r*T+s*k)*C,e[6]=(y*_-p*S-v*b)*C,e[7]=(l*S-d*_+f*b)*C,e[8]=(o*I-a*T+u*x)*C,e[9]=(i*T-n*I-s*x)*C,e[10]=(p*w-m*_+v*g)*C,e[11]=(h*_-l*w-f*g)*C,e[12]=(a*k-o*O-c*x)*C,e[13]=(n*O-i*k+r*x)*C,e[14]=(m*b-p*E-y*g)*C,e[15]=(l*E-h*b+d*g)*C,e):null}t.exports=i},{}],182:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[4],o=t[5],a=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+u*i,e[5]=o*r+l*i,e[6]=a*r+h*i,e[7]=c*r+d*i,e[8]=u*r-s*i,e[9]=l*r-o*i,e[10]=h*r-a*i,e[11]=d*r-c*i,e}t.exports=i},{}],183:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-u*i,e[1]=o*r-l*i,e[2]=a*r-h*i,e[3]=c*r-d*i,e[8]=s*i+u*r,e[9]=o*i+l*r,e[10]=a*i+h*r,e[11]=c*i+d*r,e}t.exports=i},{}],184:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+u*i,e[1]=o*r+l*i,e[2]=a*r+h*i,e[3]=c*r+d*i,e[4]=u*r-s*i,e[5]=l*r-o*i,e[6]=h*r-a*i,e[7]=d*r-c*i,e}t.exports=i},{}],185:[function(e,t,n){function i(e,t,n){var i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=i},{}],186:[function(e,t,n){function i(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=r,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}t.exports=i},{}],187:[function(e,t,n){"use strict";function i(e){n.ARRAY_TYPE=a=e}function r(e){return e*u}function s(e,t){return Math.abs(e-t)<=o*Math.max(1,Math.abs(e),Math.abs(t))}Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=i,n.toRadian=r,n.equals=s,n.RANDOM=n.ARRAY_TYPE=n.EPSILON=void 0;var o=1e-6;n.EPSILON=o;var a="undefined"!=typeof Float32Array?Float32Array:Array;n.ARRAY_TYPE=a;var c=Math.random;n.RANDOM=c;var u=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},{}],188:[function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{"default":e};var t=r();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n["default"]=e,t&&t.set(e,n),n}function o(){var e=new Z.ARRAY_TYPE(16);return Z.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new Z.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(e,t,n,i,r,s,o,a,c,u,l,h,d,f,p,m){var y=new Z.ARRAY_TYPE(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=i,y[4]=r,y[5]=s,y[6]=o,y[7]=a,y[8]=c,y[9]=u,y[10]=l,y[11]=h,y[12]=d,y[13]=f,y[14]=p,y[15]=m,y}function l(e,t,n,i,r,s,o,a,c,u,l,h,d,f,p,m,y){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=o,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=d,e[12]=f,e[13]=p,e[14]=m,e[15]=y,e}function h(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function d(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=r,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15],g=n*a-i*o,b=n*c-r*o,_=n*u-s*o,E=i*c-r*a,w=i*u-s*a,S=r*u-s*c,x=l*m-h*p,k=l*y-d*p,T=l*v-f*p,O=h*y-d*m,I=h*v-f*m,A=d*v-f*y,C=g*A-b*I+_*O+E*T-w*k+S*x;return C?(C=1/C,e[0]=(a*A-c*I+u*O)*C,e[1]=(r*I-i*A-s*O)*C,e[2]=(m*S-y*w+v*E)*C,e[3]=(d*w-h*S-f*E)*C,e[4]=(c*T-o*A-u*k)*C,e[5]=(n*A-r*T+s*k)*C,e[6]=(y*_-p*S-v*b)*C,e[7]=(l*S-d*_+f*b)*C,e[8]=(o*I-a*T+u*x)*C,e[9]=(i*T-n*I-s*x)*C,e[10]=(p*w-m*_+v*g)*C,e[11]=(h*_-l*w-f*g)*C,e[12]=(a*k-o*O-c*x)*C,e[13]=(n*O-i*k+r*x)*C,e[14]=(m*b-p*E-y*g)*C,e[15]=(l*E-h*b+d*g)*C,e):null}function p(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],v=t[15];return e[0]=a*(d*v-f*y)-h*(c*v-u*y)+m*(c*f-u*d),e[1]=-(i*(d*v-f*y)-h*(r*v-s*y)+m*(r*f-s*d)),e[2]=i*(c*v-u*y)-a*(r*v-s*y)+m*(r*u-s*c),e[3]=-(i*(c*f-u*d)-a*(r*f-s*d)+h*(r*u-s*c)),e[4]=-(o*(d*v-f*y)-l*(c*v-u*y)+p*(c*f-u*d)),e[5]=n*(d*v-f*y)-l*(r*v-s*y)+p*(r*f-s*d),e[6]=-(n*(c*v-u*y)-o*(r*v-s*y)+p*(r*u-s*c)),e[7]=n*(c*f-u*d)-o*(r*f-s*d)+l*(r*u-s*c),e[8]=o*(h*v-f*m)-l*(a*v-u*m)+p*(a*f-u*h),e[9]=-(n*(h*v-f*m)-l*(i*v-s*m)+p*(i*f-s*h)),e[10]=n*(a*v-u*m)-o*(i*v-s*m)+p*(i*u-s*a),e[11]=-(n*(a*f-u*h)-o*(i*f-s*h)+l*(i*u-s*a)),e[12]=-(o*(h*y-d*m)-l*(a*y-c*m)+p*(a*d-c*h)),e[13]=n*(h*y-d*m)-l*(i*y-r*m)+p*(i*d-r*h),e[14]=-(n*(a*y-c*m)-o*(i*y-r*m)+p*(i*c-r*a)),e[15]=n*(a*d-c*h)-o*(i*d-r*h)+l*(i*c-r*a),e}function m(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],y=e[15],v=t*o-n*s,g=t*a-i*s,b=t*c-r*s,_=n*a-i*o,E=n*c-r*o,w=i*c-r*a,S=u*p-l*f,x=u*m-h*f,k=u*y-d*f,T=l*m-h*p,O=l*y-d*p,I=h*y-d*m;return v*I-g*O+b*T+_*k-E*x+w*S}function y(e,t,n){var i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],y=t[13],v=t[14],g=t[15],b=n[0],_=n[1],E=n[2],w=n[3];return e[0]=b*i+_*a+E*h+w*m,e[1]=b*r+_*c+E*d+w*y,e[2]=b*s+_*u+E*f+w*v,e[3]=b*o+_*l+E*p+w*g,b=n[4],_=n[5],E=n[6],w=n[7],e[4]=b*i+_*a+E*h+w*m,e[5]=b*r+_*c+E*d+w*y,e[6]=b*s+_*u+E*f+w*v,e[7]=b*o+_*l+E*p+w*g,b=n[8],_=n[9],E=n[10],w=n[11],e[8]=b*i+_*a+E*h+w*m,e[9]=b*r+_*c+E*d+w*y,e[10]=b*s+_*u+E*f+w*v,e[11]=b*o+_*l+E*p+w*g,b=n[12],_=n[13],E=n[14],w=n[15],e[12]=b*i+_*a+E*h+w*m,e[13]=b*r+_*c+E*d+w*y,e[14]=b*s+_*u+E*f+w*v,e[15]=b*o+_*l+E*p+w*g,e}function v(e,t,n){var i,r,s,o,a,c,u,l,h,d,f,p,m=n[0],y=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*v+t[12],e[13]=t[1]*m+t[5]*y+t[9]*v+t[13],e[14]=t[2]*m+t[6]*y+t[10]*v+t[14],e[15]=t[3]*m+t[7]*y+t[11]*v+t[15]):(i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=i,e[1]=r,e[2]=s,e[3]=o,e[4]=a,e[5]=c,e[6]=u,e[7]=l,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=i*m+a*y+h*v+t[12],e[13]=r*m+c*y+d*v+t[13],e[14]=s*m+u*y+f*v+t[14],e[15]=o*m+l*y+p*v+t[15]),e}function g(e,t,n){var i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b(e,t,n,i){var r,s,o,a,c,u,l,h,d,f,p,m,y,v,g,b,_,E,w,S,x,k,T,O,I=i[0],A=i[1],C=i[2],M=Math.hypot(I,A,C);return M<Z.EPSILON?null:(M=1/M,I*=M,A*=M,C*=M,r=Math.sin(n),s=Math.cos(n),o=1-s,a=t[0],c=t[1],u=t[2],l=t[3],h=t[4],d=t[5],f=t[6],p=t[7],m=t[8],y=t[9],v=t[10],g=t[11],b=I*I*o+s,_=A*I*o+C*r,E=C*I*o-A*r,w=I*A*o-C*r,S=A*A*o+s,x=C*A*o+I*r,k=I*C*o+A*r,T=A*C*o-I*r,O=C*C*o+s,e[0]=a*b+h*_+m*E,e[1]=c*b+d*_+y*E,e[2]=u*b+f*_+v*E,e[3]=l*b+p*_+g*E,e[4]=a*w+h*S+m*x,e[5]=c*w+d*S+y*x,e[6]=u*w+f*S+v*x,e[7]=l*w+p*S+g*x,e[8]=a*k+h*T+m*O,e[9]=c*k+d*T+y*O,e[10]=u*k+f*T+v*O,e[11]=l*k+p*T+g*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function _(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[4],o=t[5],a=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+u*i,e[5]=o*r+l*i,e[6]=a*r+h*i,e[7]=c*r+d*i,e[8]=u*r-s*i,e[9]=l*r-o*i,e[10]=h*r-a*i,e[11]=d*r-c*i,e}function E(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-u*i,e[1]=o*r-l*i,e[2]=a*r-h*i,e[3]=c*r-d*i,e[8]=s*i+u*r,e[9]=o*i+l*r,e[10]=a*i+h*r,e[11]=c*i+d*r,e}function w(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+u*i,e[1]=o*r+l*i,e[2]=a*r+h*i,e[3]=c*r+d*i,e[4]=u*r-s*i,e[5]=l*r-o*i,e[6]=h*r-a*i,e[7]=d*r-c*i,e}function S(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function x(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t,n){var i,r,s,o=n[0],a=n[1],c=n[2],u=Math.hypot(o,a,c);return u<Z.EPSILON?null:(u=1/u,o*=u,a*=u,c*=u,i=Math.sin(t),r=Math.cos(t),s=1-r,e[0]=o*o*s+r,e[1]=a*o*s+c*i,e[2]=c*o*s-a*i,e[3]=0,e[4]=o*a*s-c*i,e[5]=a*a*s+r,e[6]=c*a*s+o*i,e[7]=0,e[8]=o*c*s+a*i,e[9]=a*c*s-o*i,e[10]=c*c*s+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function T(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,n){var i=t[0],r=t[1],s=t[2],o=t[3],a=i+i,c=r+r,u=s+s,l=i*a,h=i*c,d=i*u,f=r*c,p=r*u,m=s*u,y=o*a,v=o*c,g=o*u;return e[0]=1-(f+m),e[1]=h+g,e[2]=d-v,e[3]=0,e[4]=h-g,e[5]=1-(l+m),e[6]=p+y,e[7]=0,e[8]=d+v,e[9]=p-y,e[10]=1-(l+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function C(e,t){var n=new Z.ARRAY_TYPE(3),i=-t[0],r=-t[1],s=-t[2],o=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=i*i+r*r+s*s+o*o;return h>0?(n[0]=2*(a*o+l*i+c*s-u*r)/h,n[1]=2*(c*o+l*r+u*i-a*s)/h,n[2]=2*(u*o+l*s+a*r-c*i)/h):(n[0]=2*(a*o+l*i+c*s-u*r),n[1]=2*(c*o+l*r+u*i-a*s),n[2]=2*(u*o+l*s+a*r-c*i)),A(e,t,n),e}function M(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function P(e,t){var n=t[0],i=t[1],r=t[2],s=t[4],o=t[5],a=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.hypot(n,i,r),e[1]=Math.hypot(s,o,a),e[2]=Math.hypot(c,u,l),e}function R(e,t){var n=new Z.ARRAY_TYPE(3);P(n,t);var i=1/n[0],r=1/n[1],s=1/n[2],o=t[0]*i,a=t[1]*r,c=t[2]*s,u=t[4]*i,l=t[5]*r,h=t[6]*s,d=t[8]*i,f=t[9]*r,p=t[10]*s,m=o+l+p,y=0;return m>0?(y=2*Math.sqrt(m+1),e[3]=.25*y,e[0]=(h-f)/y,e[1]=(d-c)/y,e[2]=(a-u)/y):o>l&&o>p?(y=2*Math.sqrt(1+o-l-p),e[3]=(h-f)/y,e[0]=.25*y,e[1]=(a+u)/y,e[2]=(d+c)/y):l>p?(y=2*Math.sqrt(1+l-o-p),e[3]=(d-c)/y,e[0]=(a+u)/y,e[1]=.25*y,e[2]=(h+f)/y):(y=2*Math.sqrt(1+p-o-l),e[3]=(a-u)/y,e[0]=(d+c)/y,e[1]=(h+f)/y,e[2]=.25*y),e}function D(e,t,n,i){var r=t[0],s=t[1],o=t[2],a=t[3],c=r+r,u=s+s,l=o+o,h=r*c,d=r*u,f=r*l,p=s*u,m=s*l,y=o*l,v=a*c,g=a*u,b=a*l,_=i[0],E=i[1],w=i[2];return e[0]=(1-(p+y))*_,e[1]=(d+b)*_,e[2]=(f-g)*_,e[3]=0,e[4]=(d-b)*E,e[5]=(1-(h+y))*E,e[6]=(m+v)*E,e[7]=0,e[8]=(f+g)*w,e[9]=(m-v)*w,e[10]=(1-(h+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function F(e,t,n,i,r){var s=t[0],o=t[1],a=t[2],c=t[3],u=s+s,l=o+o,h=a+a,d=s*u,f=s*l,p=s*h,m=o*l,y=o*h,v=a*h,g=c*u,b=c*l,_=c*h,E=i[0],w=i[1],S=i[2],x=r[0],k=r[1],T=r[2],O=(1-(m+v))*E,I=(f+_)*E,A=(p-b)*E,C=(f-_)*w,M=(1-(d+v))*w,P=(y+g)*w,R=(p+b)*S,D=(y-g)*S,F=(1-(d+m))*S;return e[0]=O,e[1]=I,e[2]=A,e[3]=0,e[4]=C,e[5]=M,e[6]=P,e[7]=0,e[8]=R,e[9]=D,e[10]=F,e[11]=0,e[12]=n[0]+x-(O*x+C*k+R*T),e[13]=n[1]+k-(I*x+M*k+D*T),e[14]=n[2]+T-(A*x+P*k+F*T),e[15]=1,e}function N(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],o=n+n,a=i+i,c=r+r,u=n*o,l=i*o,h=i*a,d=r*o,f=r*a,p=r*c,m=s*o,y=s*a,v=s*c;return e[0]=1-h-p,e[1]=l+v,e[2]=d-y,e[3]=0,e[4]=l-v,e[5]=1-u-p,e[6]=f+m,e[7]=0,e[8]=d+y,e[9]=f-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t,n,i,r,s,o){var a=1/(n-t),c=1/(r-i),u=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*c,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(r+i)*c,e[10]=(o+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*u,e[15]=0,e}function K(e,t,n,i,r){var s,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(s=1/(i-r),e[10]=(r+i)*s,e[14]=2*r*i*s):(e[10]=-1,e[14]=-2*i),e}function U(e,t,n,i){var r=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+a),u=2/(r+s);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((o-a)*c*.5),e[9]=(r-s)*u*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e}function B(e,t,n,i,r,s,o){var a=1/(t-n),c=1/(i-r),u=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(r+i)*c,e[14]=(o+s)*u,e[15]=1,e}function q(e,t,n,i){var r,s,o,a,c,u,l,d,f,p,m=t[0],y=t[1],v=t[2],g=i[0],b=i[1],_=i[2],E=n[0],w=n[1],S=n[2];return Math.abs(m-E)<Z.EPSILON&&Math.abs(y-w)<Z.EPSILON&&Math.abs(v-S)<Z.EPSILON?h(e):(l=m-E,d=y-w,f=v-S,p=1/Math.hypot(l,d,f),l*=p,d*=p,f*=p,r=b*f-_*d,s=_*l-g*f,o=g*d-b*l,p=Math.hypot(r,s,o),p?(p=1/p,r*=p,s*=p,o*=p):(r=0,s=0,o=0),a=d*o-f*s,c=f*r-l*o,u=l*s-d*r,p=Math.hypot(a,c,u),p?(p=1/p,a*=p,c*=p,u*=p):(a=0,c=0,u=0),e[0]=r,e[1]=a,e[2]=l,e[3]=0,e[4]=s,e[5]=c,e[6]=d,e[7]=0,e[8]=o,e[9]=u,e[10]=f,e[11]=0,e[12]=-(r*m+s*y+o*v),e[13]=-(a*m+c*y+u*v),e[14]=-(l*m+d*y+f*v),e[15]=1,e)}function j(e,t,n,i){var r=t[0],s=t[1],o=t[2],a=i[0],c=i[1],u=i[2],l=r-n[0],h=s-n[1],d=o-n[2],f=l*l+h*h+d*d;f>0&&(f=1/Math.sqrt(f),l*=f,h*=f,d*=f);var p=c*d-u*h,m=u*l-a*d,y=a*h-c*l;return f=p*p+m*m+y*y,f>0&&(f=1/Math.sqrt(f),p*=f,m*=f,y*=f),e[0]=p,e[1]=m,e[2]=y,e[3]=0,e[4]=h*y-d*m,e[5]=d*p-l*y,e[6]=l*m-h*p,e[7]=0,e[8]=l,e[9]=h,e[10]=d,e[11]=0,e[12]=r,e[13]=s,e[14]=o,e[15]=1,e}function z(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function G(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function V(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function H(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function W(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Y(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}function X(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Q(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],y=e[14],v=e[15],g=t[0],b=t[1],_=t[2],E=t[3],w=t[4],S=t[5],x=t[6],k=t[7],T=t[8],O=t[9],I=t[10],A=t[11],C=t[12],M=t[13],P=t[14],R=t[15];return Math.abs(n-g)<=Z.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(i-b)<=Z.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(r-_)<=Z.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(s-E)<=Z.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(o-w)<=Z.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-S)<=Z.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(c-x)<=Z.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(u-k)<=Z.EPSILON*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-T)<=Z.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-O)<=Z.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-I)<=Z.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(f-A)<=Z.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(p-C)<=Z.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(m-M)<=Z.EPSILON*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(y-P)<=Z.EPSILON*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(v-R)<=Z.EPSILON*Math.max(1,Math.abs(v),Math.abs(R))}Object.defineProperty(n,"__esModule",{value:!0}),n.create=o,n.clone=a,n.copy=c,n.fromValues=u,n.set=l,n.identity=h,n.transpose=d,n.invert=f,n.adjoint=p,n.determinant=m,n.multiply=y,n.translate=v,n.scale=g,n.rotate=b,n.rotateX=_,n.rotateY=E,n.rotateZ=w,n.fromTranslation=S,n.fromScaling=x,n.fromRotation=k,n.fromXRotation=T,n.fromYRotation=O,n.fromZRotation=I,n.fromRotationTranslation=A,n.fromQuat2=C,n.getTranslation=M,n.getScaling=P,n.getRotation=R,n.fromRotationTranslationScale=D,n.fromRotationTranslationScaleOrigin=F,n.fromQuat=N,n.frustum=L,n.perspective=K,n.perspectiveFromFieldOfView=U,n.ortho=B,n.lookAt=q,n.targetTo=j,n.str=z,n.frob=G,n.add=V,n.subtract=H,n.multiplyScalar=W,n.multiplyScalarAndAdd=Y,n.exactEquals=X,n.equals=Q,n.sub=n.mul=void 0;var Z=s(e(187)),J=y;n.mul=J;var $=H;n.sub=$},{187:187}],189:[function(e,t,n){function i(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}t.exports=i},{}],190:[function(e,t,n){function i(e,t,n){var i=t[0],r=t[1],s=t[2],o=n[0],a=n[1],c=n[2];return e[0]=r*c-s*a,e[1]=s*o-i*c,e[2]=i*a-r*o,e}t.exports=i},{}],191:[function(e,t,n){function i(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.exports=i},{}],192:[function(e,t,n){function i(e,t,n){var i=new Float32Array(3);return i[0]=e,i[1]=t,i[2]=n,i}t.exports=i},{}],193:[function(e,t,n){function i(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)}t.exports=i},{}],194:[function(e,t,n){function i(e,t){var n=t[0],i=t[1],r=t[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}t.exports=i},{}],195:[function(e,t,n){function i(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}t.exports=i},{}],196:[function(e,t,n){function i(e,t,n,i){var r=new Float32Array(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}t.exports=i},{}],197:[function(e,t,n){function i(e,t,n){var i=t[0],r=t[1],s=t[2],o=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*s+n[12]*o,e[1]=n[1]*i+n[5]*r+n[9]*s+n[13]*o,e[2]=n[2]*i+n[6]*r+n[10]*s+n[14]*o,e[3]=n[3]*i+n[7]*r+n[11]*s+n[15]*o,e}t.exports=i},{}],198:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(35).EventEmitterMicro,f="function"==typeof HTMLImageElement.prototype.decode,p=function(e){function t(e){var n;r(this,t),n=a(this,u(t).call(this)),n.friendlyName="ImageSequencePlayer",n.desiredIndex=0,n.displayIndex=-1,n.numImages=e.numImages,n.numPadding=e.numPadding,n.images=new Array(n.numImages),n.retinaScale=1,n.canvas=null,n.ctx=null;var i="";return e.retina&&e.retina===e.viewport&&(i="_2x"),n.baseUrl="/105/media/us/ipad-pro/2020/7be9ce7b-fa4e-4f54-968b-4a7687066ed8/anim/depth-sensor/".concat(e.viewport).concat(i,"/").concat(e.viewport).concat(i),n.setup(),n}return l(t,e),o(t,[{key:"setup",value:function(){var e=this;this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!0}),this.once(t.FIRST_IMAGE_LOADED,function(t){return e.setSize(t.naturalWidth,t.naturalHeight)})}},{key:"splitArray",value:function(e,t,n){var i=Math.floor(t.length/2),r=t[i],s=e[r];e[r]={value:s,bucket:n};var o=t.slice(0,i),a=t.slice(i+1);return o.length&&this.splitArray(e,o,n+1),a.length&&this.splitArray(e,a,n+1),e}},{key:"loadImages",value:function(){var e=this;if(!this.buckets){for(var t=[],n=0;n<this.numImages;n++)t.push(n);var i=this.splitArray(t,t,0);this.buckets=[],i.forEach(function(t){e.buckets[t.bucket]=e.buckets[t.bucket]||[],e.buckets[t.bucket].push(t.value)}),this.firstImageLoaded=!1,this.canPlayThrough=!1,this.loadImage(0),this.loadImage(this.numImages-1),this.loadbucket()}}},{key:"loadImage",value:function(e,n){var i=this;if(this.images[e])return void(n&&n());var r=new Image,s=function a(){n&&n(),r.removeEventListener("load",a),i.firstImageLoaded||(i.firstImageLoaded=!0,i.trigger(t.FIRST_IMAGE_LOADED,r)),i.images[e]=r},o=String(e).padStart(this.numPadding,"0");r.src="".concat(this.baseUrl,"_").concat(o,".jpg"),r.index=e,f?r.decode().then(s)["catch"](function(e){return console.error}):r.addEventListener("load",s)}},{key:"loadbucket",value:function(){var e=this;if(this.inLoadArea){var n=this.buckets.shift();if(!n)return this.canPlayThrough=!0,void this.trigger(t.LOADING_COMPLETE);var i=[];n.forEach(function(t){var n=new Promise(function(n,i){e.loadImage(t,n)});i.push(n)}),Promise.all(i).then(this.loadbucket.bind(this))}}},{key:"renderIndex",value:function(e){if(this.images[e])return void this.drawImage(e);for(var t=Number.MAX_SAFE_INTEGER,n=e;n>0;n--)if(this.images[n]){t=n;break}for(var i=Number.MAX_SAFE_INTEGER,r=e;r<this.images.length;r++)if(this.images[r]){i=r;break}this.images[t]&&Math.abs(e-t)<=Math.abs(e-i)?this.drawImage(t):this.images[i]&&this.drawImage(i)}},{key:"drawImage",value:function(e){this.displayIndex=e,this.ctx.drawImage(this.images[this.displayIndex],0,0)}},{key:"setSize",value:function(e,t){this.canvas.width=e*this.retinaScale,this.canvas.height=t*this.retinaScale}},{key:"percent",get:function(){return this.desiredIndex/this.images.length},set:function(e){this.desiredIndex=Math.round(e*this.images.length),this.renderIndex(this.desiredIndex)}}]),t}(d);p.FIRST_IMAGE_LOADED="FIRST_IMAGE_LOADED",p.LOADING_COMPLETE="LOADING_COMPLETE",p.CAN_PLAY_THROUGH="CAN_PLAY_THROUGH",t.exports=p},{35:35}],199:[function(e,t,n){"use strict";t.exports=function(e){return{X:"xlarge",L:"large",M:"medium",S:"small"}[e]}},{}],200:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(119),p=e(107),m=e(234),y=function(e){function t(e){var n;r(this,t),n=a(this,u(t).call(this,e));var i=getComputedStyle(document.documentElement);return n.breakpoints={L:parseInt(i.getPropertyValue("--viewport-medium"))+1,M:parseInt(i.getPropertyValue("--viewport-small"))+1},n._pageMetrics=e.pageMetrics,n.currentBreakpoint=e.pageMetrics.breakpoint,n.overflowContainer=n.el.querySelector(".sticky-overflow"),n.cursor=n.el.querySelector(".cursor"),n.dock=n.el.querySelector(".dock"),n.imageDock=n.el.querySelector(".image-dock-bg"),n.imageScreen=n.el.querySelector(".image-screen"),n.ipadosBg=n.el.querySelector(".image-bg"),n.ipadosBgBlur=n.el.querySelector(".image-bg-blur"),n.photosIcon=n.el.querySelector(".image-icon-photos"),n.calendarIcon=n.el.querySelector(".image-icon-calendar"),n.notesIcon=n.el.querySelector(".image-icon-notes"),n.svg=n.el.querySelector("svg"),n.path=n.el.querySelector("path"),n.startOffset=JSON.parse(n.cursor.getAttribute("data-start-offset")),n.endOffset=JSON.parse(n.cursor.getAttribute("data-end-offset")),n.headlineContainer=n.el.querySelector(".cursor-headline"),n.cursorCopyContainer=n.el.querySelector(".cursor-copy"),n.deviceContainer=n.el.querySelector(".device-container"),n.screenContainer=n.el.querySelector(".screen-container"),n.sectionElem=document.querySelector(".section-ipados"),n.previousSectionElem=document.querySelector(".section-magic-keyboard"),n.rightScreenVideo=n.el.querySelector(".inline-video-screen.right"),n.snipeAppears=n.el.querySelector(".snipes-ipados .image-snipe-appears"),n.snipeAdapts=n.el.querySelector(".snipes-ipados .image-snipe-adapts"),n.snipeEdits=n.el.querySelector(".snipes-ipados .image-snipe-edits"),n.imageHeightScale=77.3,n.imageWidthScale=81.4,n.translateXScale=.5/14.36,n.translateYScale=84.5/11.32,n.hardwareInitialScale="S"===n.currentBreakpoint?.4:.8,n.hardwareInitialY=(100-100*n.hardwareInitialScale)/2,n.baseExpression="a0t + 60vh",n.cursorWidth={L:13,M:10,S:8},n}return l(t,e),o(t,[{key:"createCopyKf",value:function(e){this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression),end:"".concat(this.baseExpression," + 40vh"),anchors:[this.sectionElem],x:[e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x,e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x],y:[e.bottom+this.startOffset[this.currentBreakpoint].y,e.bottom+this.startOffset[this.currentBreakpoint].y]
}),this.addKeyframe({el:this.headlineContainer,group:this.group,start:"".concat(this.baseExpression," + 45vh"),anchors:[this.sectionElem],cssClass:"fade-out",toggle:!0}),this.addKeyframe({el:this.cursorCopyContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh - 100h"),end:"".concat(this.baseExpression," + 180vh + 100h"),anchors:[this.sectionElem],y:["100h","-100h"]})}},{key:"createSVG",value:function(e,t){var n=e[this.inlineEnd]+this.startOffset[this.currentBreakpoint].x,i=e.bottom+this.startOffset[this.currentBreakpoint].y,r=t[this.inlineEnd]+this.endOffset.x,s=t.top+t.height/2+this.endOffset.y,o={L:{x:Math.min(100+this._pageMetrics.windowWidth-this.breakpoints.L,200)*this.direction,y:-70},M:{x:Math.min(100+this._pageMetrics.windowWidth-this.breakpoints.M,200)*this.direction,y:-70},S:{x:100*this.direction,y:-80}},a={L:{x:Math.min(250+this._pageMetrics.windowWidth-this.breakpoints.L,350)*this.direction,y:200},M:{x:Math.min(50+this._pageMetrics.windowWidth-this.breakpoints.M,150)*this.direction,y:100},S:{x:80*this.direction,y:50}};this.svg.setAttribute("viewBox","0 0 ".concat(this._pageMetrics.windowWidth," ").concat(this._pageMetrics.windowHeight)),this.path.setAttribute("d","M".concat(n+this.cursorWidth[this.currentBreakpoint]/2,",").concat(i+this.cursorWidth[this.currentBreakpoint]/2," C").concat(n+o[this.currentBreakpoint].x,",").concat(i+o[this.currentBreakpoint].y," ").concat(r+a[this.currentBreakpoint].x,",").concat(s+a[this.currentBreakpoint].y," ").concat(r,",").concat(s+10)),this.pathLength=this.path.getTotalLength()}},{key:"createScaling",value:function(){this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem],scale:["max(100vh/".concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w)"),this.hardwareInitialScale],x:["".concat(this.translateXScale,"w*max(100vh/").concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w)"),0],y:["".concat(this.translateYScale,"h*max(100vh/").concat(this.imageHeightScale,"h, 100vw/").concat(this.imageWidthScale,"w) + ").concat(this.offsetY),"-".concat(this.hardwareInitialY,"h - ").concat(this.offsetYSmall," - 50")],easeFunction:"easeOutSin"}),this.addKeyframe({el:this.ipadosBgBlur,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 160vh"),anchors:[this.sectionElem],opacity:[0,.99],easeFunction:"easeOutQuad"})}},{key:"createCursorAnimations",value:function(e,t,n){var i=this;this.addKeyframe({el:this.cursor,group:this.group,start:"a0t",end:"a0t + 1vh",anchors:[this.sectionElem],opacity:[0,1]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 39vh"),end:"".concat(this.baseExpression," + 40vh"),scale:[1,1],anchors:[this.sectionElem]}),this.addContinuousEvent({el:this.cursor,group:this.group,event:"animate-cursor",start:"".concat(this.baseExpression," + 40vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],progress:[0,1],opacity:[1,.4],pathLength:[0,this.pathLength],onDraw:function(e){var t=e.tweenProps.progress.current,n=i.path.getPointAtLength(e.tweenProps.pathLength.current);i.cursor.style.transform="translate(".concat(n.x-i.cursorWidth[i.currentBreakpoint]/2,"px, ").concat(n.y-i.cursorWidth[i.currentBreakpoint]/2,"px) scale(").concat(Math.min(1+t,1.5),")")}}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 140vh"),cssClass:"hide",toggle:!0,anchors:[this.sectionElem]}),this.addContinuousEvent({el:this.cursor,group:this.group,event:"morph-cursor",start:"".concat(this.baseExpression," + 108vh"),end:"".concat(this.baseExpression," + 110vh"),anchors:[this.sectionElem],radius:[50,22],onDraw:function(e){i.cursor.style.borderRadius="".concat(Math.round(e.tweenProps.radius.current),"%")}}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 140vh"),anchors:[this.sectionElem],cssClass:"shadow",toggle:!0});var r=this.path.getPointAtLength(this.pathLength);this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 110vh"),x:[r.x-this.cursorWidth[this.currentBreakpoint]/2,e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2],y:[r.y-this.cursorWidth[this.currentBreakpoint]/2,e.top+e.height/2-this.cursorWidth[this.currentBreakpoint]/2],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 105vh"),end:"".concat(this.baseExpression," + 110vh"),scale:[1.5,"110a1w/w"],opacity:[.4,.2],anchors:[this.sectionElem,this.notesIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 110vh"),end:"".concat(this.baseExpression," + 115vh"),x:[e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2,e.left+e.width/2-this.cursorWidth[this.currentBreakpoint]/2-5*this.direction],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),x:[n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2,n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2],scale:["a1w/w","110a1w/w"],anchors:[this.sectionElem,this.photosIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 120vh"),end:"".concat(this.baseExpression," + 125vh"),x:[n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2,n.left+n.width/2-this.cursorWidth[this.currentBreakpoint]/2-5*this.direction],anchors:[this.sectionElem]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),x:[t.left+t.width/2-this.cursorWidth[this.currentBreakpoint]/2,t.left+t.width/2-this.cursorWidth[this.currentBreakpoint]/2],scale:["a1w/w","110a1w/w"],anchors:[this.sectionElem,this.calendarIcon]}),this.addKeyframe({el:this.cursor,group:this.group,start:"".concat(this.baseExpression," + 135vh"),end:"".concat(this.baseExpression," + 140vh"),scale:["110a1w/w","a1w/w"],anchors:[this.sectionElem,this.calendarIcon]}),this.addDiscreteEvent({el:this.cursor,group:this.group,event:"switch-cursor-color",start:"".concat(this.baseExpression," + 135vh"),anchors:[this.sectionElem],onEvent:function(e){i.cursor.style.backgroundColor="#000000"},onEventReverse:function(e){i.cursor.style.backgroundColor="#ffffff"}})}},{key:"createDockAnimations",value:function(){this.addKeyframe({el:this.imageDock,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 90vh"),end:"".concat(this.baseExpression," + 100vh"),anchors:[this.sectionElem],y:[130,0]}),this.addKeyframe({el:this.imageDock,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],y:[0,130]}),this.addKeyframe({el:this.dock,group:this.group,start:"".concat(this.baseExpression," + 160vh"),anchors:[this.sectionElem],cssClass:"hide",toggle:!0}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],y:[0,130]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],y:[0,130]})}},{key:"createIconAnimations",value:function(){this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 100vh"),end:"".concat(this.baseExpression," + 110vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 110vh"),end:"".concat(this.baseExpression," + 115vh"),anchors:[this.sectionElem],x:[0,-5*this.direction]}),this.addKeyframe({el:this.notesIcon,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),anchors:[this.sectionElem],x:[-5*this.direction,0],scale:[1.1,1]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 115vh"),end:"".concat(this.baseExpression," + 120vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 120vh"),end:"".concat(this.baseExpression," + 125vh"),anchors:[this.sectionElem],x:[0,-5*this.direction]}),this.addKeyframe({el:this.photosIcon,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),anchors:[this.sectionElem],x:[-5*this.direction,0],scale:[1.1,1]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 125vh"),end:"".concat(this.baseExpression," + 130vh"),anchors:[this.sectionElem],scale:[1,1.1]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 135vh"),end:"".concat(this.baseExpression," + 140vh"),anchors:[this.sectionElem],scale:[1.1,1]})}},{key:"createScreenAnimations",value:function(e,t){var n=this;this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],opacity:[0,1]});var i="S"===this.currentBreakpoint?3:7,r=e.x+e.width/2-t.x-t.width/2-this.translateXScale*this.deviceContainer.offsetWidth/100,s=e.y+e.height/2-t.y-t.height/2-this.translateYScale*this.deviceContainer.offsetHeight/100,o="max(100vh/".concat(this.imageHeightScale,"a1h, 100vw/").concat(this.imageWidthScale,"a1w)");this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem,this.deviceContainer],x:["".concat(r,"/").concat(o),"".concat(r,"/").concat(o)],y:["".concat(s-this.offsetY,"/").concat(o),"(".concat(s-this.offsetY," - ").concat(.4*i*e.height,")/").concat(o)],scaleX:["".concat(e.width/t.width,"/").concat(o),"".concat(i," * ").concat(e.width/t.width,"/").concat(o)],scaleY:["".concat(e.height/t.height,"/").concat(o),"".concat(i," * ").concat(e.height/t.height,"/").concat(o)]}),this.addKeyframe({el:this.screenContainer,group:this.group,start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem,this.deviceContainer],x:["".concat(r,"/").concat(o),0],y:["(".concat(s-this.offsetY," - ").concat(.4*i*e.height,"px)/").concat(o),0],scaleX:["".concat(i," * ").concat(e.width/t.width,"/").concat(o),1],scaleY:["".concat(i," * ").concat(e.height/t.height,"/").concat(o),1],easeFunction:"easeOutSin"}),this.addContinuousEvent({el:this.screenContainer,group:this.group,event:"screen-border-radius",start:"".concat(this.baseExpression," + 150vh"),end:"".concat(this.baseExpression," + 180vh"),anchors:[this.sectionElem],radiusX:["css(--ipados-border-radius-x)",10],radiusY:["css(--ipados-border-radius-y)",10],easeFunction:"easeOutQuad",onDraw:function(e){n.screenContainer.style.borderRadius="".concat(Math.round(e.tweenProps.radiusX.current),"px/").concat(Math.round(e.tweenProps.radiusY.current),"px")}}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 140vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],scale:[1,i],y:[0,"-".concat(40*i,"h")]}),this.addKeyframe({el:this.calendarIcon,group:this.group,start:"".concat(this.baseExpression," + 145vh"),end:"".concat(this.baseExpression," + 150vh"),anchors:[this.sectionElem],opacity:[1,0]}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + 50"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"css(--ipados-padding-top) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"XL"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + 50"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"clamp(50vh - 50h, css(--ipados-padding-top), 50vh) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"M"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 180vh + (100a1h - 100vh + 40h + 50)"),end:"".concat(this.baseExpression," + 180vh + 100a1h"),anchors:[this.sectionElem,this.cursorCopyContainer],scale:[this.hardwareInitialScale,1.1],x:[0,"-34.5w"],y:[null,"css(--ipados-padding-top) - a1h + 5h"],easeFunction:"easeOutSin",breakpointMask:"S"}),this.addKeyframe({el:this.rightScreenVideo,group:this.group,start:"".concat(this.baseExpression," + 375vh"),anchors:[this.sectionElem],cssClass:"hide",toggle:!0}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"".concat(this.baseExpression," + 350vh"),end:"".concat(this.baseExpression," + 400vh"),anchors:[this.sectionElem],x:["-34.5w","34.5w"],easeFunction:"easeInOutSin"})}},{key:"createSnipeTriggerKeyframes",value:function(){this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[50,-100],breakpointMask:"XL"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[50,-50],breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[50,-50],breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[50,-50],breakpointMask:"M"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 455vh"),anchors:[this.sectionElem],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],y:[20,-20],breakpointMask:"S"}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.snipeAppears,group:this.group,start:"".concat(this.baseExpression," + 180vh + 100a1h"),end:"".concat(this.baseExpression," + 350vh"),anchors:[this.sectionElem,this.cursorCopyContainer],cssClass:"animation-trigger",toggle:!0}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"XLM"}),this.addKeyframe({el:this.snipeAdapts,group:this.group,start:"".concat(this.baseExpression," + 400vh"),end:"".concat(this.baseExpression," + 455vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"S"}),this.addKeyframe({el:this.snipeEdits,group:this.group,start:"".concat(this.baseExpression," + 455vh"),end:"".concat(this.baseExpression," + 510vh"),anchors:[this.sectionElem],cssClass:"fade-in",toggle:!0,breakpointMask:"S"})}},{key:"updateMargins",value:function(){var e=1.1*this.deviceContainer.offsetHeight,t=152,n=Math.max(e+t-this._pageMetrics.windowHeight,0);this.overflowContainer.style.paddingBottom="".concat(n,"px"),this.sectionElem.style.marginBottom="".concat(n,"px"),this.dock.style.bottom="".concat(n+15,"px"),this.anim.forceUpdate()}},{key:"clearMargins",value:function(){this.overflowContainer.style.paddingBottom=null,this.sectionElem.style.marginBottom=null,this.dock.style.bottom=null}},{key:"init",value:function(){this.group=f.createScrollGroup(this.el),this.group.name="Cursor",this.sectionRect=this.sectionElem.getBoundingClientRect(),this.sectionVH=this.sectionRect.height/this._pageMetrics.windowHeight,this.isRTL="rtl"===document.documentElement.getAttribute("dir"),this.inlineEnd=this.isRTL?"left":"right",this.inlineStart=this.isRTL?"right":"left",this.direction=this.isRTL?-1:1;var e=this.stickyBoundingBox(this.deviceContainer.getBoundingClientRect()),t=this.stickyBoundingBox(this.photosIcon.getBoundingClientRect()),n=this.stickyBoundingBox(this.imageScreen.getBoundingClientRect()),i=this.stickyBoundingBox(this.headlineContainer.getBoundingClientRect()),r=this.stickyBoundingBox(this.notesIcon.getBoundingClientRect()),s=this.stickyBoundingBox(this.calendarIcon.getBoundingClientRect());this.offsetY=this._pageMetrics.windowHeight/2-(e.y+.5*e.height),this.offsetYSmall="S"===this.currentBreakpoint?e.y-(this._pageMetrics.windowHeight-.4*e.height):0,this.updateMargins(),this.createCopyKf(i),this.createSVG(i,r),this.createScaling(),this.createCursorAnimations(r,s,t),this.createIconAnimations(),this.createDockAnimations(),this.createScreenAnimations(s,n),this.createSnipeTriggerKeyframes()}},{key:"calculateOffset",value:function(e){var t=0;return t=this.sectionRect.y<-this.sectionRect.height*(this.sectionVH-1)/this.sectionVH?e.y-this.sectionRect.y-this.sectionRect.height+this._pageMetrics.windowHeight:this.sectionRect.y<0?e.y:e.y-this.sectionRect.y}},{key:"stickyBoundingBox",value:function(e){var t=this.calculateOffset(e);return{x:e.x,y:t,top:t,bottom:e.height+t,left:e.left,right:e.right,width:e.width,height:e.height}}},{key:"mounted",value:function(){var e=this;p(function(){e.init()}),m.swap(this,{toDark:{start:"a0b",end:"a1t + 210vh",anchors:[this.previousSectionElem,this.sectionElem]}}),this.anim.on("before-anim-remove",function(){p(function(){e.clearMargins()})})}},{key:"onResizeDebounced",value:function(e){var t=this;this.group.remove().then(function(){e.breakpoint===t.currentBreakpoint&&t.init()})["catch"](function(e){})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=y},{107:107,119:119,140:140,234:234}],201:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e)||o(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(140),v=e(134),g=!1,b=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.options=e,n.numOfTransitions=0,n.mainTimeline={},n.scaleAppTimelines={},n.videoEl=n.el.querySelector("video"),n.endFrame=n.el.querySelector(".endframe"),n.deviceContainer=n.el.querySelector(".device-container"),n.contentTimeline=n.el.querySelector(".content-timeline.ar"),g=n.options.pageMetrics.windowWidth<736,n}return p(t,e),l(t,[{key:"mounted",value:function(){this._initAppSwitcherTimeline(),this._initCopyOpacity(),this._initCopyParallax(),this._setFixedPadding(this.options.pageMetrics)}},{key:"_initAppSwitcherTimeline",value:function(){var e=this,t=this.anim.createTimeGroup();t.name="Camera - AppSwitcher";var n=this.el.querySelector(".apps"),i=r(n.querySelectorAll(".screen"));this.numOfTransitions=i.length-1,this.videoFrame=0;var s="",o="",a=.2;this.chapters=[];var c=new Promise(function(r){for(var c=function(c){var u=.5,l=.6*u,h=.2,d=.2*u,f=l-2*d;s="".concat(c,"*100w + ").concat(c,"*10px"),o="(".concat(c,"+1) * 100w + (").concat(c,"+1)*10px"),t.addKeyframe(n,{start:a,end:a+l,x:[s,o]}),t.addKeyframe(i[c],{start:a,end:a+d,scale:[null,1]}),t.addKeyframe(i[c],{start:a+d+f,end:a+d+f+d,scale:[null,1]}),t.addKeyframe(i[c+1],{start:a,end:a+d,scale:[null,1]}),t.addKeyframe(i[c+1],{start:a+d+f,end:a+d+f+d,scale:[null,1]});var p=e.anim.createTimeGroup();p.name="app - ".concat(c);var m=p.addKeyframe({},{start:0,end:.8,progress:[a,a+l+h],easeFunction:"cubic-bezier(.56,.18,.58,.99)"});m.controller.on("draw",function(n){t.progress(n.tweenProps.progress.current),c===e.numOfTransitions-1&&r()}),e.chapters.push(p),a=a+l+h},u=0;u<e.numOfTransitions;u++)c(u)});c.then(function(){t.progress(0)})}},{key:"_initCopyOpacity",value:function(){var e=this;this.copyBlocks=r(this.el.querySelectorAll(".section-content .content-timeline .copy-wrap .feature-copyblock"));var t;this.copyBlocks.forEach(function(n,i){0!=i&&(e.addKeyframe({el:n.parentElement,start:"t - css(--content-timeline-height) - css(--localnav-height)",end:"t - css(--localnav-height) + 50h",cssClass:"fade-in",toggle:!0,anchors:[n]}),e.addDiscreteEvent({el:n.parentElement,start:"t - css(--content-timeline-height) - css(--localnav-height)",event:"play:".concat(i),onEvent:function(){t&&t.pause(),t=e.chapters[i-1],t.play(0)},onEventReverse:function(){t&&t.pause(),t=e.chapters[i-1],t.reverse(t.duration)},anchors:[n]}))})}},{key:"_initCopyParallax",value:function(){var e=this.el.querySelector(".shoot .feature-copyblock-subhead"),t=this.el.querySelector(".shoot .feature-copyblock-copy"),n=this.el.querySelector(".shoot .snipes"),i=[e,t,n];this._translateInCopy(i),this.anim.addKeyframe(this.el.querySelector(".cameras-snipe.image-overview-camera-cameras-snipe-take"),{start:"a0t - 37vh",end:"a0t - 12vh",y:["20px",0],breakpointMask:"S",anchors:[i[0]]});var r=this.el.querySelector(".depth .feature-copyblock-subhead"),s=this.el.querySelector(".depth .feature-copyblock-copy"),o=[r,s];this._translateInCopy(o)}},{key:"_translateInCopy",value:function(e){var t=this;e.forEach(function(n,i){t.anim.addKeyframe(n,{start:"a0t - 37vh",end:"a0t - 12vh",y:["20px + ".concat(i,"*20px"),0],breakpointMask:"MS",anchors:[e[0]]})})}},{key:"_setFixedPadding",value:function(e){var t=v.parse("h",{target:this.deviceContainer}),n=v.parse("h",{target:this.contentTimeline}),i=e.windowHeight,r=t+n;if(i<r){var s=(i-r)*-1;this.el.style.setProperty("--dynamic-offset","".concat(s,"px"))}else this.el.style.setProperty("--dynamic-offset","0px")}},{key:"onResizeDebounced",value:function(e){this._setFixedPadding(e)}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/);return!e||g}}]),t}(y);t.exports=b},{134:134,140:140}],202:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(119),p=(e(107),function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.snipeTransform=n.el.hasAttribute("data-snipe-transform"),n.snipeIn=JSON.parse(n.el.dataset.snipeIn),n.snipeOut=JSON.parse(n.el.dataset.snipeOut),n.anchor=n.el.dataset.anchor,n.triggerClassName="animation-trigger",n.snipeHasSprite=n.el.querySelector(".image-sprite"),n.anchor=document.querySelector(n.anchor),n.currentOpacity=0,n.keyFrameInit=!1,n}return l(t,e),o(t,[{key:"mounted",value:function(){this.triggerSpriteAnimation()}},{key:"_snipeKeyframe",value:function(e){var t=e==this.snipeIn?[0,1]:[1,0],n={el:this.el,opacity:t,anchors:[this.anchor]};for(var i in e)n[i]=e[i];return n}},{key:"triggerSpriteAnimation",value:function(){var e=this,t=f.addKeyframe(this.el,this._snipeKeyframe(this.snipeIn)),n=f.addKeyframe(this.el,this._snipeKeyframe(this.snipeOut));this.snipeTransform&&f.addKeyframe(this.el,{el:this.el,anchors:[this.anchor],start:this.snipeIn.start,end:this.snipeOut.end,y:[30,-30]}),this.snipeHasSprite&&([t,n].forEach(function(t){t.controller.on("draw",function(t){e.currentOpacity=t.tweenProps.opacity.current,!e.keyFrameInit&&e.currentOpacity>.5&&(e.keyFrameInit=!0,e.el.classList.add(e.triggerClassName)),0===e.currentOpacity&&(e.keyFrameInit=!1,e.el.classList.remove(e.triggerClassName))})}),f.addKeyframe(this.el,{start:this.snipeIn.start,end:this.snipeOut.end,cssClass:"show",toggle:!0,anchors:[this.anchor]}))}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d));t.exports=p},{107:107,119:119,140:140}],203:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e)||o(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(140),v=e(107),g=e(156),b=e(234),_=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.options=e,n.section=document.querySelector(".section-cameras"),n.cameraContainer=n.el.querySelector(".camera-container"),n.camera=n.el.querySelector(".camera"),n.cameraSystemHeadline=document.querySelector(".camera-system-headline"),n.cameraSensorHeadline=document.querySelector(".camera-sensor-headline"),n.cameraRareHeadline=document.querySelector(".camera-rare-headline"),n.cameraRotationTrigger=document.querySelector(".hardware-rotation-trigger"),n.cameraGutTrigger=document.querySelector(".camera-gut-trigger"),n.cameraZoomTrigger=document.querySelector(".camera-zoom-trigger"),n.lidarAnimationTrigger=document.querySelector(".lidar-animation-trigger"),n.videoWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-width")),n.videoHeight=parseInt(getComputedStyle(n.section).getPropertyValue("--video-height")),n.videoGutWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-gut-width")),n.videoRatio=n.videoWidth/n.videoHeight,n.setRatio(e.pageMetrics),n}return p(t,e),l(t,[{key:"mounted",value:function(){var e=this;this.HardwareRotation=this.gum.getComponentOfType("HardwareRotation");var t=this.anim.createTimeGroup();t.name="Camera Zoom",this.headlineFadeIn(),this.addContinuousEvent({start:"a0t + 50vh",end:"a0b",progress:[0,1],anchors:[this.cameraZoomTrigger],onDraw:function(e){t.progress(e.tweenProps.progress.current)}}),this.addKeyframe({start:"a0t",end:"a1b",cssClass:"show",toggle:!0,anchors:[this.cameraRotationTrigger,this.cameraZoomTrigger]}),[document.querySelector(".section-cameras .sticky-wrapper"),this.el.querySelector(".image-overview-camera-cameras-lidar")].forEach(function(t){e.anim.addKeyframe(t,{start:"a0b",cssClass:"fade-in",toggle:!0,anchors:[e.cameraSystemHeadline]})});var n=1;t.addKeyframe({},{start:0,end:1,length:[0,1]});var i="css(--base) * css(--ratio)/css(--gut-width)";this.HardwareRotation.once("updated:cssvar",function(){v(function(){e.scaleKeyframe=t.addKeyframe(e.camera,{start:0,end:1*n,y:[0,"-css(--ipad-right-end-y) + css(--center-lense-y)"],x:[0,"-css(--ipad-right-x) + css(--ipad-right-x) - css(--ipad-right-end-x)  + css(--center-lense-x)"],scale:[1,i],anchors:[e.cameraContainer]})})}),t.addKeyframe(this.el.querySelector(".camera-lense-gut"),{start:.3*n,end:.5*n,opacity:[0,1]}),b.swap(this,{toDark:{start:"a0b",end:"a1b",anchors:[this.cameraSystemHeadline,this.lidarAnimationTrigger]}})}},{key:"headlineFadeIn",value:function(){var e=[this.cameraGutTrigger.querySelector(".feature-copyblock-subhead"),this.cameraGutTrigger.querySelector(".feature-copyblock-copy")].concat(r(this.cameraGutTrigger.querySelectorAll("figure"))),t=[this.cameraSensorHeadline.querySelector(".feature-copyblock-subhead")].concat(r(this.cameraSensorHeadline.querySelectorAll(".feature-copyblock-copy")));
this.copyElementFadeIn(e),this.copyElementFadeIn(t),this.copyElementFadeIn([this.cameraRareHeadline])}},{key:"copyElementFadeIn",value:function(e){var t=this;e.forEach(function(n,i){t.anim.addKeyframe(n,{start:"a0t - 55vh",end:"a0t - 30vh",y:["20px + ".concat(i,"*20px"),0],anchors:[e[0]],breakpointMask:"ML"})}),this.anim.addKeyframe(g(e[0],"[data-anim-fade-in]"),{start:"a0t - 50vh",cssClass:"fade-in",toggle:!0,anchors:[e[0]]})}},{key:"setRatio",value:function(e){e.windowHeight*this.videoRatio<e.windowWidth?(this.section.style.setProperty("--base","100vw"),this.section.style.setProperty("--ratio",this.videoGutWidth/this.videoWidth)):(this.section.style.setProperty("--base","100vh"),this.section.style.setProperty("--ratio",this.videoGutWidth/this.videoHeight))}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(y);t.exports=_},{107:107,140:140,156:156,234:234}],204:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.ipad13=n.el.querySelector(".display-ipad-13-small"),n.introHeadline=n.el.querySelector(".subsection-display-intro-small [data-anim-fade-out]"),n.introScrim=n.el.querySelector(".subsection-display-hardware-small .display-screen-scrim"),n}return l(t,e),o(t,[{key:"mounted",value:function(){var e=".sticky-wrapper-hero-small";this.anim.addKeyframe(this.ipad13,{start:"a0t - 50vh",end:"a0b",cssClass:"will-change",breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.ipad13,{start:"a0t + 100vh - css(--lovalnav-height)",end:"a0t + 150vh",scale:["max(100vw/90w, 100vh/60h)",1],y:["-20h - 50vh",0],breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.introHeadline,{start:"a0t + 120vh",cssClass:"fade-out",toggle:!0,breakpointMask:"S",anchors:[e]}),this.anim.addKeyframe(this.introScrim,{start:"a0t + 100vh",end:"a0t + 120vh",opacity:[1,0],breakpointMask:"S",anchors:[e]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches||window.matchMedia("(max-height: 710px)").matches;return!!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],205:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.ipad11=n.el.querySelector(".display-sizes-ipad-11-small"),n.ipad13=n.el.querySelector(".display-sizes-ipad-13-small"),n.sizesAnchorElSelector=n.el,n.sizesSnipeLabels=n.el.querySelector(".display-size-labels-small"),n}return l(t,e),o(t,[{key:"mounted",value:function(){this.anim.addKeyframe(this.ipad13,{start:"a0t - 5vh",end:"a0t + 20vh",x:[0,"50w - 10px"],easeFunction:"easeInOutSin",breakpointMask:"S",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.ipad11,{start:"a0t - 5vh",end:"a0t + 20vh",x:[0,"-50a1w"],easeFunction:"easeInOutSin",breakpointMask:"S",anchors:[this.sizesAnchorElSelector,this.ipad13]}),this.anim.addKeyframe(this.sizesSnipeLabels,{start:"a0t + 5vh",end:"a0t + 20vh",cssClass:"fade-in",toggle:!0,breakpointMask:"S",anchors:[this.sizesAnchorElSelector]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches||window.matchMedia("(max-height: 710px)").matches;return!!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],206:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){return r(this,t),a(this,u(t).call(this,e))}return l(t,e),o(t,[{key:"mounted",value:function(){var e=this,t=".timeline-display-retina";this.addDiscreteEvent({start:"a0t - 35vh",event:"unlock-play",breakpointMask:"ML",anchors:[t],onEvent:function(){e.el.classList.add("unlock-play")}}),this.addDiscreteEvent({start:"a0t - 100vh",event:"unlock-reset",breakpointMask:"ML",anchors:[t],onEvent:function(){e.el.classList.remove("unlock-reset")},onEventReverse:function(){e.el.classList.add("unlock-reset"),e.el.classList.remove("unlock-play")}})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches;return!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],207:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.introHeadline=n.el.querySelector(".subsection-display-intro [data-anim-fade-out]"),n.introScrim=n.el.querySelector(".subsection-display-hardware .display-screen-scrim"),n.ipad11=n.el.querySelector(".sticky-wrapper-display .display-ipad-11"),n.ipad13=n.el.querySelector(".sticky-wrapper-display .display-ipad-13"),n.videoStartframeContainer=n.el.querySelector(".display-screen-startframes"),n.displayScreen=n.el.querySelector(".display-screen"),n.videoStartframeBlurred=n.el.querySelector(".display-video-startframe-blurred"),n.swipeBarUi=n.el.querySelector(".display-screen-unlocked .display-screen-bar"),n.retinaCopy=n.el.querySelector(".subsection-display-retina .feature-copyblock"),n.retinaCopy.setAttribute("data-anim-fade-in",""),n.snipesContainer=n.el.querySelector(".subsection-display-snipes"),n.sizesSnipeLabels=n.el.querySelector(".display-size-labels"),n.sizesAnchorElSelector=n.el.querySelector(".timeline-display-sizes"),n}return l(t,e),o(t,[{key:"mounted",value:function(){this.setupWillChangeKeyframes(),this.setupIntroKeyframes(),this.setupRetinaKeyframes(),this.setupSnipesKeyframes(),this.setupSizesKeyframes()}},{key:"setupWillChangeKeyframes",value:function(){var e=".timeline-display-intro";this.anim.addKeyframe(this.el,{start:"a0t - 100vh",end:"a0b + 150vh",cssClass:"will-change-hero",toggle:!0,breakpointMask:"ML",anchors:[e]})}},{key:"setupIntroKeyframes",value:function(){var e=".timeline-display-intro";this.anim.addKeyframe(this.ipad13,{start:"a0t - 10vh",end:"a0b",scale:["max(100vw/90w, 100vh/70h)","css(--intro-end-scale)"],y:["-50vh - 200px","50h - 50vh + 40vh"],easeFunction:"easeInOutQuad",breakpointMask:"L",anchors:[e]}),this.anim.addKeyframe(this.ipad13,{start:"a0t - 10vh",end:"a0b",scale:["max(100vw/90w, 100vh/66h)","css(--intro-end-scale)"],y:["-50vh - 220px","min(50h - 50vh + 40vh, 50h - 50vh + 400px)"],easeFunction:"easeInOutQuad",breakpointMask:"M",anchors:[e]}),this.anim.addKeyframe(this.introHeadline,{start:"a0t + 30vh",cssClass:"fade-out",toggle:!0,breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.introScrim,{start:"a0t + 10vh",end:"a0t + 30vh",opacity:[1,0],breakpointMask:"ML",anchors:[e]})}},{key:"setupRetinaKeyframes",value:function(){var e=".timeline-display-retina";this.anim.addKeyframe(this.ipad13,{start:"a0t",end:"a0b",scale:["css(--intro-end-scale)",1],y:[null,0],easeFunction:"easeInOutQuad",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.displayScreen,{start:"a0b - 25vh",end:"a0b + 10vh",y:[0,"-101h"],easeFunction:"linear",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.videoStartframeContainer,{start:"a0b - 25vh",end:"a0b + 10vh",y:[0,"30h"],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.videoStartframeBlurred,{start:"a0b - 25vh",end:"a0b - 5vh",opacity:[0,1],easeFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.swipeBarUi,{start:"a0b + 8vh",end:"a0b + 12vh",opacity:[0,1],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.retinaCopy,{start:"a0t - 40vh",end:"a0t + 40vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[e]})}},{key:"setupSnipesKeyframes",value:function(){var e=".timeline-display-snipes";this.anim.addKeyframe(this.snipesContainer,{start:"a0t - 20vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(this.snipesContainer,{start:"a0t + 50vh",cssClass:"fade-out",toggle:!0,breakpointMask:"L",anchors:[e]}),this.anim.addKeyframe(this.snipesContainer,{start:"a0t + 40vh",cssClass:"fade-out",toggle:!0,breakpointMask:"M",anchors:[e]})}},{key:"setupSizesKeyframes",value:function(){this.anim.addKeyframe(this.el,{start:"a0t - 75vh",anchors:[this.sizesAnchorElSelector],cssClass:"transform-origin-bottom",toggle:!0,breakpointMask:"ML"}),this.anim.addKeyframe(this.ipad13,{start:"a0t - 70vh",end:"a0t",x:[0,"css(--sizes-center-offset) - 50w"],breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.ipad11,{start:"a0t - 70vh",end:"a0t",x:[0,"(css(--sizes-center-offset) * -1) + 50w"],breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]}),this.anim.addKeyframe(this.sizesSnipeLabels,{start:"a0t - 30vh",end:"a0t",cssClass:"fade-in",toggle:!0,breakpointMask:"ML",anchors:[this.sizesAnchorElSelector]})}}],[{key:"IS_SUPPORTED",value:function(){var e=window.matchMedia("(max-width: 734px)").matches;return!e&&!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],208:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return{X:"xlarge",L:"large",M:"medium",S:"small"}[e]}var f=e(140),p=e(37),m=e(38),y=e(233),v={flow:"/flow/flow_manifest.json",mask:"/mask/mask_manifest.json"},g="/ac/ac-flow-micro/1/ac-flow-worker-min.js",b=function(e){function t(e){var n;r(this,t),n=a(this,u(t).call(this,e)),n.baseURL=n.el.dataset.baseUrl,n.anchor=n.el.dataset.anchor||n.el,n.alpha=n.el.dataset.alpha,n.duration=n.el.dataset.duration||1,n.retinaViewport=n.el.dataset.retina,n.canvas=n.el.querySelector("canvas"),n.startEnd=n.el.dataset.animStartend?JSON.parse(n.el.dataset.animStartend):{start:"a0t",end:"a0b - 100vh"};var i=Object.assign({progress:[0,n.duration],anchors:[n.anchor]},n.startEnd);return n.animOptions=Object.assign(i,n.el.dataset.anim),n.currentViewport=d(e.pageMetrics.breakpoint),n.inLoadArea=!1,n.multiplier=n.alpha?2:1,n}return l(t,e),o(t,[{key:"mounted",value:function(){var e=this;this.addDiscreteEvent({start:"a0t - 300vh",end:"a0b + 300vh",event:"load:flow",anchors:[this.anchor],onEnter:function(){e.inLoadArea=!0,e.initFlow()},onExit:function(){e.inLoadArea=!1,e.cleared=!0,e.flow.stopLoading(),e.flow.glCanvas.texturePool._objects=[],e.flow.glCanvas.texturePool._all=[],e.flow.glCanvas.texturePool.size=0}})}},{key:"initFlow",value:function(){if(this.flow){if(this.cleared=!1,!this.flow.manifest)return;return this.flow.glCanvas.modifyPoolSize(this.flow.manifest.frameCount*this.multiplier),void this.flow.startLoading()}var e=this.retinaViewport===this.currentViewport?this.currentViewport+"_2x":this.currentViewport,t="".concat(this.baseURL,"/").concat(e);this.alpha?this.createAlphaFlow(t):this.createFlow(t)}},{key:"createFlow",value:function(e){var t=this;this.flow=new m("".concat(e).concat(v.flow),this.canvas,30,"jpg",g),this.flow.startLoading(),this.flow.once(m.Events.ChapterFramesLoaded,function(){t.animKeyFrame=t.addContinuousEvent(Object.assign({group:t.anim.getGroupForTarget(t.el),el:{},onDraw:function(e){t.cleared||(t.flow.progress=e.tweenProps.progress.current)}},t.animOptions)),t.resize(),t.canvas.classList.add("visible"),t.trigger("canplay",t.el)}),this.flow.once(m.Events.ManifestReady,function(){t.flow.manifest=t.flow.manifest})}},{key:"createAlphaFlow",value:function(e){var t=this,n={url:"".concat(e).concat(v.flow),fps:30,extension:"jpg"},i={url:"".concat(e).concat(v.mask),fps:30,extension:"jpg"};this.flow=new p(n,i,this.canvas,g),this.flow.startLoading().then(function(){t.gum&&t.gum.keyframeGroupsActive&&(t.resize(),t.canvas.classList.add("visible"),t.animKeyFrame=t.addContinuousEvent(Object.assign({group:t.anim.getGroupForTarget(t.el),el:{},onDraw:function(e){t.cleared||(t.flow.progress=e.tweenProps.progress.current)}},t.animOptions)),t.trigger("canplay"))}),this.flow.once(m.Events.ManifestReady,function(e){t.flow.manifest=t.flow.colorFlow.manifest})}},{key:"resize",value:function(){this.retinaViewport===this.currentViewport&&(this.canvas.style.width="".concat(this.canvas.width/2,"px"),this.canvas.style.height="".concat(this.canvas.height/2,"px"))}},{key:"onBreakpointChange",value:function(e){this.canvas.classList.remove("visible")}},{key:"onResizeDebounced",value:function(){this.gum.keyframeGroupsActive||(document.documentElement.classList.remove("allow-hero"),this.canvas.classList.remove("visible"))}}],[{key:"IS_SUPPORTED",value:function(){return document.documentElement.classList.contains("allow-hero")?!!y()||(document.documentElement.classList.remove("allow-hero"),!1):!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(f);t.exports=b},{140:140,233:233,37:37,38:38}],209:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e)||o(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(140),v=e(158),g=e(86).createStandardModal,b=e(165),_=e(171),E=e(172),w=e(166),S=e(173),x=e(162),k=e(160),T=e(227),O=e(229),I=e(228),A=e(226),C=e(230),M=e(225),P=k.combine([{mixin:E,breakpointMask:"S"},{mixin:null,breakpointMask:"ML"}]),R=k.combine([{mixin:null,breakpointMask:"S"},{mixin:O,breakpointMask:"ML"}]),D=k.combine([{mixin:_,breakpointMask:"S"},{mixin:M,breakpointMask:"ML"}]),F=[T,w,S,P,C,b,x,A,R,D],N="data-mixin-gallery",L=function(e){function t(e){var n;return c(this,t),n=h(this,d(t).call(this,e)),n.galleryTrigger=n.el.querySelector("[".concat(e.galleryDataAttribute||N,"]")),n.galleryTrigger?(n.galleryEl=document.querySelector("#".concat(n.galleryTrigger.getAttribute(N))),n.modal={},n.gesturesInlineVideoComponents=[],n.gesturesGallery="",n.cachedCurrentItemIndex=0,n.currentBreakpoint=e.pageMetrics.breakpoint,n.setupGalleryTrigger=n._setupGalleryTrigger.bind(f(n)),n.isModalOpen=!1,n.isInlineVideoAvailable=n._isEnhanced(),n.anim.on("before-anim-remove",function(){n.isInlineVideoAvailable=!1}),n):h(n,!1)}return p(t,e),l(t,[{key:"staticMixins",value:function(){return F}},{key:"enhancedMixins",value:function(){return F.concat([I(this.gesturesInlineVideoComponents)])}},{key:"cacheCurrentSlide",value:function(){this.cachedCurrentItemIndex=this.gesturesGallery.currentItem.index}},{key:"createModal",value:function(){this.onWillOpen=this.onWillOpen.bind(this),this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.modal=g(this.galleryEl),this.modal.modalElement.classList.add("modal-gestures-gallery"),this.modal.on("willopen",this.onWillOpen),this.modal.on("open",this.onOpen),this.modal.on("close",this.onClose)}},{key:"onWillOpen",value:function(){this.isInlineVideoAvailable&&this.gesturesInlineVideoComponents.forEach(function(e){e.videoComponent.inLoadArea=!0,e.videoComponent.load()})}},{key:"onOpen",value:function(){if(!this.gesturesGallery){var e=this.isInlineVideoAvailable?this.enhancedMixins():this.staticMixins();this.createMixinGallery(e)}this.isModalOpen=!0,this.isInlineVideoAvailable||this.recalculateItemWidths(),this.gesturesGallery.addKeydownEventListener()}},{key:"onClose",value:function(){this.isModalOpen=!1,this.gesturesGallery.removeKeydownEventListener(),this.cacheCurrentSlide()}},{key:"createMixinGallery",value:function(e){var t=v.withMixins.apply(v,r(e));this.gesturesGallery=new t({el:this.galleryEl})}},{key:"recalculateItemWidths",value:function(){var e=this;if(this.cachedCurrentItemIndex&&(this.gesturesGallery._items.forEach(function(t){t.measure(),"S"===e.currentBreakpoint?t.x=t.width*t.index:(t.x=0,t.zIndex=t===e.gesturesGallery.currentItem?2:0)}),this.gesturesGallery.slideContainer)){var t=this.gesturesGallery.wrappedIndex(this.cachedCurrentItemIndex),n=this.gesturesGallery.convertSlideIndexToHorizontalPosition(t);this.gesturesGallery.position=this.gesturesGallery.target=n,this.gesturesGallery.slideContainer.style.transform="translate3d(".concat(-this.gesturesGallery.position,"px, 0,0)"),this.gesturesGallery.checkForSlideUpdate(!0)}}},{key:"_setupGalleryTrigger",value:function(){this.createModal(),this.modal.open()}},{key:"addGalleryTriggerListener",value:function(){this.galleryTrigger.addEventListener("click",this.setupGalleryTrigger)}},{key:"removeGalleryTriggerListener",value:function(){this.galleryTrigger.removeEventListener("click",this.setupGalleryTrigger)}},{key:"mounted",value:function(){return!!this.galleryTrigger&&(this.gesturesInlineVideoComponents=this.gum.getComponentsOfType("InlineVideo",this.galleryEl),void this.addGalleryTriggerListener())}},{key:"_isEnhanced",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}},{key:"onBreakpointChange",value:function(e){this.currentBreakpoint=e.breakpoint}},{key:"onResizeImmediate",value:function(){this.gesturesGallery&&!this.isModalOpen&&(this.gesturesGallery.currentIndex=this.cachedCurrentItemIndex)}},{key:"destroy",value:function(){this.removeGalleryTriggerListener()}}],[{key:"IS_SUPPORTED",value:function(){return!0}}]),t}(y);t.exports=L},{140:140,158:158,160:160,162:162,165:165,166:166,171:171,172:172,173:173,225:225,226:226,227:227,228:228,229:229,230:230,86:86}],210:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(134),p=e(107),m=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.ipad11=n.el.querySelector(".display-ipad-11"),n.ipad13=n.el.querySelector(".display-ipad-13"),n.cameraSection=document.querySelector(".section-cameras"),n.cameraSystemHeadline=document.querySelector(".camera-system-headline"),n.rationTrigger=document.querySelector(".hardware-rotation-trigger"),n.cameraZoomTrigger=document.querySelector(".camera-zoom-trigger"),n.currentBreakpoint=e.pageMetrics.breakpoint,n.cameraEnd={M:{x:"css(--ipad-right-x) + 50px",y:"max(0, (50vh-350))"},S:{x:"50w - 87.5vw/2 + 8px",y:"20vh + 20px"}},n}return l(t,e),o(t,[{key:"mounted",value:function(){var e=this;"S"===this.currentBreakpoint?this.DisplayZoom=this.gum.getComponentOfType("DisplaySizesSplitSmall"):this.DisplayZoom=this.gum.getComponentOfType("DisplayZoomSplit"),this.anim.addKeyframe(this.rationTrigger,{start:"t - 100vh + 40h",cssClass:"move-back",toggle:!0}),this.once("updated:cssvar",function(){e.anim.addKeyframe(e.ipad11,{start:"a0t - max(100vh, css(--max-height-large))",end:"a0t",x:["css(--ipad-left-x)","css(--ipad-left-x) - 100px"],y:[0,"-50vh -150h"],scale:[1,1.5],easeFunction:"cubic-bezier(0,.15,1,.59)",anchors:[e.rationTrigger]}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 100vh",end:"a0t - 80vh",x:["css(--ipad-right-x)",e.cameraEnd.M.x],y:[0,e.cameraEnd.M.y],anchors:[e.rationTrigger],breakpointMask:"M"}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 100vh",end:"a0t",y:[0,e.cameraEnd.S.y],anchors:[e.rationTrigger],breakpointMask:"S"}),e.anim.addKeyframe(e.ipad13,{start:"a0t - 40vh",end:"a0t",x:["css(--ipad-right-x)",e.cameraEnd.S.x],anchors:[e.rationTrigger],breakpointMask:"S"})});var t={start:"a0t - max(100vh, css(--max-height-large))",toggle:!0,anchors:[this.rationTrigger]};this.addDiscreteEvent(Object.assign({el:this.ipad11,cssClass:"show"},t)),this.addKeyframe({el:this.ipad13,start:"a0t - max(100vh, css(--max-height-large))",end:"a1b",cssClass:"show",toggle:!0,anchors:[this.rationTrigger,this.cameraSystemHeadline]}),this.addKeyframe({el:this.ipad13,start:"a0b - 10vh",cssClass:"transition",toggle:!0,anchors:[this.cameraSystemHeadline]}),this.addDiscreteEvent(Object.assign({el:this.DisplayZoom.ipad11,style:{on:{opacity:0}}},t)),this.addDiscreteEvent(Object.assign({el:this.DisplayZoom.ipad13,style:{on:{opacity:0}}},t)),p(function(){e.updateDevicesPosition()})}},{key:"updateDevicesPosition",value:function(){var e=this;this.ipad11.x=f.parse(this.DisplayZoom.ipad11._animInfo.controller.keyframes.x[0].jsonProps.x[1],{target:this.DisplayZoom.ipad11,anchors:[this.DisplayZoom.sizesAnchorElSelector,this.DisplayZoom.ipad13]}),this.ipad13.x=f.parse(this.DisplayZoom.ipad13._animInfo.controller.keyframes.x[0].jsonProps.x[1],{target:this.DisplayZoom.ipad13,anchors:[this.DisplayZoom.sizesAnchorElSelector]});var t={ipad11:"ipad-left",ipad13:"ipad-right"};if(["ipad11","ipad13"].forEach(function(n){e.cameraSection.style.setProperty("--".concat(t[n],"-x"),e[n].x+"px")}),"L"!==this.currentBreakpoint){var n=f.parse(this.cameraEnd[this.currentBreakpoint].y,{target:this.ipad13});this.cameraSection.style.setProperty("--ipad-right-end-y",n+"px");var i=f.parse(this.cameraEnd[this.currentBreakpoint].x,{target:this.ipad13});this.cameraSection.style.setProperty("--ipad-right-end-x",i+"px")}else this.cameraSection.style.setProperty("--ipad-right-end-y","0px"),this.cameraSection.style.setProperty("--ipad-right-end-x",this.ipad13.x+"px");this.trigger("updated:cssvar")}},{key:"onResizeDebounced",value:function(e){this.currentBreakpoint===e.breakpoint&&this.updateDevicesPosition()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=m},{107:107,134:134,140:140}],211:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(107),p=function(e){function t(e){var n;return r(this,t),n=a(this,c(t).call(this,e)),n.videoEl=n.el.querySelector("video")||n.el,n.pauseRelativeTo=n.el.dataset.pauseRelativeTo||n.el,n.replay=n.el.dataset.replay,n.autoReplay=n.el.hasAttribute("data-auto-replay"),n.customExpressions=n.el.dataset.anim?JSON.parse(n.el.dataset.anim):{},n.animOptions=Object.assign({start:"a0t - 50vh",end:"a0b + 100vh",anchors:[n.pauseRelativeTo]},n.customExpressions),n.replay&&(n.replayButton=document.querySelector('[data-replay-for="'.concat(n.videoEl.id,'"]')),n.replayButton.addEventListener("click",n._rePlay.bind(u(n)))),n}return l(t,e),o(t,[{key:"mounted",value:function(){var e=this;this.startFrame=this.el.querySelector("[data-video-startframe]"),this.endFrame=this.el.querySelector("[data-video-endframe]"),this.videoComponent=this.gum.getComponentOfType("VideoViewportSource",this.videoEl),this.videoComponent.video.addEventListener("ended",this._onMediaEnded.bind(this)),this.videoComponent.video.addEventListener("play",this._onPlay.bind(this)),this.autoReplay?this.addDiscreteEvent(Object.assign({event:"Video: Play - Auto Replay",onEnter:function(){return e.videoComponent.queueVideoPlayback()},onExit:function(){return e._reset()}},this.animOptions)):this.addDiscreteEvent(Object.assign({event:"Video: Play",onEnterOnce:function(){return e.videoComponent.queueVideoPlayback()},onExit:function(){return e._reset()}},this.animOptions))}},{key:"_reset",value:function(){var e=this;f(function(){e.videoComponent.pauseVideoPlayback(),
e.videoComponent.video.currentTime=0}),this._onMediaEnded()}},{key:"_onMediaEnded",value:function(){this.replayButton&&(this.replayButton.disabled=!1),this.endFrame&&(this.endFrame.classList.remove("hide"),this.videoComponent.video.classList.add("hide"))}},{key:"_onPlay",value:function(){this.startFrame&&this.startFrame.classList.add("hide"),this.videoComponent.video.classList.remove("hide")}},{key:"reset",value:function(){var e=this;f(function(){e.videoComponent.pauseVideoPlayback(),e.videoComponent.video.currentTime=0}),this.endFrame&&this.endFrame.classList.add("hide"),this.startFrame&&this.startFrame.classList.remove("hide")}},{key:"_rePlay",value:function(){this.replayButton&&(this.replayButton.disabled=!0),this.endFrame&&this.endFrame.classList.add("hide"),this.videoComponent.video.play()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{107:107,140:140}],212:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(134),p=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.focusElementsData=[{selector:n.el.querySelector(".section-display .subsection-display-retina .footnote a"),scrollAnchor:n.el.querySelector(".section-display .feature-copyblock.horizontal"),offset:20},{selector:n.el.querySelector(".section-magic-keyboard .footnote a"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .image-overview-keyboard-keyboard-snipe-magnet")},{selector:n.el.querySelector(".section-apple-pencil .create-copy .footnote a"),scrollAnchor:n.el.querySelector(".section-apple-pencil .section-content.create-copy"),attribute:"y",end:!0},{selector:n.el.querySelector(".section-portability .sticky-wrapper-portability .footnote a"),scrollAnchor:n.el.querySelector(".section-portability .portability-copyblock")},{selector:n.el.querySelector(".section-portability .connectivity-wrapper .footnote a"),scrollAnchor:n.el.querySelector(".section-portability .connectivity-copyblock"),attribute:"y",end:!0},{selector:n.el.querySelector(".section-hero .hero-headline"),scrollAnchor:n.el.querySelector(".section-hero .sticky-wrapper"),attribute:"load:flow",end:!0,vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-intro .column"),scrollAnchor:n.el.querySelector(".section-display .sticky-wrapper .display-ipad-13"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-intro .column"),scrollAnchor:n.el.querySelector(".section-display .sticky-wrapper .display-ipad-13"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-retina .section-content"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-retina .feature-copyblock.horizontal"),offset:20,vo:!0},{selector:n.el.querySelector(".section-display .subsection-display-hardware .display-size-labels"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",end:!0,offset:-20,vo:!0},{selector:n.el.querySelector(".section-display .display-snipe.display-snipe-accuracy"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",vo:!0},{selector:n.el.querySelector(".section-display .display-snipe.display-snipe-color-gamut"),scrollAnchor:n.el.querySelector(".section-display .subsection-display-hardware .display-ipad-13"),attribute:"x",vo:!0},{selector:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.shoot .copy-wrap"),scrollAnchor:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.shoot .copy-wrap"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.depth .copy-wrap"),scrollAnchor:n.el.querySelector(".section-cameras .sticky-app-switcher .content-timeline.depth .copy-wrap"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-performance .sticky-wrapper-performance .column"),scrollAnchor:n.el.querySelector(".section-performance .performance-content .feature-copyblock-copy"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-performance .performance-content .column-content-bionic .feature-copyblock-subhead"),scrollAnchor:n.el.querySelector(".section-performance .performance-hero.image-overview-performance-hero"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),scrollAnchor:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magic-typing .column"),scrollAnchor:n.el.querySelector(".image-snipe.image-overview-keyboard-keyboard-snipe-magnet"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magickeyboard-stand .endframe"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .image-overview-keyboard-keyboard-snipe-angle"),vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .magickeyboard-keyboard .image-snipe"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .magickeyboard-keyboard .flow-container"),attribute:"y",vo:!0},{selector:n.el.querySelector(".section-magic-keyboard .keyboard-backlit-trigger .backlit-copyblock"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .keyboard-backlit-trigger .backlit-copyblock"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-magic-keyboard .keyboard-trackpad-trigger .trackpad-copyblock"),scrollAnchor:n.el.querySelector(".section-magic-keyboard .keyboard-trackpad-trigger .trackpad-copyblock"),vo:!0,offset:function(){return f.parse("h",{target:this.selector})}},{selector:n.el.querySelector(".section-ipados .section-content.cursor-headline"),scrollAnchor:n.el.querySelector(".section-ipados .cursor"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".section-ipados .cursor-copy .feature-copyblock"),scrollAnchor:n.el.querySelector(".section-ipados .device-container .screen-container"),attribute:"y",kfNumber:1,end:!0,vo:!0},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-appears"),scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-appears"),vo:!0},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-adapts"),scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-adapts"),vo:!0,offset:20},{selector:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-edits"),scrollAnchor:n.el.querySelector(".section-ipados .snipes-ipados .image-snipe-edits"),vo:!0,offset:20},{selector:n.el.querySelector(".section-apple-pencil .height-container .feature-copyblock"),scrollAnchor:n.el.querySelector(".section-apple-pencil .height-container .create-copy"),attribute:"y",end:!0,vo:!0},{selector:n.el.querySelector(".section-apple-pencil .pencil-content .image-snipe.image-snipe-tap"),scrollAnchor:n.el.querySelector(".section-apple-pencil .pencil-content .image-snipe.image-snipe-tap"),attribute:"opacity",end:!0,vo:!0},{selector:n.el.querySelector(".section-portability .portability-snipes .portability-snipe-weight"),scrollAnchor:n.el.querySelector(".section-portability .portability-hero"),attribute:"x",end:!0,vo:!0},{selector:n.el.querySelector(".section-portability .connectivity-snipes .portability-snipe-wifi"),scrollAnchor:n.el.querySelector(".section-portability .portability-copyblock"),attribute:"y",end:!0,vo:!0}],n}return l(t,e),o(t,[{key:"onFocus",value:function(e,t){var n=this.focusElementsData[t].scrollAnchor,i=this.focusElementsData[t].end,r=this.focusElementsData[t].attribute||".fade-in",s=this.focusElementsData[t].offset||0,o=this.focusElementsData[t].kfNumber||0;if("function"==typeof s&&(s=this.focusElementsData[t].offset()),n._animInfo){var a=this.gum.anim.getControllerForTarget(n),c=a.getNearestKeyframeForAttribute(r,o),u=f.parse(c.jsonProps[i?"end":"start"],{target:this.focusElementsData[t].selector,anchors:c.anchors});window.scrollTo(0,Math.round(u+s))}}},{key:"mounted",value:function(){var e=this;this.focusElementsData.forEach(function(t,n){t.selector&&(t.vo&&t.selector.setAttribute("tabindex","-1"),t.selector.style.visibility="visible",t.selector.addEventListener("focus",function(i){"mouse"!==i.currentTarget.dataset.focusMethod&&e.onFocus(t.selector,n)}))})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{134:134,140:140}],213:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(199),p=e(198),m=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.allowVideoScrub=document.documentElement.classList.contains("video-scrub"),n.media=n.el.querySelector("video"),n.isRetina=window.devicePixelRatio>1&&n.media.dataset.enableRetina,n.allowVideoScrub||(n.imageSequence=new p({numImages:parseInt(n.el.dataset.sequence),numPadding:4,viewport:f(e.pageMetrics.breakpoint),retina:n.isRetina}),n.media=n.imageSequence.canvas),n.animationTrigger=document.querySelector(".lidar-animation-trigger"),n.section=document.querySelector(".section-cameras"),n.videoWidth=parseInt(getComputedStyle(n.section).getPropertyValue("--video-width")),n.videoHeight=parseInt(getComputedStyle(n.section).getPropertyValue("--video-height")),n.videoRatio=n.videoWidth/n.videoHeight,n.updateVideoScale(e.pageMetrics),n}return l(t,e),o(t,[{key:"mounted",value:function(){this.allowVideoScrub?this.setUpVideoScrub():this.setUpSequence()}},{key:"setUpVideoScrub",value:function(){var e=this;this.addKeyframe({el:this.media,start:"a0t",cssClass:"show",toggle:!0,anchors:[this.animationTrigger]}),this.addContinuousEvent({el:this.media,start:"a0t",end:"a0b - 100vh",event:"play-particle-video",progress:[0,1],anchors:[this.animationTrigger],onDraw:function(t){void 0!==e.media.currentTime&&e.media.duration&&(e.media.currentTime=t.tweenProps.progress.current*e.media.duration)}})}},{key:"setUpSequence",value:function(){var e=this;this.imageSequence.once(p.FIRST_IMAGE_LOADED,function(t){e.el.querySelector(".video-particles").appendChild(e.imageSequence.canvas),e.prepareAnimation()}),this.imageSequence.once(p.LOADING_COMPLETE,function(){return console.log("loading complete")}),this.imageSequence.loadImages()}},{key:"prepareAnimation",value:function(){var e=this;this.addKeyframe({el:this.media,start:"a0t",cssClass:"show",toggle:!0,anchors:[this.animationTrigger]}),this.anim.addKeyframe(this.imageSequence,{percent:[0,1],start:"a0t",end:"a0b - 100vh",event:"update:sequence",anchors:[this.animationTrigger]}),this.addDiscreteEvent({el:this.el,start:"a0t - 200vh",end:"a0b",event:"load:sequence",anchors:[this.animationTrigger],onEnter:function(){e.imageSequence.inLoadArea=!0,e.imageSequence.loadbucket()},onExit:function(){e.imageSequence.inLoadArea=!1}})}},{key:"updateVideoScale",value:function(e){e.windowHeight*this.videoRatio<e.windowWidth?this.media.classList.remove("video-cover"):this.media.classList.add("video-cover")}},{key:"onResizeDebounced",value:function(e){this.updateVideoScale(e)}},{key:"onBreakpointChange",value:function(e){}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=m},{140:140,198:198,199:199}],214:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e)||o(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=e(140),v=(e(107),e(156)),g=e(234),b=function(e){function t(e){var n;return c(this,t),n=h(this,f(t).call(this,e)),n.angleCanvas=n.el.querySelector(".magickeyboard-angle canvas"),n.keyboardCanvas=n.el.querySelector(".magickeyboard-keyboard canvas"),n.standTrigger=document.querySelector("#section-magic-keyboard .stand-trigger"),n.angleTrigger=document.querySelector("#section-magic-keyboard .angle-trigger"),n.keyboardTrigger=document.querySelector("#section-magic-keyboard .keyboard-trigger"),n.snipeDesign=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-design"),n.snipeMagnet=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-magnet"),n.snipeAngle=n.el.querySelector(".image-overview-keyboard-keyboard-snipe-angle"),n.bg=n.el.querySelector(".section-magic-keyboard .bg"),n.magicTyping=n.el.querySelector(".magic-typing [data-anim-fade-in]"),n.angleKeyline=n.el.querySelector(".magickeyboard-angle .keyline"),n.endFrame=n.el.querySelector(".endframe"),n.keyboardBacklitAnchor=n.el.querySelector(".keyboard-backlit-trigger"),n.keyboardBackLitCopyblock=n.el.querySelector(".backlit-copyblock"),n.keyboardTrackpadAnchor=n.el.querySelector(".keyboard-trackpad-trigger"),n.keyboardTrackpadCopyblock=n.el.querySelector(".trackpad-copyblock"),n.keyboardTrackpadImage=n.el.querySelector(".keyboard-trackpad .image-overview-keyboard-keyboard-trackpad"),n.ipadOS=document.querySelector(".section-ipados"),n}return p(t,e),l(t,[{key:"mounted",value:function(){this.setupStandKeyframes(),this.setupAngleKeyframes(),this.setupKeyboardKeyframes(),this.setupBackLitKeyframes(),this.setupTrackpadKeyframes(),g.swap(this,{toDark:{start:"a0t - 60vh",end:"a1t - 100vh",anchors:[this.keyboardTrigger,this.keyboardTrackpadAnchor]}}),this.addKeyframe({el:this.ipadOS,start:"a0t",end:"a1b - 100vh",cssClass:"hidden",toggle:!0,anchors:[document.documentElement,this.keyboardTrackpadAnchor]})}},{key:"setupStandKeyframes",value:function(){var e=this,t=r(document.querySelector(".stand-trigger .column").children);t.forEach(function(n,i){e.addKeyframe({el:n,start:"a0t - css(--localnav-height) - 55vh",end:"a0t - css(--localnav-height) - 35vh",y:["20px + ".concat(i,"* 20px"),0],anchors:[t[0]],breakpointMask:"ML"})}),this.addKeyframe({el:v(t[0],"[data-anim-fade-in]"),start:"t - css(--localnav-height)- 55vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML"}),this.standOnSmall(),this.addKeyframe({start:"a0t - 100vh",cssClass:"show",toggle:!0,anchors:[this.standTrigger]}),this.addKeyframe({el:this.magicTyping,start:"t + 50h - 50vh",cssClass:"fade-in",toggle:!0,breakpointMask:"ML"}),[this.snipeDesign,this.snipeMagnet].forEach(function(t){e.addKeyframe({el:t,start:"a0t + 50a0h - 50vh",end:"a0t",cssClass:"fade-in",toggle:!0,anchors:[e.magicTyping],breakpointMask:"ML"})}),this.addKeyframe({el:this.snipeAngle,start:"a0t",end:"a0t + 20a0h",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]})}},{key:"standOnSmall",value:function(){var e=this,t=this.el.querySelector(".keyboard-headline [data-anim-fade-in]");this.addKeyframe({el:t,start:"t - 50vh",end:"a0b - 80vh",cssClass:"fade-in",toggle:!0,anchors:[this.magicTyping],breakpointMask:"S"}),this.addKeyframe({el:this.magicTyping,start:"a0t",cssClass:"fade-in",toggle:!0,anchors:[t],breakpointMask:"S"}),[this.snipeDesign,this.snipeMagnet].forEach(function(n){e.addKeyframe({el:n,start:"a0t",cssClass:"fade-in",toggle:!0,anchors:[t],breakpointMask:"S"})})}},{key:"setupAngleKeyframes",value:function(){this.addKeyframe({el:this.endFrame,start:"a0t",cssClass:"hide",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.snipeAngle,start:"a0t",end:"a0t + 20a0h",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.angleCanvas,start:"a0t",end:"a0b -100vh",cssClass:"show",toggle:!0,anchors:[this.angleTrigger],breakpointMask:"ML"}),this.addKeyframe({el:this.angleCanvas,start:"a0t - 100vh",end:"a0b -100vh",cssClass:"show",toggle:!0,anchors:[this.angleTrigger],breakpointMask:"S"}),this.addKeyframe({el:this.angleKeyline,start:"a0t",end:"a0b - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.angleTrigger]}),this.addKeyframe({el:this.angleCanvas.parentElement,start:"a0b - 130vh",end:"a0b - 110vh",y:[0,"css(margin-top, a1)/2"],anchors:[this.angleTrigger,this.keyboardCanvas.parentElement],breakpointMask:"ML"})}},{key:"setupKeyboardKeyframes",value:function(){this.addKeyframe({el:this.keyboardCanvas,start:"a0t - 100vh",cssClass:"show",toggle:!0,anchors:[this.keyboardTrigger]}),this.addKeyframe({el:this.bg,start:"a0t - 60vh",end:"a1t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrigger,this.keyboardTrackpadAnchor]}),this.addKeyframe({el:this.keyboardCanvas.parentElement,start:"a0t - 90vh",end:"a0b - 150vh",x:[0,"css(--left-alignment)"],y:[0," -(100h - (100vh - css(--localnav-height)))/2 - css(--bottom-padding) + css(--bottom-alignment)"],anchors:[this.keyboardTrigger],breakpointMask:"ML"}),this.addKeyframe({el:this.keyboardCanvas.parentElement,start:"a0t - 100vh",end:"a0b - 150vh",x:[0,"css(--left-alignment)"],y:[0,"(100a1h - 100h) - css(--bottom-padding) + css(--bottom-alignment)"],anchors:[this.keyboardTrigger,this.el.querySelector(".sticky-wrapper-keyboard .sticky")],breakpointMask:"S"})}},{key:"setupBackLitKeyframes",value:function(){this.addKeyframe({el:this.keyboardBackLitCopyblock,start:"a0t - 100vh",end:"a1t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardBacklitAnchor,this.keyboardTrackpadAnchor]})}},{key:"setupTrackpadKeyframes",value:function(){this.addKeyframe({el:this.keyboardTrackpadImage,start:"a0t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrackpadAnchor]}),this.addKeyframe({el:this.keyboardTrackpadCopyblock,start:"a0t - 100vh",cssClass:"fade-in",toggle:!0,anchors:[this.keyboardTrackpadAnchor]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(y);t.exports=b},{107:107,140:140,156:156,234:234}],215:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(107),p=function(e){function t(e){var n;return r(this,t),n=a(this,c(t).call(this,e)),n._pageMetrics=e.pageMetrics,n.currentBreakpoint=e.pageMetrics.breakpoint,n.overflowContainer=n.el.querySelector(".sticky-overflow"),n.copyContainer=n.el.querySelector(".intro-copyblock"),n.introEyebrowContainer=n.el.querySelector(".pencil-intro-eyebrow"),n.introHeadlineContainer=n.el.querySelector(".pencil-intro-headline"),n.createCopy=n.el.querySelector(".create-copy"),n.deviceContainer=n.el.querySelector(".device-container"),n.screenContainer=n.el.querySelector(".screen-container"),n.heightContainer=n.el.querySelector(".height-container"),n.pencilContent=document.querySelector(".pencil-content"),n.pencil=n.el.querySelector(".pencil-holder"),n.pencilVideoContainer=n.el.querySelector(".pencil-video-container"),n.pencilImage=n.el.querySelector(".image-pencil"),n.svg=n.el.querySelector("svg"),n.linePath=n.el.querySelector("path"),n.lineImage=n.el.querySelector("#line-image"),n.linePattern=n.el.querySelector("#line-pattern"),n.gondola=n.el.querySelector(".gondola"),n.gondolaImage=n.el.querySelector(".image-artwork-gondola"),n.mainBG=n.el.querySelector(".image-artwork-bg"),n.mountainFront=n.el.querySelector(".image-artwork-mountain-front"),n.mountainBack=n.el.querySelector(".image-artwork-mountain-back"),n.treeFront=n.el.querySelector(".image-artwork-tree-front"),n.treeBack=n.el.querySelector(".image-artwork-tree-back"),n.cloudsFront=n.el.querySelector(".image-artwork-clouds-front"),n.cloudsMid=n.el.querySelector(".image-artwork-clouds-mid"),n.cloudsBack=n.el.querySelector(".image-artwork-clouds-back"),n.birds=n.el.querySelector(".image-artwork-birds"),n.appLabel=n.el.querySelector("[data-anim-fade-in].app-label"),n.overlay=n.el.querySelector(".gradient-overlay"),n.pencilPill=n.el.querySelector(".image-pencil-pill"),n.artworkUI=n.el.querySelector(".image-artwork-ui"),n.clearMargins=n.clearMargins.bind(u(n)),n.baseExpression="a0t + 90vh",n}return l(t,e),o(t,[{key:"createCopyKeyframes",value:function(){this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t - 100vh",end:"a0t",anchors:[this.el],y:["-50vh + 100h",0]}),this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t",end:"a0t + 80vh",anchors:[this.el],y:[0,-80]}),this.addKeyframe({el:this.copyContainer,group:this.group,start:"a0t + 70vh",anchors:[this.el],cssClass:"fade-out",toggle:!0}),this.addKeyframe({el:this.createCopy,group:this.group,start:"".concat(this.baseExpression," + 70vh - 100h"),anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.createCopy,group:this.group,start:"".concat(this.baseExpression," + 70vh - 100h"),end:"".concat(this.baseExpression," + 70vh"),anchors:[this.el],y:["100h",0]}),this.addKeyframe({el:this.appLabel,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.overlay,group:this.group,start:"a0t + 100vh",anchors:[this.el],cssClass:"fade-in",toggle:!0}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t - 100vh",end:"a0t + 250vh",anchors:[this.el],cssClass:"will-change",toggle:!0})}},{key:"createPencilGondolaKeyframes",value:function(){var e=this,t=-120,n=12;this.animatePencilKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t + 20vh",end:"a0t + 50vh",anchors:[this.el],event:"animate-pencil",progress:[0,1],pathLength:[this.pathLength,0],rot:[t,30],breakpointMask:"XLM",onDraw:function(t){e.linePath.style.strokeDashoffset=t.tweenProps.pathLength.current;var i=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.pencil.style.transform="translate(".concat(i.x,"px, ").concat(i.y+n,"px) rotate(").concat(t.tweenProps.rot.current,"deg)")}}),this.animatePencilKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t + 20vh",end:"a0t + 50vh",anchors:[this.el],event:"animate-pencil-small",progress:[0,1],pathLength:[this.pathLength,0],rot:[t,30],breakpointMask:"S",onDraw:function(t){e.linePath.style.strokeDashoffset=t.tweenProps.pathLength.current;var i=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.pencil.style.transform="translate(".concat(i.x+4,"px, ").concat(i.y+n,"px) rotate(").concat(t.tweenProps.rot.current,"deg)")}}),this.pencilInKf=this.addContinuousEvent({el:this.pencil,group:this.group,start:"a0t",end:"a0t + 20vh",event:"pencil-in",anchors:[this.el],pathLen:[this.pathLength,0],onDraw:function(i){var r=e.linePath.getPointAtLength(i.tweenProps.pathLen.current);e.pencil.style.transform="translate(".concat(e.initialPoint.x-r.x,"px, ").concat(2*e.initialPoint.y-r.y+n,"px) rotate(").concat(t,"deg)")}}),this.gondolaInKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 50vh",end:"a0t + 80vh",event:"gondola-in",anchors:[this.el],pathLen:[this.pathLength,0],onDraw:function(t){var n=e.linePath.getPointAtLength(t.tweenProps.pathLen.current);e.gondola.style.transform="translate(".concat(2*e.initialPoint.x-n.x,"px, ").concat(-n.y,"px)")}}),this.gondolaKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 80vh",end:"a0t + 100vh",anchors:[this.el],event:"animate-gondola",progress:[0,1],pathLength:[this.pathLength,.625*this.pathLength],easeFunction:"easeOutSin",breakpointMask:"XLM",onDraw:function(t){var n=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.gondola.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)")}}),this.gondolaKf=this.addContinuousEvent({el:this.gondola,group:this.group,start:"a0t + 80vh",end:"a0t + 100vh",anchors:[this.el],event:"animate-gondola",progress:[0,1],pathLength:[this.pathLength,.6*this.pathLength],easeFunction:"easeOutSin",breakpointMask:"S",onDraw:function(t){var n=e.linePath.getPointAtLength(e.pathLength-t.tweenProps.pathLength.current);e.gondola.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)")}}),this.addContinuousEvent({el:this.gondolaImage,group:this.group,start:"a0t + 50vh",end:"a0t + 100vh",anchors:[this.el],event:"wiggle-gondola",progress:[0,1],rot:[0,4],onDraw:function(t){var n=3*Math.sin(Math.PI*t.tweenProps.rot.current);e.gondolaImage.style.transform="rotate(".concat(n,"deg)")}})}},{key:"createArtworkKeyframes",value:function(){this.addKeyframe({el:this.pencilImage,group:this.group,start:"a0t",end:"a0t + 100vh",anchors:[this.el,this.deviceContainer],scale:["1/max(100vh/90a1h, 100vw/90a1w)","1/max(100vh/90a1h, 100vw/90a1w)"]}),this.addKeyframe({el:this.mainBG,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.gondola,group:this.group,start:"a0t + 50vh",end:"a0t + 51vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainFront,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainBack,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.treeFront,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.treeBack,group:this.group,start:"a0t + 80vh",end:"a0t + 90vh",anchors:[this.el],opacity:[0,1]}),this.addKeyframe({el:this.mountainFront,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 20vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[60,0]}),this.addKeyframe({el:this.mountainBack,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 20vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[20,0]}),this.addKeyframe({el:this.treeFront,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[40,0]}),this.addKeyframe({el:this.treeBack,group:this.group,start:this.baseExpression,end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",y:[20,0]}),this.addKeyframe({el:this.cloudsFront,group:this.group,start:"".concat(this.baseExpression," + 10vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[40,0]}),this.addKeyframe({el:this.cloudsMid,group:this.group,start:"".concat(this.baseExpression," + 10vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[40,0]}),this.addKeyframe({el:this.cloudsBack,group:this.group,start:"".concat(this.baseExpression," + 20vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],y:[10,0]}),this.addKeyframe({el:this.birds,group:this.group,start:"".concat(this.baseExpression," + 5vh"),end:"".concat(this.baseExpression," + 30vh"),anchors:[this.el],easeFunction:"easeOutSin",opacity:[0,1],x:[50,0],y:[30,0]})}},{key:"updateSVG",value:function(){this.svg.setAttribute("viewBox","0 0 ".concat(this.screenContainer.offsetWidth," ").concat(this.screenContainer.offsetHeight)),this.linePath.setAttribute("d","M ".concat(.17*this.screenContainer.offsetWidth,",0\n      L ").concat(this.screenContainer.offsetWidth,",").concat(.42*this.screenContainer.offsetHeight)),this.lineImage.setAttribute("width",.83*this.screenContainer.offsetWidth),this.lineImage.setAttribute("height",.42*this.screenContainer.offsetHeight+6),this.pathLength=this.linePath.getTotalLength(),this.linePath.style.strokeDasharray=this.pathLength,this.initialPoint=this.linePath.getPointAtLength(0);
}},{key:"updateSectionRects",value:function(){this.sectionRect=this.el.getBoundingClientRect(),this.sectionVH=this.sectionRect.height/this._pageMetrics.windowHeight;var e=this.stickyBoundingBox(this.screenContainer.getBoundingClientRect());this.offsetY=this._pageMetrics.windowHeight/2-(e.y+.5*e.height),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t + 100vh",end:"a0t + 150vh",scale:["max(100vh/90h, 100vw/90w)",1],y:[this.offsetY,0],anchors:[this.el],breakpointMask:"XLM"}),this.addKeyframe({el:this.deviceContainer,group:this.group,start:"a0t + 100vh",end:"a0t + 150vh",scale:["max(100vh/90h, 100vw/90w)",1],x:[null,"50w - 50a1w + 6.25a1w"],y:[this.offsetY,0],anchors:[this.el,this.heightContainer],breakpointMask:"S"})}},{key:"createUIKeyframes",value:function(){this.addKeyframe({el:this.pencilPill,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"show",toggle:!0}),this.addKeyframe({el:this.artworkUI,group:this.group,start:"a0t + 150vh",anchors:[this.el],cssClass:"fade-in",toggle:!0})}},{key:"updateMargins",value:function(){var e=this.heightContainer.offsetHeight,t="S"===this.currentBreakpoint?95:146;this.overflowContainer.style.paddingBottom="".concat(2*(e-this._pageMetrics.windowHeight)+t,"px"),this.pencilContent.style.marginTop="".concat(e+t-this._pageMetrics.windowHeight,"px")}},{key:"calculateOffset",value:function(e){var t;return t=this.sectionRect.y<-this.sectionRect.height*(this.sectionVH-1)/this.sectionVH?e.y-this.sectionRect.y-this.sectionRect.height+this._pageMetrics.windowHeight:this.sectionRect.y<0?e.y:e.y-this.sectionRect.y}},{key:"stickyBoundingBox",value:function(e){var t=this.calculateOffset(e);return{x:e.x,y:t,top:t,bottom:e.height+t,left:e.left,right:e.right,width:e.width,height:e.height}}},{key:"clearMargins",value:function(){this.overflowContainer.style.paddingBottom=null,this.pencilContent.style.marginTop=null}},{key:"init",value:function(){this.group=this.anim.createScrollGroup(this.el),this.group.name="Pencil Animation",this.clearMargins(),this.updateMargins(),this.updateSectionRects(),this.updateSVG(),this.createCopyKeyframes(),this.createPencilGondolaKeyframes(),this.createArtworkKeyframes(),this.createUIKeyframes(),this.shaderComponent.createShaderKeyframes()}},{key:"mounted",value:function(){var e=this;this.shaderComponent=this.gum.getComponentOfType("ShaderPlayer",this.el),f(function(){e.init()}),this.anim.on("before-anim-remove",function(){f(function(){e.clearMargins()})})}},{key:"onResizeDebounced",value:function(e){var t=this;this.currentBreakpoint===e.breakpoint&&this.group.remove().then(function(){t.init()})["catch"](function(e){})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=p},{107:107,140:140}],216:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){return r(this,t),a(this,u(t).call(this,e))}return l(t,e),o(t,[{key:"mounted",value:function(){this.setupNotesKeyframes(),this.setupMarkupKeyframes()}},{key:"setupNotesKeyframes",value:function(){var e=".row-take-notes .feature-copyblock",t=document.querySelector(".row-take-notes .feature-copyblock-subhead"),n=document.querySelector(".row-take-notes .feature-copyblock-copy"),i=document.querySelector(".row-take-notes .feature-copyblock-cta");this.anim.addKeyframe(t,{start:"a0t - 80vh",end:"a0t - 50vh",y:["20px",0],anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 80vh",end:"a0t - 50vh",y:["40px",0],anchors:[e]}),i&&this.anim.addKeyframe(i,{start:"a0t - 80vh",end:"a0t - 50vh",y:["60px",0],anchors:[e]});var r=".row-take-notes",s=document.querySelector(".image-applepencil-notes");this.anim.addKeyframe(s,{start:"a0t - 100vh",end:"a0t - 10vh",x:["-62px",0],y:["300px",0],scale:[1.25,1],easeFunction:"easeOutSin",anchors:[r]})}},{key:"setupMarkupKeyframes",value:function(){var e=".row-mark-up .feature-copyblock",t=document.querySelector(".row-mark-up .feature-copyblock-subhead"),n=document.querySelector(".row-mark-up .feature-copyblock-copy"),i=document.querySelector(".image-snipe-tap");this.anim.addKeyframe(t,{start:"a0t - 80vh",end:"a0t - 60vh",y:["20px",0],anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 80vh",end:"a0t - 60vh",y:["40px",0],anchors:[e]}),this.anim.addKeyframe(i,{start:"a0t - 70vh",end:"a0t - 50vh",opacity:[0,1],anchors:[e]});var r=".row-mark-up",s=document.querySelector(".image-applepencil-markup");this.anim.addKeyframe(s,{start:"a0t - 100vh",end:"a0t - 30vh",x:["86px",0],y:["300px",0],scale:[1.25,1],easeFunction:"easeOutSin",anchors:[r]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],217:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){return r(this,t),a(this,u(t).call(this,e))}return l(t,e),o(t,[{key:"mounted",value:function(){this.setupWillChangeKeyframes(),this.setupAppKeyframes(),this.setupCopyKeyframes()}},{key:"setupWillChangeKeyframes",value:function(){var e=this,t=this.el.querySelectorAll(".performance-content .hardware");t.forEach(function(t){e.anim.addKeyframe(t,{start:"t - 150vh",end:"t",cssClass:"will-change"})})}},{key:"setupAppKeyframes",value:function(){var e=this.el.querySelector(".performance-hardware-proapp-skychildren");this.anim.addKeyframe(e,{start:"t - 120vh",end:"t - 50vh",y:["300px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(e,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var t=this.el.querySelector(".performance-hardware-proapp-morpholio"),n=this.el.querySelector(".performance-hardware-proapp-morpholio-small"),i=this.el.querySelector(".image-performance-pencil");this.el.querySelector(".image-performance-pencil-small");this.anim.addKeyframe(t,{start:"t - 110vh",end:"t - 40vh",y:["200px",0],scale:[1.2,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(i,{start:"a0t - 110vh",end:"a0t - 40vh",y:["100px",0],easeFunction:"easeOutSin",breakpointMask:"ML",anchors:[".performance-hardware-proapp-morpholio"]}),this.anim.addKeyframe(n,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var r=this.el.querySelector(".performance-hardware-proapp-word");this.anim.addKeyframe(r,{start:"t - 120vh",end:"t - 30vh",y:["200px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(r,{start:"t - 110vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var s=this.el.querySelector(".performance-hardware-proapp-adobe"),o=this.el.querySelector(".performance-hardware-proapp-adobe-small");this.anim.addKeyframe(s,{start:"t - 120vh",end:"t - 50vh",y:["300px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(o,{start:"t - 120vh",end:"t - 50vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"});var a=this.el.querySelector(".performance-hardware-multitasking");this.anim.addKeyframe(a,{start:"t - 110vh",end:"t - 40vh",y:["200px",0],scale:[1.25,1],breakpointMask:"ML",easeFunction:"easeOutSin"}),this.anim.addKeyframe(a,{start:"t - 110vh",end:"t - 40vh",y:["80px",0],scale:[1.2,1],breakpointMask:"S",easeFunction:"easeOutSin"})}},{key:"setupCopyKeyframes",value:function(){var e=".column-content-bionic .feature-copyblock",t=(this.el.querySelector(".column-content-bionic .feature-copyblock-subhead"),this.el.querySelector(".column-content-bionic .feature-copyblock-copy")),n=this.el.querySelector(".performance-snipe-graphics"),i=this.el.querySelector(".performance-snipe-pc");this.anim.addKeyframe(t,{start:"a0t - 100vh",end:"a0t - 65vh",y:["20px",0],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(n,{start:"a0t - 100vh",end:"a0t - 65vh",y:["40px",0],breakpointMask:"ML",anchors:[e]}),this.anim.addKeyframe(i,{start:"a0t - 100vh",end:"a0t - 65vh",y:["75px",0],breakpointMask:"ML",anchors:[e]});var r=".column-content-pro-apps .feature-copyblock",s=this.el.querySelector(".column-content-pro-apps .feature-copyblock-subhead"),o=this.el.querySelector(".column-content-pro-apps .feature-copyblock-copy");this.anim.addKeyframe(s,{start:"a0t - 100vh",end:"a0t - 40vh",y:["30px",0],breakpointMask:"ML",anchors:[r]}),this.anim.addKeyframe(o,{start:"a0t - 100vh",end:"a0t - 40vh",y:["60px",0],breakpointMask:"ML",anchors:[r]});var a=".column-content-multitasking-copy .feature-copyblock",c=this.el.querySelector(".column-content-multitasking-copy .feature-copyblock-subhead"),u=this.el.querySelector(".column-content-multitasking-copy .feature-copyblock-copy");this.anim.addKeyframe(c,{start:"a0t - 100vh",end:"a0t - 40vh",y:["30px",0],breakpointMask:"ML",anchors:[a]}),this.anim.addKeyframe(u,{start:"a0t - 100vh",end:"a0t - 40vh",y:["60px",0],breakpointMask:"ML",anchors:[a]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],218:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.heroAnchorSelector=".timeline-performance-hero",n.introHeadline=n.el.querySelector(".subsection-performance-intro [data-anim-fade-out]"),n.heroHardware=n.el.querySelector(".performance-hero"),n.heroHardwareCaption=n.el.querySelector(".subsection-performance-hero .hardware-app-label"),n}return l(t,e),o(t,[{key:"mounted",value:function(){this.setupIntroKeyframes(),this.setupZoomKeyframes()}},{key:"setupIntroKeyframes",value:function(){this.anim.addKeyframe(this.introHeadline,{start:"a0t + 50vh",cssClass:"fade-out",toggle:!0,anchors:[this.heroAnchorSelector]})}},{key:"setupZoomKeyframes",value:function(){this.anim.addKeyframe(this.heroHardware,{start:"a0t",end:"a0t + 100vh",scale:["max(100vw/87w, 100vh/82h)",1],y:["-5h",0],x:["-55w + css(--hero-x-offset)",0],easeFunction:"easeInOutSin",anchors:[this.heroAnchorSelector]}),this.anim.addKeyframe(this.heroHardwareCaption,{start:"a0t + 95vh",cssClass:"fade-in",toggle:!0,anchors:[this.heroAnchorSelector]}),this.anim.addKeyframe(this.el,{start:"a0t + 100vh",cssClass:"zoom-finished",toggle:!0,breakpointMask:"ML",anchors:[this.heroAnchorSelector]})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],219:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.hero=n.el.querySelector(".portability-hero"),n.introCopyblock=n.el.querySelector(".intro-copyblock"),n.portabilityCopyblock=n.el.querySelector(".portability-copyblock"),n.portabilitySnipes=n.el.querySelectorAll(".portability-snipes .portability-snipe"),n.connectivityHardware=n.el.querySelector(".connectivity-hardware"),n.connectivitySnipes=n.el.querySelectorAll(".connectivity-snipes .portability-snipe"),n.timelinePortability=".timeline-portability",n.timelineConnectivity=".timeline-connectivity",n}return l(t,e),o(t,[{key:"mounted",value:function(){this.createPortablityIntroKeyframes(),this.createPortablityTrigger(),this.createConnectivityTrigger(),this.createWillChangeKeyframe()}},{key:"createPortablityIntroKeyframes",value:function(){this.anim.addKeyframe(this.hero,{start:"a0t - 160vh",end:"a0t - 70vh",y:["100px","0px"],easeFunction:"easeOutQuad",anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.introCopyblock,{start:"a0t - 70vh",cssClass:"fade-out",toggle:!0,anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.introCopyblock,{start:"a0t - 160vh",end:"a0t - 60vh",y:["css(--intro-y-start)","css(--intro-y-end)"],anchors:[this.timelinePortability]})}},{key:"createPortablityTrigger",value:function(){var e=this;this.anim.addKeyframe(this.hero,{start:"a0t - 70vh",end:"a0t - 20vh",scale:[1,1.2],x:["css(--hero-x-start)","css(--hero-x-end)"],y:["0px","-60px"],easeFunction:"easeOutQuad",anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.portabilityCopyblock,{start:"a0t - 50vh",cssClass:"fade-in",toggle:!0,anchors:[this.timelinePortability]}),this.anim.addKeyframe(this.portabilityCopyblock,{start:"a0t - 50vh",end:"a0t - 20vh",y:["30px","0"],anchors:[this.timelinePortability]}),this.portabilitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 40vh",cssClass:"fade-in",toggle:!0,anchors:[e.timelinePortability]})})}},{key:"createConnectivityTrigger",value:function(){var e=this;this.anim.addKeyframe(this.connectivityHardware,{start:"a0t - 200vh",end:"a0t - 160vh",y:["200px","0"],scale:[2,1],easeFunction:"easeOutSin",breakpointMask:"L",anchors:[this.timelineConnectivity]}),this.anim.addKeyframe(this.connectivityHardware,{start:"a0t - 180vh",end:"a0t - 140vh",y:["200px","0"],scale:[2,1],easeFunction:"easeOutSin",breakpointMask:"MS",anchors:[this.timelineConnectivity]}),this.connectivitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 160vh",cssClass:"fade-in",toggle:!0,breakpointMask:"L",anchors:[e.timelineConnectivity]})}),this.connectivitySnipes.forEach(function(t){e.anim.addKeyframe(t,{start:"a0t - 140vh",cssClass:"fade-in",toggle:!0,breakpointMask:"M",anchors:[e.timelineConnectivity]})})}},{key:"createWillChangeKeyframe",value:function(){this.addKeyframe({start:"t - 100vh",end:"b + 100vh",cssClass:"will-change",toggle:!0})}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(d);t.exports=f},{140:140}],220:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(107),p=e(111),m=e(177),y=new m,v=e(4),g=null;try{g=e("@marcom/ac-analytics")}catch(b){}var _=function(e){function t(e){var n;return r(this,t),n=a(this,u(t).call(this,e)),n.body=n.gum.el,n}return l(t,e),o(t,[{key:"mounted",value:function(){v.detect(),this.showRibbon()}},{key:"showRibbon",value:function(){var e=this.body.querySelector(".ribbon-education-pricing.ribbon-hide");e&&setTimeout(function(){e.classList.remove("ribbon-hide")},1200)}},{key:"adjustLayoutForRibbonHeight",value:function(){var e=this.body.querySelector(".ribbon-education-pricing"),t=this.body.querySelector(".section-content");e?p(function(){var n=e.offsetHeight;f(function(){"small"===y.viewport?(t.style.marginTop=null,t.style.paddingTop=n+"px"):(t.style.paddingTop=null,t.style.marginTop=n+"px")})}):(t.style.paddingTop=null,t.style.marginTop=null)}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.classList;return!(e.contains("reduced-motion")||e.contains("aow"))}}]),t}(d);t.exports=_},{107:107,111:111,140:140,177:177,4:4,undefined:void 0}],221:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}var f=e(140),p=e(224),m=e(40),y=function(e){function t(e){var n;return r(this,t),n=a(this,c(t).call(this,e)),n.container=n.el.querySelector(".screen-container"),n.canvasContainer=n.el.querySelector(".canvas-container"),n.shaderColor="#F5F5F7",n.borderColor="#444444",n.shaderUniforms={progress:.5,borderThickness:.03,borderSmoothness:1,borderOpacity:.1,scale:2.4,smoothness:1e-4,noiseSeed:75,centerX:.5,centerY:.5},n.draw=n.draw.bind(u(n)),n.createCanvas(),n.setSize(e.pageMetrics),n.initShaderPlayer(),n.createShaderKeyframes(),n.draw(0),n}return l(t,e),o(t,[{key:"createCanvas",value:function(){this.canvas&&this.canvasContainer.removeChild(this.canvas),this.canvas=document.createElement("canvas"),this.canvas.id="artwork-canvas",this.canvasContainer.appendChild(this.canvas)}},{key:"createShaderKeyframes",value:function(){var e=this;this.addKeyframe({el:this.canvas,group:this.anim.getGroupForTarget(this.el),start:"a0t + 40vh",anchors:[this.el],cssClass:"show",toggle:!0}),this.addContinuousEvent({group:this.anim.getGroupForTarget(this.el),start:"a0t + 80vh",end:"a0t + 120vh",event:"reveal",progress:[0,1],anchors:[this.el],onDraw:function(t){e.draw(t.tweenProps.progress.current)}}),this.addKeyframe({el:this.shaderUniforms,group:this.anim.getGroupForTarget(this.el),start:"a0t + 88vh",end:"a0t + 90vh",borderThickness:[0,.03],anchors:[this.el]})}},{key:"initShaderPlayer",value:function(){this.igloo=new m(this.canvas),this.quad=this.igloo.array(m.QUAD2),this.program=this.igloo.program(p["quad.vert"],p["reveal.frag"])}},{key:"draw",value:function(e){this.program.use().uniform("resolution",[this.width,this.height]).uniform("progress",e).uniform("scale",this.shaderUniforms.scale).uniform("smoothness",this.shaderUniforms.smoothness).uniform("borderThickness",this.shaderUniforms.borderThickness).uniform("borderSmoothness",this.shaderUniforms.borderSmoothness).uniform("borderOpacity",this.shaderUniforms.borderOpacity).uniform("color",this.normalRGB(this.shaderColor)).uniform("borderColor",this.normalRGB(this.borderColor)).uniform("seed",this.shaderUniforms.noiseSeed).uniform("center",[this.shaderUniforms.centerX,this.shaderUniforms.centerY]).attrib("quad",this.quad,2).draw(this.igloo.gl.TRIANGLE_STRIP,m.QUAD2.length/2)}},{key:"setSize",value:function(e){var t=Math.max(e.windowHeight,e.windowWidth),n=this.container.offsetWidth;this.width=this.height=t,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="".concat(n,"px"),this.canvas.style.height="".concat(n,"px")}},{key:"normalRGB",value:function(e){var t=d(e);return t=t.map(function(e){return e/255}),t.push(1),t}},{key:"onResizeDebounced",value:function(e){this.igloo=this.program=this.width=this.height=null,this.createCanvas(),this.setSize(e),this.initShaderPlayer()}}],[{key:"IS_SUPPORTED",value:function(){return!0}}]),t}(f);t.exports=y},{140:140,224:224,40:40}],222:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=e(140),f=e(119),p=(e(125),function(e){function t(e){var n;return r(this,t),n=a(this,c(t).call(this,e)),n.isTiedToScroll=n.el.classList.contains("tied-to-scroll"),n.animationRunning=!1,n.animationEnded=!1,n.timeline={start:"t - 100vh + h",end:"t"},n.snipeEnter=n.snipeEnter.bind(u(n)),n.snipeExit=n.snipeExit.bind(u(n)),n}return l(t,e),o(t,[{key:"mounted",value:function(){this.isTiedToScroll?this.setAnimationTiedToScroll():this.setAnimationNotTiedToScroll()}},{key:"setAnimationTiedToScroll",value:function(){var e=this,t=window.getComputedStyle(this.el,null).getPropertyValue("animation-duration"),n=parseInt(t),i=0;this.el.style.animationDelay="0s";var r=f.addKeyframe(this.el,{start:this.timeline.start,end:this.timeline.end,progress:[0,100]});r.controller.on("draw",function(t){var r=t.tweenProps.progress.current,s=100/n,o=Math.round(r/s);i!=o&&(e.el.style.animationDelay="-".concat(o,"s")),i=o})}},{key:"setAnimationNotTiedToScroll",value:function(){this.el.style.animation="none",this.addDiscreteEvent({event:"snipe-animation",start:this.timeline.start,end:this.timeline.end,onEnter:this.snipeEnter,onExit:this.snipeExit})}},{key:"setAnimPlayState",value:function(e){this.animationEnded||(this.animationRunning=!0,this.el.style.animationPlayState=e)}},{key:"snipeEnter",value:function(){var e=this;this.animationRunning||(this.el.style.removeProperty("animation"),this.el.addEventListener("animationend",function(){e.setAnimPlayState("paused"),e.animationEnded=!0})),this.setAnimPlayState("running")}},{key:"snipeExit",value:function(){this.setAnimPlayState("paused")}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)|(\ssnipe-animations-supported)/)}}]),t}(d));t.exports=p},{119:119,125:125,140:140}],223:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return a(e)||o(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,s=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw s}}return n}}function a(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=p(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=m(e),null!==e););return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=e(140),b=e(199),_=3,E=function(e){function t(e){var n;if(c(this,t),n=h(this,m(t).call(this,e)),n.video=n.el,n.options=e.data||{},n.customExpressions=n.video.dataset.anim?JSON.parse(n.el.dataset.anim):{},n.animOptions=Object.assign({start:"t - 200vh",end:"b + 100vh"},n.customExpressions),n.isRetina=window.devicePixelRatio>1&&n.video.dataset.enableRetina,n.allowScrub=n.video.hasAttribute("data-scrub"),n.sources={},n.allowScrub&&document.documentElement.classList.contains("no-video-scrub"))return h(n);Object.entries(n.video.dataset).filter(function(e){var t=r(e,1),n=t[0];return 0===n.indexOf("src")}).forEach(function(e){var t=r(e,2),i=t[0],s=t[1],o=i.replace(/^src/,"").toLowerCase();""===n.isRetina&&(s=s.replace("".concat(o,".mp4"),"".concat(o,"_2x.mp4"))),n.isRetina&&(s=n.isRetina?s.replace("".concat(n.isRetina,".mp4"),"".concat(n.isRetina,"_2x.mp4")):s),n.sources[o]=s});var i;return Object.defineProperty(d(n),"currentViewport",{set:function(e){i=b(e),n.load(i)},get:function(){return i}}),n.currentViewport=e.pageMetrics.breakpoint,n.previousSource=null,n.inLoadArea=!1,n}return y(t,e),l(t,[{key:"mounted",value:function(){var e=this;f(m(t.prototype),"mounted",this).call(this),this.addDiscreteEvent(Object.assign({event:"Video: Load",onEnter:function(){e.inLoadArea=!0,e.load()},onExit:function(){e.inLoadArea=!1}},this.animOptions))}},{key:"onBreakpointChange",value:function(e){this.currentViewport=e.breakpoint}},{key:"load",value:function(e){if(this.inLoadArea){e=e||this.currentViewport;var t=this.sources[e];t&&t!==this.previousSource&&(this.video.autoplay=this.video.readyState>=_&&!this.video.paused,this.video.src=this.previousSource=t,this.video.load())}}},{key:"queueVideoPlayback",value:function(){var e=this;"function"==typeof this._onCanPlay&&this.video.removeEventListener("canplay",this._onCanPlay),this.video.readyState<_?(this._onCanPlay=function(){e.video.play(),e.video.removeEventListener("canplay",e._onCanPlay)},this.video.addEventListener("canplay",this._onCanPlay)):this.video.play()}},{key:"pauseVideoPlayback",value:function(){
this.video.paused||this.video.pause()}}],[{key:"IS_SUPPORTED",value:function(){return!document.documentElement.className.match(/(\sno-inline-video)|(\sreduced-motion)|(\sie)|(\sno-overview-enhanced)/)}}]),t}(g);t.exports=E},{140:140,199:199}],224:[function(e,t,n){"use strict";t.exports={"reveal.frag":"precision highp float;\n\nuniform vec2 resolution;\nuniform float progress;//0:1:0.47\nuniform vec4 color;\nuniform vec4 borderColor;\nuniform float scale;//0:100:2.38\nuniform float smoothness;//0:1:0.001\nuniform float borderSmoothness;\nuniform float borderThickness;\nuniform float borderOpacity;\nuniform float seed;//0:100:74.57\nuniform vec2 center;\n\nvec4 getBorderColor(){\n\treturn vec4(borderColor.rgb, borderOpacity);\n}\n\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nfloat random(vec2 co)\n{\n    highp float a = seed;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// 2D Noise based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    // vec2 u = f*f*(3.0-2.0*f);\n    vec2 u = smoothstep(0.,1.,f);\n\n    // Mix 4 corner percentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvec4 transition (vec2 uv) {\n  // Reveal to alpha\n  vec4 from = vec4(0., 0., 0., 0.);\n  vec4 to = color;\n  vec4 borderColor = getBorderColor();\n  float toPoint = (distance(uv, center)/ (1.0001 - (1. - progress)));\n  // 4 octaves of noise - https://www.shadertoy.com/view/lsf3WH\n  uv *= 8.0;\n  mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );\n  float n  = 0.5000*noise( uv * scale ); uv = m*uv;\n  n += 0.2500*noise( uv * scale ); uv = m*uv;\n  // n += 0.1250*noise( uv * scale ); uv = m*uv;\n  // n += 0.0625*noise( uv * scale ); uv = m*uv;\n\n  float d = ((2.0 * (1. - progress) + n) * toPoint * n);\n  float overOne = clamp(d, 0.0, 1.0);\n  float p = mix(-smoothness, 1.0 + smoothness, overOne);\n\n  float lower = p - smoothness;\n  float higher = p + smoothness;\n\n  float q = smoothstep(lower, higher, n);\n\n  // border\n  float d2 = (((2.0 + borderThickness) * (1. - progress) + n) * toPoint * n);\n  float overOne2 = clamp(0., 1., d2);\n  float p2 = mix(-smoothness, 1.0 + smoothness, overOne2);\n\n  float lower2 = p2 - smoothness*borderSmoothness;\n  float higher2 = p2 + smoothness*borderSmoothness;\n\n  float q2 = smoothstep(lower2, higher2, n);\n  to -= borderColor;\n  return mix(from, to, 1.0 - q) + mix(from, borderColor, 1.0 - q2);\n}\n\nvoid main() {\n  vec2 vUV = gl_FragCoord.xy/resolution.xy;\n  // gl_FragColor = color1 * noise(vUV);\n  gl_FragColor = transition(vUV);\n}","quad.vert":"attribute vec2 quad;\nvarying vec2 index;\n\nvoid main() {\n    index = (quad + 1.0) / 2.0;\n    gl_Position = vec4(quad, 0, 1);\n}\n"}},{}],225:[function(e,t,n){"use strict";var i=e(149),r=e(127);t.exports={mounted:function(){var e=this;this.el.classList.remove("peeking"),this._items.forEach(function(t){t.measure(),t.x=0,t.zIndex=t===e.currentItem?2:0}),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,previous:null,current:this.currentItem})},animateToItem:function(e){var t=this;if(this.currentIndex!==e&&this.currentIndex!==this.wrappedIndex(e)){this.el.parentElement.scrollLeft=0;var n=this.model.IsTouch?"easeOutCubic":"easeInOutCubic",s=this.model.PrefersReducedMotion?0:1;this.clip&&this.clip._isPlaying&&(n="easeOutQuint",this.clip.destroy());var o=this.selections.occurred.previous,a=this.selections.occurred.current,c=this._items[this.wrappedIndex(e)];c.opacity=0,o&&(o.zIndex=0),a&&(a.zIndex=1),c.zIndex=2;var u=!1;this.clip=new i(s,{ease:r[n],prepare:function(){return t.trigger(t.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:c})},update:function(e){e>.5&&!u&&(u=!0,t.currentIndex=c.index,t.trigger(t.model.Events.ITEM_CHANGE_OCCURRED,{gallery:t,current:c})),c.opacity=e},draw:function(){},finish:function(){t.trigger(t.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:c})}}),this.clip.play().then(function(){t.clip.destroy(),t.clip=null})}},onResizeImmediate:function(){this.clip&&(this.clip.destroy(),this.clip=null)},destroy:function(){this.clip&&this.clip.destroy(),this._items.forEach(function(e){e.zIndex=0})}}},{127:127,149:149}],226:[function(e,t,n){"use strict";var i=["INPUT","SELECT","TEXTAREA"],r=37,s=39;t.exports={created:function(e){this.onKeyDown=this.onKeyDown.bind(this),window.addEventListener("keydown",this.onKeyDown)},destroy:function(){window.removeEventListener("keydown",this.onKeyDown)},addKeydownEventListener:function(){window.addEventListener("keydown",this.onKeyDown)},removeKeydownEventListener:function(){window.removeEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){if(!this.inputHasFocus()&&(e.keyCode===r||e.keyCode===s)){var t=this.model.IsRTL?-1:1,n=e.keyCode===r?-1:1;this.lastInteractionEvent=e;var i=this.currentIndex+n*t;this.animateToItem(i)}},inputHasFocus:function(){return i.indexOf(document.activeElement.nodeName)!==-1}}},{}],227:[function(e,t,n){"use strict";t.exports={beforeCreate:function(){this.model.PrefersReducedMotion=document.documentElement.classList.contains("reduced-motion"),this.model.IsRTL="rtl"===document.documentElement.getAttribute("dir"),this.model.IsTouch="ontouchstart"in document.documentElement,this.model.SwipeDrag.DesktopSwipe=!0}}},{}],228:[function(e,t,n){"use strict";t.exports=function(e){return{onItemChangeInitiated:function(t){var n=e[t.next.index];n.reset()},onItemChangeCompleted:function(t){var n=e[t.current.index];n.videoComponent.queueVideoPlayback()}}}},{}],229:[function(e,t,n){"use strict";var i=e(149),r=e(133),s=e(126),o=function(e,t,n){return e*(n-t)+t},a=function(e,t,n){var i=n-t;return Math.max(Math.min(e,i),0)},c=.4;t.exports={onItemChangeInitiated:function(e){var t=this.tabNav.items[e.next.index],n=t.el.parentNode.offsetHeight,u=.5*n,l=t.el.parentNode.scrollHeight,h=t.el.offsetHeight,d=t.el.offsetTop,f=d+.5*h,p=Math.round(f-u),m=t.el.parentNode.scrollTop,y=new i(c,{ease:r.fromCSSString(s["ease-out"]),draw:function(e){var i=o(e,m,a(p,n,l));t.el.parentNode.scrollTop=i}});y.play().then(function(){y.destroy()})}}},{126:126,133:133,149:149}],230:[function(e,t,n){"use strict";t.exports={onItemChangeInitiated:function(e){var t=this.selections.initiated,n=t.current,i=t.next;n&&n!==i&&n.deselect(),i.select()}}},{}],231:[function(e,t,n){"use strict";t.exports={SnipeAnimation:e(222),FlowComponent:e(208),InlineVideo:e(211),DisplayUnlockSprite:e(206),DisplayZoomSplit:e(207),DisplayHeroZoomSmall:e(204),DisplaySizesSplitSmall:e(205),VideoViewportSource:e(223),AdaptiveCursor:e(200),PencilAnimation:e(215),PencilContent:e(216),ShaderPlayer:e(221),HardwareRotation:e(210),CameraZoom:e(203),LidarAnimation:e(213),AppSwitcher:e(201),PerformanceZoom:e(218),PerformanceContent:e(217),Portability:e(219),MagicKeyboard:e(214),ArrowAnimation:e(202),KeyboardAccessibility:e(212),GesturesGallery:e(209),Ribbon:e(220)}},{200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223}],232:[function(e,t,n){"use strict";var i=e(141),r=e(142),s=e(117),o=e(231),a=e(119),c=e(125),u=e(233),l=e(4),h=e(234),d={initialize:function(){Object.assign(r,o);var e=document.documentElement,t=getComputedStyle(e),n=320,d={},f={};d.small=parseInt(t.getPropertyValue("--viewport-vertical-small")),d.medium=parseInt(t.getPropertyValue("--viewport-vertical-medium")),f.small=parseInt(t.getPropertyValue("--viewport-small").replace("px","")),f.medium=parseInt(t.getPropertyValue("--viewport-medium").replace("px","")),c.BREAKPOINTS=[{name:"S",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(n,"px)\n\t\t\t\t\tand (max-height: ").concat(d.small,"px)")},{name:"S",mediaQuery:"only screen\n\t\t\t\t\tand (max-width: ".concat(f.small,"px)")},{name:"M",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(f.small+1,"px)\n\t\t\t\t\tand (max-height: ").concat(d.medium,"px)")},{name:"M",mediaQuery:"only screen\n\t\t\t\t\tand (max-width: ".concat(f.medium,"px)")},{name:"L",mediaQuery:"only screen\n\t\t\t\t\tand (min-width: ".concat(f.medium+1,"px)\n\t\t\t\t\tand (min-height: ").concat(d.medium+1,"px)")}];var p=document.querySelector("body"),m=new i(p);m.keyframeGroupsActive=!0;var y=function(){m.keyframeGroupsActive&&(m.anim.trigger("before-anim-remove"),m.anim.remove().then(function(){var t=e.querySelectorAll("[data-anim-lazy-image]");t.forEach(function(e){e.removeAttribute("data-anim-lazy-image")}),e.classList.add("no-overview-enhanced"),e.classList.remove("overview-enhanced"),h.switchToLight();var n=document.querySelector('[data-component-list="GesturesGallery"]'),i=m.components.filter(function(e){return"GesturesGallery"!==e.componentName});i.forEach(function(e,t){m.removeComponent(e)}),a.initialize(),a.ready.then(function(){var e=m.getComponentOfType("GesturesGallery");m.setupEvents(),e||(m.componentsInitialized=!0,m.addComponent({componentName:"GesturesGallery",el:n}))})["catch"](function(e){})})["catch"](function(e){}),m.keyframeGroupsActive=!1)};m.anim.on(c.EVENTS.ON_DOM_GROUPS_CREATED,function(){new s}),m.anim.on(c.PageEvents.ON_BREAKPOINT_CHANGE,function(e){y(),p.classList.remove("ac-theme-dark")}),m.anim.on(c.PageEvents.ON_RESIZE_DEBOUNCED,function(e){u(e)||y()}),window.addEventListener("resize:text-zoom",function(e){m.keyframeGroupsActive&&e.detail.getScale()>1&&y()}),l.detect()}};d.initialize()},{117:117,119:119,125:125,141:141,142:142,231:231,233:233,234:234,4:4}],233:[function(e,t,n){"use strict";var i=.45,r=function(e){var t=!0,n=e?e.windowWidth:window.innerWidth,r=e?e.windowHeight:window.innerHeight,s=["(max-width: 320px)","(max-width: 734px) and (max-height: 414px)","(max-width: 734px) and (min-height: 840px)","(min-width: 735px) and (max-height: 710px)"];return n/r<i&&(t=!1),s.forEach(function(e){window.matchMedia(e).matches&&(t=!1)}),t};t.exports=r},{}],234:[function(e,t,n){"use strict";var i=document.querySelector("body"),r="ac-theme-dark",s=function(){i.classList.add(r)},o=function(){i.classList.remove(r)},a=function(e,t){e.addDiscreteEvent({event:"localNavSwapDark-".concat(e.componentName),start:t.toDark.start,end:t.toDark.end,onEnter:function(){return s()},onExit:function(){return o()},anchors:t.toDark.anchors})};t.exports={swap:a,switchToLight:o,switchToDark:s}},{}]},{},[232]);